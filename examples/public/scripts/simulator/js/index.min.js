/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@arvin-shu/microcode-vue-simulator-renderer@1.0.8/dist/js/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue"),require("lodash-es"),require("@ant-design/icons-vue"),require("lodash")):"function"==typeof define&&define.amd?define(["vue","lodash-es","@ant-design/icons-vue","lodash"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).SimulatorRenderer=t(e.Vue,e._,e.iconsVue,e._)}(this,(function(e,t,n,r){"use strict";function o(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:{}}const i="function"==typeof Proxy;let s,a;function c(){return function(){var e;return void 0!==s||("undefined"!=typeof window&&window.performance?(s=!0,a=window.performance):"undefined"!=typeof globalThis&&(null===(e=globalThis.perf_hooks)||void 0===e?void 0:e.performance)?(s=!0,a=globalThis.perf_hooks.performance):s=!1),s}()?a.now():Date.now()}class l{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const t in e.settings){const r=e.settings[t];n[t]=r.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(o,t)}catch(e){}this.fallbacks={getSettings:()=>o,setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(e){}o=e},now:()=>c()},t&&t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function u(e,t){const n=e,r=o(),s=o().__VUE_DEVTOOLS_GLOBAL_HOOK__,a=i&&n.enableEarlyProxy;if(!s||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&a){const e=a?new l(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else s.emit("devtools-plugin:setup",e,t)}
/*!
      * vue-router v4.4.5
      * (c) 2024 Eduardo San Martin Morote
      * @license MIT
      */const h="undefined"!=typeof document;function p(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const f=Object.assign;function d(e,t){const n={};for(const r in t){const o=t[r];n[r]=y(o)?o.map(e):e(o)}return n}const m=()=>{},y=Array.isArray,g=/#/g,v=/&/g,_=/\//g,b=/=/g,E=/\?/g,w=/\+/g,S=/%5B/g,T=/%5D/g,R=/%5E/g,C=/%60/g,O=/%7B/g,P=/%7C/g,A=/%7D/g,H=/%20/g;function L(e){return encodeURI(""+e).replace(P,"|").replace(S,"[").replace(T,"]")}function N(e){return L(e).replace(w,"%2B").replace(H,"+").replace(g,"%23").replace(v,"%26").replace(C,"`").replace(O,"{").replace(A,"}").replace(R,"^")}function I(e){return null==e?"":function(e){return L(e).replace(g,"%23").replace(E,"%3F")}(e).replace(_,"%2F")}function B(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}const M=/\/$/;function k(e,t,n="/"){let r,o={},i="",s="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),o=e(i)),a>-1&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];".."!==o&&"."!==o||r.push("");let i,s,a=n.length-1;for(i=0;i<r.length;i++)if(s=r[i],"."!==s){if(".."!==s)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+r.slice(i).join("/")}(null!=r?r:t,n),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:B(s)}}function j(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function x(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!U(e[n],t[n]))return!1;return!0}function U(e,t){return y(e)?D(e,t):y(t)?D(t,e):e===t}function D(e,t){return y(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}const F={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var G,$;!function(e){e.pop="pop",e.push="push"}(G||(G={})),function(e){e.back="back",e.forward="forward",e.unknown=""}($||($={}));function V(e){if(!e)if(h){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(M,"")}const q=/^[^#]+#/;function J(e,t){return e.replace(q,"#")+t}function X(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function K(e,t){return(history.state?history.state.position-t:-1)+e}const W=new Map;function z(e=""){let t=[],n=[""],r=0;function o(e){r++,r!==n.length&&n.splice(r),n.push(e)}const i={location:"",state:{},base:e=V(e),createHref:J.bind(null,e),replace(e){n.splice(r--,1),o(e)},push(e,t){o(e)},listen:e=>(t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}),destroy(){t=[],n=[""],r=0},go(e,o=!0){const i=this.location,s=e<0?$.back:$.forward;r=Math.max(0,Math.min(r+e,n.length-1)),o&&function(e,n,{direction:r,delta:o}){const i={direction:r,delta:o,type:G.pop};for(const r of t)r(e,n,i)}(this.location,i,{direction:s,delta:e})}};return Object.defineProperty(i,"location",{enumerable:!0,get:()=>n[r]}),i}function Y(e){return"string"==typeof e||e&&"object"==typeof e}function Z(e){return"string"==typeof e||"symbol"==typeof e}const Q=Symbol("");var ee;function te(e,t){return f(new Error,{type:e,[Q]:!0},t)}function ne(e,t){return e instanceof Error&&Q in e&&(null==t||!!(e.type&t))}!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(ee||(ee={}));const re="[^/]+?",oe={sensitive:!1,strict:!1,start:!0,end:!0},ie=/[.+*?^${}()[\]/\\]/g;function se(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function ae(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const e=se(r[n],o[n]);if(e)return e;n++}if(1===Math.abs(o.length-r.length)){if(ce(r))return 1;if(ce(o))return-1}return o.length-r.length}function ce(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const le={type:0,value:""},ue=/[a-zA-Z0-9_]/;function he(e,t,n){const r=function(e,t){const n=f({},oe,t),r=[];let o=n.start?"^":"";const i=[];for(const t of e){const e=t.length?[]:[90];n.strict&&!t.length&&(o+="/");for(let r=0;r<t.length;r++){const s=t[r];let a=40+(n.sensitive?.25:0);if(0===s.type)r||(o+="/"),o+=s.value.replace(ie,"\\$&"),a+=40;else if(1===s.type){const{value:e,repeatable:n,optional:c,regexp:l}=s;i.push({name:e,repeatable:n,optional:c});const u=l||re;if(u!==re){a+=10;try{new RegExp(`(${u})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let h=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;r||(h=c&&t.length<2?`(?:/${h})`:"/"+h),c&&(h+="?"),o+=h,a+=20,c&&(a+=-8),n&&(a+=-20),".*"===u&&(a+=-50)}e.push(a)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");return{re:s,score:r,keys:i,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let e=1;e<t.length;e++){const r=t[e]||"",o=i[e-1];n[o.name]=r&&o.repeatable?r.split("/"):r}return n},stringify:function(t){let n="",r=!1;for(const o of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of o)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:s,optional:a}=e,c=i in t?t[i]:"";if(y(c)&&!s)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const l=y(c)?c.join("/"):c;if(!l){if(!a)throw new Error(`Missing required param "${i}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=l}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[le]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${l}": ${e}`)}let n=0,r=n;const o=[];let i;function s(){i&&o.push(i),i=[]}let a,c=0,l="",u="";function h(){l&&(0===n?i.push({type:0,value:l}):1===n||2===n||3===n?(i.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),l="")}function p(){l+=a}for(;c<e.length;)if(a=e[c++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(l&&h(),s()):":"===a?(h(),n=1):p();break;case 4:p(),n=r;break;case 1:"("===a?n=2:ue.test(a)?p():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--,u="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${l}"`),h(),s(),o}(e.path),n),o=f(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function pe(e,t){const n=[],r=new Map;function o(e,n,r){const a=!r,c=de(e);c.aliasOf=r&&r.record;const l=ve(t,e),u=[c];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(de(f({},c,{components:r?r.record.components:c.components,path:e,aliasOf:r?r.record:c})))}let h,p;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&r+u)}if(h=he(t,n,l),r?r.alias.push(h):(p=p||h,p!==h&&p.alias.push(h),a&&e.name&&!ye(h)&&i(e.name)),_e(h)&&s(h),c.children){const e=c.children;for(let t=0;t<e.length;t++)o(e[t],h,r&&r.children[t])}r=r||h}return p?()=>{i(p)}:m}function i(e){if(Z(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function s(e){const t=function(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;ae(e,t[o])<0?r=o:n=o+1}const o=function(e){let t=e;for(;t=t.parent;)if(_e(t)&&0===ae(e,t))return t;return}(e);o&&(r=t.lastIndexOf(o,r-1));return r}(e,n);n.splice(t,0,e),e.record.name&&!ye(e)&&r.set(e.record.name,e)}return t=ve({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:function(e,t){let o,i,s,a={};if("name"in e&&e.name){if(o=r.get(e.name),!o)throw te(1,{location:e});s=o.record.name,a=f(fe(t.params,o.keys.filter((e=>!e.optional)).concat(o.parent?o.parent.keys.filter((e=>e.optional)):[]).map((e=>e.name))),e.params&&fe(e.params,o.keys.map((e=>e.name)))),i=o.stringify(a)}else if(null!=e.path)i=e.path,o=n.find((e=>e.re.test(i))),o&&(a=o.parse(i),s=o.record.name);else{if(o=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!o)throw te(1,{location:e,currentLocation:t});s=o.record.name,a=f({},t.params,e.params),i=o.stringify(a)}const c=[];let l=o;for(;l;)c.unshift(l.record),l=l.parent;return{name:s,path:i,params:a,matched:c,meta:ge(c)}},removeRoute:i,clearRoutes:function(){n.length=0,r.clear()},getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function fe(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function de(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:me(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function me(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="object"==typeof n?n[r]:n;return t}function ye(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ge(e){return e.reduce(((e,t)=>f(e,t.meta)),{})}function ve(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function _e({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function be(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<n.length;++e){const r=n[e].replace(w," "),o=r.indexOf("="),i=B(o<0?r:r.slice(0,o)),s=o<0?null:B(r.slice(o+1));if(i in t){let e=t[i];y(e)||(e=t[i]=[e]),e.push(s)}else t[i]=s}return t}function Ee(e){let t="";for(let n in e){const r=e[n];if(n=N(n).replace(b,"%3D"),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}(y(r)?r.map((e=>e&&N(e))):[r&&N(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function we(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=y(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const Se=Symbol(""),Te=Symbol(""),Re=Symbol(""),Ce=Symbol(""),Oe=Symbol("");function Pe(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function Ae(e,t,n,r,o,i=e=>e()){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise(((a,c)=>{const l=e=>{!1===e?c(te(4,{from:n,to:t})):e instanceof Error?c(e):Y(e)?c(te(2,{from:t,to:e})):(s&&r.enterCallbacks[o]===s&&"function"==typeof e&&s.push(e),a())},u=i((()=>e.call(r&&r.instances[o],t,n,l)));let h=Promise.resolve(u);e.length<3&&(h=h.then(l)),h.catch((e=>c(e)))}))}function He(e,t,n,r,o=e=>e()){const i=[];for(const s of e)for(const e in s.components){let a=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if(p(a)){const c=(a.__vccOpts||a)[t];c&&i.push(Ae(c,n,r,s,e,o))}else{let c=a();i.push((()=>c.then((i=>{if(!i)throw new Error(`Couldn't resolve component "${e}" at "${s.path}"`);const a=(c=i).__esModule||"Module"===c[Symbol.toStringTag]||c.default&&p(c.default)?i.default:i;var c;s.mods[e]=i,s.components[e]=a;const l=(a.__vccOpts||a)[t];return l&&Ae(l,n,r,s,e,o)()}))))}}return i}function Le(t){const n=e.inject(Re),r=e.inject(Ce),o=e.computed((()=>{const r=e.unref(t.to);return n.resolve(r)})),i=e.computed((()=>{const{matched:e}=o.value,{length:t}=e,n=e[t-1],i=r.matched;if(!n||!i.length)return-1;const s=i.findIndex(j.bind(null,n));if(s>-1)return s;const a=Ie(e[t-2]);return t>1&&Ie(n)===a&&i[i.length-1].path!==a?i.findIndex(j.bind(null,e[t-2])):s})),s=e.computed((()=>i.value>-1&&function(e,t){for(const n in t){const r=t[n],o=e[n];if("string"==typeof r){if(r!==o)return!1}else if(!y(o)||o.length!==r.length||r.some(((e,t)=>e!==o[t])))return!1}return!0}(r.params,o.value.params))),a=e.computed((()=>i.value>-1&&i.value===r.matched.length-1&&x(r.params,o.value.params)));if(h){const n=e.getCurrentInstance();if(n){const r={route:o.value,isActive:s.value,isExactActive:a.value,error:null};n.__vrl_devtools=n.__vrl_devtools||[],n.__vrl_devtools.push(r),e.watchEffect((()=>{r.route=o.value,r.isActive=s.value,r.isExactActive=a.value,r.error=Y(e.unref(t.to))?null:'Invalid "to" value'}),{flush:"post"})}}return{route:o,href:e.computed((()=>o.value.href)),isActive:s,isExactActive:a,navigate:function(r={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(r)?n[e.unref(t.replace)?"replace":"push"](e.unref(t.to)).catch(m):Promise.resolve()}}}const Ne=e.defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Le,setup(t,{slots:n}){const r=e.reactive(Le(t)),{options:o}=e.inject(Re),i=e.computed((()=>({[Be(t.activeClass,o.linkActiveClass,"router-link-active")]:r.isActive,[Be(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive})));return()=>{const o=n.default&&n.default(r);return t.custom?o:e.h("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},o)}}});function Ie(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Be=(e,t,n)=>null!=e?e:null!=t?t:n;function Me(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const ke=e.defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:r}){const o=e.inject(Oe),i=e.computed((()=>t.route||o.value)),s=e.inject(Te,0),a=e.computed((()=>{let t=e.unref(s);const{matched:n}=i.value;let r;for(;(r=n[t])&&!r.components;)t++;return t})),c=e.computed((()=>i.value.matched[a.value]));e.provide(Te,e.computed((()=>a.value+1))),e.provide(Se,c),e.provide(Oe,i);const l=e.ref();return e.watch((()=>[l.value,c.value,t.name]),(([e,t,n],[r,o,i])=>{t&&(t.instances[n]=e,o&&o!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&j(t,o)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const o=i.value,s=t.name,u=c.value,p=u&&u.components[s];if(!p)return Me(r.default,{Component:p,route:o});const d=u.props[s],m=d?!0===d?o.params:"function"==typeof d?d(o):d:null,g=e.h(p,f({},m,n,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(u.instances[s]=null)},ref:l}));if(h&&g.ref){const e={depth:a.value,name:u.name,path:u.path,meta:u.meta};(y(g.ref)?g.ref.map((e=>e.i)):[g.ref.i]).forEach((t=>{t.__vrv_devtools=e}))}return Me(r.default,{Component:g,route:o})||g}}});function je(e,t){const n=f({},e,{matched:e.matched.map((e=>function(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}(e,["instances","children","aliasOf"])))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function xe(e){return{_custom:{display:e}}}let Ue=0;function De(t,n,r){if(n.__hasDevtools)return;n.__hasDevtools=!0;const o=Ue++;u({id:"org.vuejs.router"+(o?"."+o:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:t},(i=>{"function"!=typeof i.now&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.on.inspectComponent(((e,t)=>{e.instanceData&&e.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:je(n.currentRoute.value,"Current Route")})})),i.on.visitComponentTree((({treeNode:e,componentInstance:t})=>{if(t.__vrv_devtools){const n=t.__vrv_devtools;e.tags.push({label:(n.name?`${n.name.toString()}: `:"")+n.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:Ge})}y(t.__vrl_devtools)&&(t.__devtoolsApi=i,t.__vrl_devtools.forEach((t=>{let n=t.route.path,r=Je,o="",i=0;t.error?(n=t.error,r=Ke,i=We):t.isExactActive?(r=Ve,o="This is exactly active"):t.isActive&&(r=$e,o="This link is active"),e.tags.push({label:n,textColor:i,tooltip:o,backgroundColor:r})})))})),e.watch(n.currentRoute,(()=>{l(),i.notifyComponentUpdate(),i.sendInspectorTree(c),i.sendInspectorState(c)}));const s="router:navigations:"+o;i.addTimelineLayer({id:s,label:`Router${o?" "+o:""} Navigations`,color:4237508}),n.onError(((e,t)=>{i.addTimelineEvent({layerId:s,event:{title:"Error during Navigation",subtitle:t.fullPath,logType:"error",time:i.now(),data:{error:e},groupId:t.meta.__navigationId}})}));let a=0;n.beforeEach(((e,t)=>{const n={guard:xe("beforeEach"),from:je(t,"Current Location during this navigation"),to:je(e,"Target location")};Object.defineProperty(e.meta,"__navigationId",{value:a++}),i.addTimelineEvent({layerId:s,event:{time:i.now(),title:"Start of navigation",subtitle:e.fullPath,data:n,groupId:e.meta.__navigationId}})})),n.afterEach(((e,t,n)=>{const r={guard:xe("afterEach")};n?(r.failure={_custom:{type:Error,readOnly:!0,display:n?n.message:"",tooltip:"Navigation Failure",value:n}},r.status=xe("❌")):r.status=xe("✅"),r.from=je(t,"Current Location during this navigation"),r.to=je(e,"Target location"),i.addTimelineEvent({layerId:s,event:{title:"End of navigation",subtitle:e.fullPath,time:i.now(),data:r,logType:n?"warning":"default",groupId:e.meta.__navigationId}})}));const c="router-inspector:"+o;function l(){if(!u)return;const e=u;let t=r.getRoutes().filter((e=>!e.parent||!e.parent.record.components));t.forEach(et),e.filter&&(t=t.filter((t=>tt(t,e.filter.toLowerCase())))),t.forEach((e=>Qe(e,n.currentRoute.value))),e.rootNodes=t.map(ze)}let u;i.addInspector({id:c,label:"Routes"+(o?" "+o:""),icon:"book",treeFilterPlaceholder:"Search routes"}),i.on.getInspectorTree((e=>{u=e,e.app===t&&e.inspectorId===c&&l()})),i.on.getInspectorState((e=>{if(e.app===t&&e.inspectorId===c){const t=r.getRoutes().find((t=>t.record.__vd_id===e.nodeId));t&&(e.state={options:Fe(t)})}})),i.sendInspectorTree(c),i.sendInspectorState(c)}))}function Fe(e){const{record:t}=e,n=[{editable:!1,key:"path",value:t.path}];return null!=t.name&&n.push({editable:!1,key:"name",value:t.name}),n.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map((e=>`${e.name}${function(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}(e)}`)).join(" "),tooltip:"Param keys",value:e.keys}}}),null!=t.redirect&&n.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&n.push({editable:!1,key:"aliases",value:e.alias.map((e=>e.record.path))}),Object.keys(e.record.meta).length&&n.push({editable:!1,key:"meta",value:e.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map((e=>e.join(", "))).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),n}const Ge=15485081,$e=2450411,Ve=8702998,qe=2282478,Je=16486972,Xe=6710886,Ke=16704226,We=12131356;function ze(e){const t=[],{record:n}=e;null!=n.name&&t.push({label:String(n.name),textColor:0,backgroundColor:qe}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:Je}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:Ge}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:Ve}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:$e}),n.redirect&&t.push({label:"string"==typeof n.redirect?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:Xe});let r=n.__vd_id;return null==r&&(r=String(Ye++),n.__vd_id=r),{id:r,label:n.path,tags:t,children:e.children.map(ze)}}let Ye=0;const Ze=/^\/(.*)\/([a-z]*)$/;function Qe(e,t){const n=t.matched.length&&j(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=n,n||(e.__vd_active=t.matched.some((t=>j(t,e.record)))),e.children.forEach((e=>Qe(e,t)))}function et(e){e.__vd_match=!1,e.children.forEach(et)}function tt(e,t){const n=String(e.re).match(Ze);if(e.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(t))return e.children.forEach((e=>tt(e,t))),("/"!==e.record.path||"/"===t)&&(e.__vd_match=e.re.test(t),!0);const r=e.record.path.toLowerCase(),o=B(r);return!(t.startsWith("/")||!o.includes(t)&&!r.includes(t))||(!(!o.startsWith(t)&&!r.startsWith(t))||(!(!e.record.name||!String(e.record.name).includes(t))||e.children.some((e=>tt(e,t)))))}function nt(t){const n=pe(t.routes,t),r=t.parseQuery||be,o=t.stringifyQuery||Ee,i=t.history,s=Pe(),a=Pe(),c=Pe(),l=e.shallowRef(F);let u=F;h&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=d.bind(null,(e=>""+e)),g=d.bind(null,I),v=d.bind(null,B);function _(e,t){if(t=f({},t||l.value),"string"==typeof e){const o=k(r,e,t.path),s=n.resolve({path:o.path},t),a=i.createHref(o.fullPath);return f(o,s,{params:v(s.params),hash:B(o.hash),redirectedFrom:void 0,href:a})}let s;if(null!=e.path)s=f({},e,{path:k(r,e.path,t.path).path});else{const n=f({},e.params);for(const e in n)null==n[e]&&delete n[e];s=f({},e,{params:g(n)}),t.params=g(t.params)}const a=n.resolve(s,t),c=e.hash||"";a.params=p(v(a.params));const u=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(o,f({},e,{hash:(h=c,L(h).replace(O,"{").replace(A,"}").replace(R,"^")),path:a.path}));var h;const d=i.createHref(u);return f({fullPath:u,hash:c,query:o===Ee?we(e.query):e.query||{}},a,{redirectedFrom:void 0,href:d})}function b(e){return"string"==typeof e?k(r,e,l.value.path):f({},e)}function E(e,t){if(u!==e)return te(8,{from:t,to:e})}function w(e){return T(e)}function S(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=b(r):{path:r},r.params={}),f({query:e.query,hash:e.hash,params:null!=r.path?{}:e.params},r)}}function T(e,t){const n=u=_(e),r=l.value,i=e.state,s=e.force,a=!0===e.replace,c=S(n);if(c)return T(f(b(c),{state:"object"==typeof c?f({},i,c.state):i,force:s,replace:a}),t||n);const h=n;let p;return h.redirectedFrom=t,!s&&function(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&j(t.matched[r],n.matched[o])&&x(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(o,r,n)&&(p=te(16,{to:h,from:r}),Y(r,r,!0,!1)),(p?Promise.resolve(p):H(h,r)).catch((e=>ne(e)?ne(e,2)?e:z(e):J(e,h,r))).then((e=>{if(e){if(ne(e,2))return T(f({replace:a},b(e.to),{state:"object"==typeof e.to?f({},i,e.to.state):i,force:s}),t||h)}else e=M(h,r,!0,a,i);return N(h,r,e),e}))}function C(e,t){const n=E(e,t);return n?Promise.reject(n):Promise.resolve()}function P(e){const t=re.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function H(e,t){let n;const[r,o,i]=function(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const i=t.matched[s];i&&(e.matched.find((e=>j(e,i)))?r.push(i):n.push(i));const a=e.matched[s];a&&(t.matched.find((e=>j(e,a)))||o.push(a))}return[n,r,o]}(e,t);n=He(r.reverse(),"beforeRouteLeave",e,t);for(const o of r)o.leaveGuards.forEach((r=>{n.push(Ae(r,e,t))}));const c=C.bind(null,e,t);return n.push(c),ie(n).then((()=>{n=[];for(const r of s.list())n.push(Ae(r,e,t));return n.push(c),ie(n)})).then((()=>{n=He(o,"beforeRouteUpdate",e,t);for(const r of o)r.updateGuards.forEach((r=>{n.push(Ae(r,e,t))}));return n.push(c),ie(n)})).then((()=>{n=[];for(const r of i)if(r.beforeEnter)if(y(r.beforeEnter))for(const o of r.beforeEnter)n.push(Ae(o,e,t));else n.push(Ae(r.beforeEnter,e,t));return n.push(c),ie(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=He(i,"beforeRouteEnter",e,t,P),n.push(c),ie(n)))).then((()=>{n=[];for(const r of a.list())n.push(Ae(r,e,t));return n.push(c),ie(n)})).catch((e=>ne(e,8)?e:Promise.reject(e)))}function N(e,t,n){c.list().forEach((r=>P((()=>r(e,t,n)))))}function M(e,t,n,r,o){const s=E(e,t);if(s)return s;const a=t===F,c=h?history.state:{};n&&(r||a?i.replace(e.fullPath,f({scroll:a&&c&&c.scroll},o)):i.push(e.fullPath,o)),l.value=e,Y(e,t,n,a),z()}let U;function D(){U||(U=i.listen(((e,t,n)=>{if(!oe.listening)return;const r=_(e),o=S(r);if(o)return void T(f(o,{replace:!0}),r).catch(m);u=r;const s=l.value;var a,c;h&&(a=K(s.fullPath,n.delta),c={left:window.scrollX,top:window.scrollY},W.set(a,c)),H(r,s).catch((e=>ne(e,12)?e:ne(e,2)?(T(e.to,r).then((e=>{ne(e,20)&&!n.delta&&n.type===G.pop&&i.go(-1,!1)})).catch(m),Promise.reject()):(n.delta&&i.go(-n.delta,!1),J(e,r,s)))).then((e=>{(e=e||M(r,s,!1))&&(n.delta&&!ne(e,8)?i.go(-n.delta,!1):n.type===G.pop&&ne(e,20)&&i.go(-1,!1)),N(r,s,e)})).catch(m)})))}let $,V=Pe(),q=Pe();function J(e,t,n){z(e);const r=q.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function z(e){return $||($=!e,D(),V.list().forEach((([t,n])=>e?n(e):t())),V.reset()),e}function Y(n,r,o,i){const{scrollBehavior:s}=t;if(!h||!s)return Promise.resolve();const a=!o&&function(e){const t=W.get(e);return W.delete(e),t}(K(n.fullPath,0))||(i||!o)&&history.state&&history.state.scroll||null;return e.nextTick().then((()=>s(n,r,a))).then((e=>e&&X(e))).catch((e=>J(e,n,r)))}const Q=e=>i.go(e);let ee;const re=new Set,oe={currentRoute:l,listening:!0,addRoute:function(e,t){let r,o;return Z(e)?(r=n.getRecordMatcher(e),o=t):o=e,n.addRoute(o,r)},removeRoute:function(e){const t=n.getRecordMatcher(e);t&&n.removeRoute(t)},clearRoutes:n.clearRoutes,hasRoute:function(e){return!!n.getRecordMatcher(e)},getRoutes:function(){return n.getRoutes().map((e=>e.record))},resolve:_,options:t,push:w,replace:function(e){return w(f(b(e),{replace:!0}))},go:Q,back:()=>Q(-1),forward:()=>Q(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:q.add,isReady:function(){return $&&l.value!==F?Promise.resolve():new Promise(((e,t)=>{V.add([e,t])}))},install(t){const r=this;t.component("RouterLink",Ne),t.component("RouterView",ke),t.config.globalProperties.$router=r,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>e.unref(l)}),h&&!ee&&l.value===F&&(ee=!0,w(i.location).catch((e=>{})));const o={};for(const e in F)Object.defineProperty(o,e,{get:()=>l.value[e],enumerable:!0});t.provide(Re,r),t.provide(Ce,e.shallowReactive(o)),t.provide(Oe,l);const s=t.unmount;re.add(t),t.unmount=function(){re.delete(t),re.size<1&&(u=F,U&&U(),U=null,l.value=F,ee=!1,$=!1),s()},h&&De(t,r,n)}};function ie(e){return e.reduce(((e,t)=>e.then((()=>P(t)))),Promise.resolve())}return oe}var rt=(e=>(e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade",e))(rt||{}),ot=(e=>(e[e.Environment=1]="Environment",e[e.Library=2]="Library",e[e.Theme=3]="Theme",e[e.Runtime=4]="Runtime",e[e.Components=5]="Components",e[e.App=6]="App",e))(ot||{});const it=[1,2,3,4,5,6];var st=(e=>(e.JSUrl="jsUrl",e.CSSUrl="cssUrl",e.CSSText="cssText",e.JSText="jsText",e.Bundle="bundle",e))(st||{});function at(){const e={},t=new Promise(((t,n)=>{e.resolve=t,e.reject=n}));return e.promise=()=>t,e}function ct(e,t,n,r){for(const o of n)lt(e,t,o,r)}function lt(e,t,n,r){if(!n)return;if(Array.isArray(n))return ct(e,t,n,r);if((o=n)&&o.type===st.Bundle)return n.assets?void(Array.isArray(n.assets)?ct(e,t,n.assets,n.level||r):lt(e,t,n.assets,n.level||r)):void 0;var o;(function(e){return e&&e.type})(n)||(n=function(e,t,n,r){return t?{type:e,content:t,level:n,id:r}:null}(/\.css(\?.*)?$/.test(n)?st.CSSUrl:st.JSUrl,n,r));let i=n.level||r;i&&null!=ot[i]||(i=ot.App),n.level=i,n.type===st.CSSUrl||n.type===st.CSSText?t[i].push(n):e[i].push(n)}class ut{lastContent;lastUrl;level;id;placeholder;constructor(e,t){let n;if(this.level=e,t&&(this.id=t),t&&(n=document.head.querySelector(`style[data-id="${t}"]`)),!n){n=document.createTextNode("");const t=document.head.querySelector(`meta[level="${e}"]`);t?document.head.insertBefore(n,t):document.head.appendChild(n)}this.placeholder=n}applyText(e){if(this.lastContent===e)return;this.lastContent=e,this.lastUrl=void 0;const t=document.createElement("style");t.setAttribute("type","text/css"),this.id&&t.setAttribute("data-id",this.id),t.appendChild(document.createTextNode(e)),document.head.insertBefore(t,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=t}applyUrl(e){if(this.lastUrl===e)return;this.lastContent=void 0,this.lastUrl=e;const t=document.createElement("link");t.onload=r,t.onerror=r;const n=at();function r(e){t.onload=null,t.onerror=null,"load"===e.type?n.resolve():n.reject()}return t.href=e,t.rel="stylesheet",this.id&&t.setAttribute("data-id",this.id),document.head.insertBefore(t,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=t,n.promise()}}function ht(e){return null!==e&&"object"==typeof e}function pt(e){return!!ht(e)&&("JSFunction"===e.type||function(e){return!!ht(e)&&"JSExpression"===e.type&&"function"===e.extType}(e))}const ft=e=>null;document.addEventListener("selectstart",ft,!0),document.addEventListener("dragstart",ft,!0);const dt=new class{states=new Set;setDragging(e){e?this.addState("dragging"):this.removeState("dragging")}setXResizing(e){e?this.addState("x-resizing"):this.removeState("x-resizing")}setYResizing(e){e?this.addState("y-resizing"):this.removeState("y-resizing")}setCopy(e){e?this.addState("copy"):this.removeState("copy")}isCopy(){return this.states.has("copy")}release(){for(const e of this.states)this.removeState(e)}addState(e){this.states.has(e)||(this.states.add(e),document.documentElement.classList.add(`mtc-cursor-${e}`))}removeState(e){this.states.has(e)&&(this.states.delete(e),document.documentElement.classList.remove(`mtc-cursor-${e}`))}};function mt(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var yt,gt={exports:{}};
/*!
     * EventEmitter2
     * https://github.com/hij1nx/EventEmitter2
     *
     * Copyright (c) 2013 hij1nx
     * Licensed under the MIT license.
     */yt||(yt=1,function(e){!function(t){var n=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o="object"==typeof process&&"function"==typeof process.nextTick,i="function"==typeof Symbol,s="object"==typeof Reflect,a="function"==typeof setImmediate?setImmediate:setTimeout,c=i?s&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function l(){this._events={},this._conf&&u.call(this,this._conf)}function u(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==t&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function h(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,process.emitWarning(r)}else console.error(n),console.trace&&console.trace()}var p=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var o=new Array(r);r--;)o[r]=arguments[r];return o}};function f(e,n){for(var r={},o=e.length,i=0;i<o;i++)r[e[i]]=i<0?n[i]:t;return r}function d(e,t,n){var r,o;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,o=n.off),t.addEventListener?(r=t.addEventListener,o=t.removeEventListener):t.addListener?(r=t.addListener,o=t.removeListener):t.on&&(r=t.on,o=t.off),!r&&!o)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof o)throw TypeError("off method must be a function");this._on=r,this._off=o;var i=e._observers;i?i.push(this):e._observers=[this]}function m(e,r,o,i){var s=Object.assign({},r);if(!e)return s;if("object"!=typeof e)throw TypeError("options must be an object");var a,c,l,u=Object.keys(e),h=u.length;function p(e){throw Error('Invalid "'+a+'" option value'+(e?". Reason: "+e:""))}for(var f=0;f<h;f++){if(a=u[f],!n.call(r,a))throw Error('Unknown "'+a+'" option');(c=e[a])!==t&&(l=o[a],s[a]=l?l(c,p):c)}return s}function y(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function g(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],o=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var i=typeof e;if(i===r||i===o)return e;n(t)}:function(r,o){for(var i=typeof r,s=n;s-- >0;)if(i===e[s])return r;o(t)}}Object.assign(d.prototype,{subscribe:function(e,t,n){var r=this,o=this._target,i=this._emitter,s=this._listeners,a=function(){var r=p.apply(null,arguments),s={data:r,name:t,original:e};n?!1!==n.call(o,s)&&i.emit.apply(i,[s.name].concat(r)):i.emit.apply(i,[t].concat(r))};if(s[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,i._newListener&&i._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===s[e]&&(s[e]=a,r._on.call(o,e,a))},i.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!i.hasListeners(n)&&s[e]&&(s[e]=null,r._off.call(o,e,a))},s[e]=null,i.on("removeListener",this._onRemoveListener)):(s[e]=a,r._on.call(o,e,a))},unsubscribe:function(e){var t,n,r,o=this,i=this._listeners,s=this._emitter,a=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function u(){o._onNewListener&&(s.off("newListener",o._onNewListener),s.off("removeListener",o._onRemoveListener),o._onNewListener=null,o._onRemoveListener=null);var e=E.call(s,o);s._observers.splice(e,1)}if(e){if(!(t=i[e]))return;a.call(l,e,t),delete i[e],--this._listenersCount||u()}else{for(r=(n=c(i)).length;r-- >0;)e=n[r],a.call(l,e,i[e]);this._listeners={},this._listenersCount=0,u()}}});var v=g(["function"]),_=g(["object","function"]);function b(e,t,n){var r,o,i,s=0,a=new e((function(c,l,u){function h(){o&&(o=null),s&&(clearTimeout(s),s=0)}n=m(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),r=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof u;var p=function(e){h(),c(e)},f=function(e){h(),l(e)};r?t(p,f,u):(o=[function(e){f(e||Error("canceled"))}],t(p,f,(function(e){if(i)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");o.push(e)})),i=!0),n.timeout>0&&(s=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",s=0,a.cancel(e),l(e)}),n.timeout))}));return r||(a.cancel=function(e){if(o){for(var t=o.length,n=1;n<t;n++)o[n](e);o[0](e),o=null}}),a}function E(e){var t=this._observers;if(!t)return-1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return-1}function w(e,t,n,r,o){if(!n)return null;if(0===r){var i=typeof t;if("string"===i){var s,a,l=0,u=0,h=this.delimiter,p=h.length;if(-1!==(a=t.indexOf(h))){s=new Array(5);do{s[l++]=t.slice(u,a),u=a+p}while(-1!==(a=t.indexOf(h,u)));s[l++]=t.slice(u),t=s,o=l}else t=[t],o=1}else"object"===i?o=t.length:(t=[t],o=1)}var f,d,m,y,g,v,_,b=null,E=t[r],S=t[r+1];if(r===o)n._listeners&&("function"==typeof n._listeners?(e&&e.push(n._listeners),b=[n]):(e&&e.push.apply(e,n._listeners),b=[n]));else{if("*"===E){for(a=(v=c(n)).length;a-- >0;)"_listeners"!==(f=v[a])&&(_=w(e,t,n[f],r+1,o))&&(b?b.push.apply(b,_):b=_);return b}if("**"===E){for((g=r+1===o||r+2===o&&"*"===S)&&n._listeners&&(b=w(e,t,n,o,o)),a=(v=c(n)).length;a-- >0;)"_listeners"!==(f=v[a])&&("*"===f||"**"===f?(n[f]._listeners&&!g&&(_=w(e,t,n[f],o,o))&&(b?b.push.apply(b,_):b=_),_=w(e,t,n[f],r,o)):_=w(e,t,n[f],f===S?r+2:r,o),_&&(b?b.push.apply(b,_):b=_));return b}n[E]&&(b=w(e,t,n[E],r+1,o))}if((d=n["*"])&&w(e,t,d,r+1,o),m=n["**"])if(r<o)for(m._listeners&&w(e,t,m,o,o),a=(v=c(m)).length;a-- >0;)"_listeners"!==(f=v[a])&&(f===S?w(e,t,m[f],r+2,o):f===E?w(e,t,m[f],r+1,o):((y={})[f]=m[f],w(e,t,{"**":y},r+1,o)));else m._listeners?w(e,t,m,o,o):m["*"]&&m["*"]._listeners&&w(e,t,m["*"],o,o);return b}function S(e,t,n){var r,o,i=0,s=0,a=this.delimiter,c=a.length;if("string"==typeof e)if(-1!==(r=e.indexOf(a))){o=new Array(5);do{o[i++]=e.slice(s,r),s=r+c}while(-1!==(r=e.indexOf(a,s)));o[i++]=e.slice(s)}else o=[e],i=1;else o=e,i=e.length;if(i>1)for(r=0;r+1<i;r++)if("**"===o[r]&&"**"===o[r+1])return;var l,u=this.listenerTree;for(r=0;r<i;r++)if(u=u[l=o[r]]||(u[l]={}),r===i-1)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),n?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,h.call(this,u._listeners.length,l))):u._listeners=t,!0;return!0}function T(e,t,n,r){for(var o,i,s,a,l=c(e),u=l.length,h=e._listeners;u-- >0;)o=e[i=l[u]],s="_listeners"===i?n:n?n.concat(i):[i],a=r||"symbol"==typeof i,h&&t.push(a?s:s.join(this.delimiter)),"object"==typeof o&&T.call(this,o,t,s,a);return t}function R(e){for(var t,n,r,o=c(e),i=o.length;i-- >0;)(t=e[n=o[i]])&&(r=!0,"_listeners"===n||R(t)||delete e[n]);return r}function C(e,t,n){this.emitter=e,this.event=t,this.listener=n}function O(e,n,r){if(!0===r)s=!0;else if(!1===r)i=!0;else{if(!r||"object"!=typeof r)throw TypeError("options should be an object or true");var i=r.async,s=r.promisify,c=r.nextTick,l=r.objectify}if(i||c||s){var u=n,h=n._origin||n;if(c&&!o)throw Error("process.nextTick is not supported");s===t&&(s="AsyncFunction"===n.constructor.name),n=function(){var e=arguments,t=this,n=this.event;return s?c?Promise.resolve():new Promise((function(e){a(e)})).then((function(){return t.event=n,u.apply(t,e)})):(c?process.nextTick:a)((function(){t.event=n,u.apply(t,e)}))},n._async=!0,n._origin=h}return[n,l?new C(this,e,n):this]}function P(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,u.call(this,e)}C.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},P.EventEmitter2=P,P.prototype.listenTo=function(e,n,o){if("object"!=typeof e)throw TypeError("target musts be an object");var i=this;function s(t){if("object"!=typeof t)throw TypeError("events must be an object");var n,r=o.reducers,s=E.call(i,e);n=-1===s?new d(i,e,o):i._observers[s];for(var a,l=c(t),u=l.length,h="function"==typeof r,p=0;p<u;p++)a=l[p],n.subscribe(a,t[a]||a,h?r:r&&r[a])}return o=m(o,{on:t,off:t,reducers:t},{on:v,off:v,reducers:_}),r(n)?s(f(n)):s("string"==typeof n?f(n.split(/\s+/)):n),this},P.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var r,o=n.length,i=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;o-- >0;)r=n[o],e&&r._target!==e||(r.unsubscribe(t),i=!0);return i},P.prototype.delimiter=".",P.prototype.setMaxListeners=function(e){e!==t&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},P.prototype.getMaxListeners=function(){return this._maxListeners},P.prototype.event="",P.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},P.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},P.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},P.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},P.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},P.prototype._many=function(e,t,n,r,o){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function s(){return 0==--t&&i.off(e,s),n.apply(this,arguments)}return s._origin=n,this._on(e,s,r,o)},P.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var e,t,n,r,o,s,a=arguments[0],c=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return!1;if(c&&(e=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(n=a.length,i)for(r=0;r<n;r++)if("symbol"==typeof a[r]){s=!0;break}s||(a=a.join(this.delimiter))}var u,h=arguments.length;if(this._all&&this._all.length)for(r=0,n=(u=this._all.slice()).length;r<n;r++)switch(this.event=a,h){case 1:u[r].call(this,a);break;case 2:u[r].call(this,a,arguments[1]);break;case 3:u[r].call(this,a,arguments[1],arguments[2]);break;default:u[r].apply(this,arguments)}if(c)u=[],w.call(this,u,e,this.listenerTree,0,n);else{if("function"==typeof(u=this._events[a])){switch(this.event=a,h){case 1:u.call(this);break;case 2:u.call(this,arguments[1]);break;case 3:u.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(h-1),o=1;o<h;o++)t[o-1]=arguments[o];u.apply(this,t)}return!0}u&&(u=u.slice())}if(u&&u.length){if(h>3)for(t=new Array(h-1),o=1;o<h;o++)t[o-1]=arguments[o];for(r=0,n=u.length;r<n;r++)switch(this.event=a,h){case 1:u[r].call(this);break;case 2:u[r].call(this,arguments[1]);break;case 3:u[r].call(this,arguments[1],arguments[2]);break;default:u[r].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===a)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},P.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var e,t,n,r,o,s,a=arguments[0],c=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(c&&(e=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(r=a.length,i)for(o=0;o<r;o++)if("symbol"==typeof a[o]){t=!0;break}t||(a=a.join(this.delimiter))}var u,h=[],p=arguments.length;if(this._all)for(o=0,r=this._all.length;o<r;o++)switch(this.event=a,p){case 1:h.push(this._all[o].call(this,a));break;case 2:h.push(this._all[o].call(this,a,arguments[1]));break;case 3:h.push(this._all[o].call(this,a,arguments[1],arguments[2]));break;default:h.push(this._all[o].apply(this,arguments))}if(c?(u=[],w.call(this,u,e,this.listenerTree,0)):u=this._events[a],"function"==typeof u)switch(this.event=a,p){case 1:h.push(u.call(this));break;case 2:h.push(u.call(this,arguments[1]));break;case 3:h.push(u.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(p-1),s=1;s<p;s++)n[s-1]=arguments[s];h.push(u.apply(this,n))}else if(u&&u.length){if(u=u.slice(),p>3)for(n=new Array(p-1),s=1;s<p;s++)n[s-1]=arguments[s];for(o=0,r=u.length;o<r;o++)switch(this.event=a,p){case 1:h.push(u[o].call(this));break;case 2:h.push(u[o].call(this,arguments[1]));break;case 3:h.push(u[o].call(this,arguments[1],arguments[2]));break;default:h.push(u[o].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===a)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(h)},P.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},P.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},P.prototype.onAny=function(e){return this._onAny(e,!1)},P.prototype.prependAny=function(e){return this._onAny(e,!0)},P.prototype.addListener=P.prototype.on,P.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},P.prototype._on=function(e,n,r,o){if("function"==typeof e)return this._onAny(e,n),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");this._events||l.call(this);var i,s=this;return o!==t&&(n=(i=O.call(this,e,n,o))[0],s=i[1]),this._newListener&&this.emit("newListener",e,n),this.wildcard?(S.call(this,e,n,r),s):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(n):this._events[e].push(n),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,h.call(this,this._events[e].length,e))):this._events[e]=n,s)},P.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,o=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(o=w.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],o.push({_listeners:n})}for(var s=0;s<o.length;s++){var a=o[s];if(n=a._listeners,r(n)){for(var c=-1,l=0,u=n.length;l<u;l++)if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){c=l;break}if(c<0)continue;return this.wildcard?a._listeners.splice(c,1):this._events[e].splice(c,1),0===n.length&&(this.wildcard?delete a._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete a._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&R(this.listenerTree),this},P.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},P.prototype.removeListener=P.prototype.off,P.prototype.removeAllListeners=function(e){if(e===t)return!this._events||l.call(this),this;if(this.wildcard){var n,r=w.call(this,null,e,this.listenerTree,0);if(!r)return this;for(n=0;n<r.length;n++)r[n]._listeners=null;this.listenerTree&&R(this.listenerTree)}else this._events&&(this._events[e]=null);return this},P.prototype.listeners=function(e){var n,r,o,i,s,a=this._events;if(e===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!a)return[];for(i=(n=c(a)).length,o=[];i-- >0;)"function"==typeof(r=a[n[i]])?o.push(r):o.push.apply(o,r);return o}if(this.wildcard){if(!(s=this.listenerTree))return[];var l=[],u="string"==typeof e?e.split(this.delimiter):e.slice();return w.call(this,l,u,s,0),l}return a&&(r=a[e])?"function"==typeof r?[r]:r:[]},P.prototype.eventNames=function(e){var t=this._events;return this.wildcard?T.call(this,this.listenerTree,[],null,e):t?c(t):[]},P.prototype.listenerCount=function(e){return this.listeners(e).length},P.prototype.hasListeners=function(e){if(this.wildcard){var n=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return w.call(this,n,r,this.listenerTree,0),n.length>0}var o=this._events,i=this._all;return!!(i&&i.length||o&&(e===t?c(o).length:o[e]))},P.prototype.listenersAny=function(){return this._all?this._all:[]},P.prototype.waitFor=function(e,n){var r=this,o=typeof n;return"number"===o?n={timeout:n}:"function"===o&&(n={filter:n}),b((n=m(n,{timeout:0,filter:t,handleError:!1,Promise:Promise,overload:!1},{filter:v,Promise:y})).Promise,(function(t,o,i){function s(){var i=n.filter;if(!i||i.apply(r,arguments))if(r.off(e,s),n.handleError){var a=arguments[0];a?o(a):t(p.apply(null,arguments).slice(1))}else t(p.apply(null,arguments))}i((function(){r.off(e,s)})),r._on(e,s,!1)}),{timeout:n.timeout,overload:n.overload})};var A=P.prototype;Object.defineProperties(P,{defaultMaxListeners:{get:function(){return A._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");A._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return b((n=m(n,{Promise:Promise,timeout:0,overload:!1},{Promise:y})).Promise,(function(n,r,o){var i;if("function"==typeof e.addEventListener)return i=function(){n(p.apply(null,arguments))},o((function(){e.removeEventListener(t,i)})),void e.addEventListener(t,i,{once:!0});var s,a=function(){s&&e.removeListener("error",s),n(p.apply(null,arguments))};"error"!==t&&(s=function(n){e.removeListener(t,a),r(n)},e.once("error",s)),o((function(){s&&e.removeListener("error",s),e.removeListener(t,a)})),e.once(t,a)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(A,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),e.exports=P}()}(gt));const vt={__scope:{type:Object,default:void 0},__schema:{type:Object,required:!0},__designMode:{type:String,default:"live"},__appHelper:{type:Object,default:()=>({})},__components:{type:Object,required:!0},__getNode:{type:Function,required:!0},__locale:{type:String,default:void 0},__messages:{type:Object,default:()=>({})},__triggerCompGetCtx:{type:Function,required:!0},__thisRequiredInJSE:{type:Boolean,default:!0},__requestHandlersMap:{type:Object,default:()=>({})},__props:{type:Object,default:()=>({})},__parser:{type:Object,required:!0}},_t={__comp:null,__scope:null,__schema:{type:Object,default:()=>({})},__vnodeProps:{type:Object,default:()=>({})},__designMode:{type:String,default:"live"},__isRootNode:Boolean},bt=Object.keys(_t);function Et(){let e=window.__rendererContext;return e||(e=Symbol("__rendererContext"),window.__rendererContext=e),e}function wt(){const t=Et();return e.inject(t,(()=>{const t=e.getCurrentInstance()?.props??{};return{rerender:()=>{},thisRequiredInJSE:!0,components:St(t,"components",{}),designMode:St(t,"designMode","live"),wrapLeafComp:(e,t,n)=>n,getNode:St(t,"getNode",(()=>null)),triggerCompGetCtx:St(t,"triggerCompGetCtx",(()=>{}))}}),!0)}function St(e,t,n){return e[t]||e[`__${t}`]||n}const Tt=()=>{};function Rt(e,t){let n=null;return function(){n||(n=setTimeout((()=>{n=null,e.apply(this)})))}}const Ct=e=>Object.prototype.toString.call(e),Ot=e=>{const t=new Set(Ht(e)?e.split(","):It(e)?e:[]),n=Bt(e)?e:e=>t.has(e);return e=>{const t=Object.keys(e);if(t.every((e=>!n(e))))return[{},e,0];let r=0;const o={},i={};for(const s of t)n(s)?(o[s]=e[s],r++):i[s]=e[s];return[o,i,r]}};function Pt(e){return null==e}function At(e){return void 0===e}function Ht(e){return"string"==typeof e}function Lt(e){return!Pt(e)&&"object"==typeof e}function Nt(e){return"boolean"==typeof e}function It(e){return Array.isArray(e)}function Bt(e){return"function"==typeof e}function Mt(e){return Lt(e)&&Bt(e.then)&&Bt(e.catch)}function kt(e){return!Pt(e)&&"[object Object]"===Ct(e)}function jt(e){return!!e&&(Lt(e)&&("JSFunction"===e.type||"function"===e.extType))}function xt(e){return Lt(e)&&"JSSlot"===e.type}function Ut(e){return Lt(e)&&"JSExpression"===e.type&&"function"!==e.extType}function Dt(e){return Lt(e)&&"i18n"===e.type}function Ft(e){return e&&e.componentName}function Gt(e){return Ft(e)&&"Slot"===e.componentName}function $t(e){return Lt(e)&&"Component"===e.componentName}function Vt(e){if(Lt(e)){if(Bt(e.export))return e.export(rt.Render);if(Bt(e.exportSchema))return e.exportSchema(rt.Render)}return null}var qt=(e=>(e[e.OTHER=0]="OTHER",e[e.SETUP=1]="SETUP",e[e.DATA=2]="DATA",e[e.PROPS=3]="PROPS",e[e.CONTEXT=4]="CONTEXT",e))(qt||{});function Jt(e){return"$"in e}function Xt(t,n){switch(n){case 1:return t.$.setupState.__mtcSetup?t.$.setupState:t.$.setupState=e.proxyRefs(Object.create(null,{__mtcSetup:{get:()=>!0,enumerable:!1,configurable:!1}}));case 2:return e.isReactive(t.$.data)?t.$.data:t.$.data=e.reactive({});case 3:return t.$.props;default:return t.$.ctx}}function Kt(e,t,n,r,o=!0){const i=e.$,s=Xt(e,t);if(r){const e=Object.getOwnPropertyDescriptors(n);for(const n in e)n in s?console.warn(`重复定义 key: ${n}`):(Object.defineProperty(s,n,e[n]),i.accessCache[n]=t)}else for(const e in n)e in s?console.warn(`重复定义 key: ${e}`):(s[e]=Reflect.get(n,e),i.accessCache[e]=t);if(3===t&&Object.keys(n).length>0&&o){const{propsOptions:[e,t]}=i,r={},o=[];for(const t in n){if(e[t])continue;const i=Reflect.get(n,t);Nt(i)?(r[t]={0:!0,1:!0,type:Boolean,default:i},o.push(t)):At(i)?r[t]={0:!1,1:!1,type:null}:(r[t]={0:!0,1:!1,type:null,default:i},o.push(t))}Object.keys(r).length>0&&(i.propsOptions=[{...e,...r},[...t,...o]])}}function Wt(...t){const n=[];if(t.flat().forEach((e=>{(function(e){return!(!e||!Lt(e))&&(!!Jt(e)||Object.keys(e).length>0)})(e)&&n.push(e)})),n.length<=1)return n[0];const[r,...o]=n;return o.reduce(((t,n)=>{if(Jt(n)){if(Jt(t))return n;{const e=t;t=n,n=e}}const r=Object.getOwnPropertyDescriptors(n);return t=Object.create(t,r),e.isProxy(n)?e.reactive(t):t}),r)}function zt(e){return e?It(e)?e:[e]:[]}const Yt="JSExpression";class Zt{createFunction;static cacheModules={};static cleanCachedModules(){this.cacheModules={}}exports={};constructor(e){this.createFunction=e&&!e.thisRequired?e=>new Function("__exports__","__scope__",`with(__exports__) { with(__scope__) { ${e} } }`):e=>new Function("__exports__",`with(__exports__) { ${e} }`)}initModule(e){const t=e?.lifeCycles?.initModule,n=t?this.parseSchema(t,!1):t;return this.exports=Bt(n)?n(Zt.cacheModules,window):{},this}parseI18n(e,t){return this.parseExpression({type:Yt,value:`this.$t(${JSON.stringify(e.key)})`},t)}parseSchema(e,t){if(Ut(e)||jt(e))return this.parseExpression(e,t);if(Dt(e))return this.parseI18n(e,t);if(Ht(e))return e.trim();if(It(e))return e.map((e=>this.parseSchema(e,t)));if(Bt(e))return e.bind(t);if(kt(e)){if(!e)return e;const n={};return Object.keys(e).forEach((r=>{r.startsWith("__")||(n[r]=this.parseSchema(e[r],t))})),n}return e}parseOnlyJsValue(e){if(!Ut(e)&&!Dt(e))return jt(e)?this.parseExpression(e,!1):It(e)?e.map((e=>this.parseOnlyJsValue(e))):kt(e)?Object.keys(e).reduce(((t,n)=>(n.startsWith("__")||(t[n]=this.parseOnlyJsValue(e[n])),t)),{}):e}parseExpression(e,t){try{const n=['"use strict";'];let r;r=(e.value||"").trim(),!1===t||r.match(/^\([^)]*\)\s*=>/)||(r=r.replace(/this(\W|$)/g,((e,t)=>`__self${t}`)),n.push("var __self = arguments[1];")),n.push("return "),r=n.join("\n")+r;return this.createFunction(r)(this.exports,t||{})}catch(t){return void console.warn("parseExpression.error",t,e)}}parseSlotScope(e,t){const n={};return zt(t).forEach(((t,r)=>{n[t]=e[r]})),n}}function Qt(e){return e?e.replace(/-[a-zA-Z]/g,(e=>e.charAt(1).toLocaleUpperCase())):e}var en=function(e,t){return en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},en(e,t)};function tn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}en(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var nn=function(){return nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nn.apply(this,arguments)};function rn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function on(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function sn(e,t){return function(n,r){t(n,r,e)}}function an(e,t,n,r,o,i){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?r.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),p=!1,f=n.length-1;f>=0;f--){var d={};for(var m in r)d[m]="access"===m?{}:r[m];for(var m in r.access)d.access[m]=r.access[m];d.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(e||null))};var y=(0,n[f])("accessor"===c?{get:h.get,set:h.set}:h[l],d);if("accessor"===c){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(a=s(y.get))&&(h.get=a),(a=s(y.set))&&(h.set=a),(a=s(y.init))&&o.unshift(a)}else(a=s(y))&&("field"===c?o.unshift(a):h[l]=a)}u&&Object.defineProperty(u,r.name,h),p=!0}function cn(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function ln(e){return"symbol"==typeof e?e:"".concat(e)}function un(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function hn(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function pn(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function fn(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var dn=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function mn(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||dn(t,e,n)}function yn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function vn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gn(arguments[t]));return e}function _n(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function bn(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function En(e){return this instanceof En?(this.v=e,this):new En(e)}function wn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof En?Promise.resolve(n.value.v).then(c,l):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Sn(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:En(e[r](t)),done:!1}:o?o(t):t}:o}}function Tn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=yn(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function Rn(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Cn=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},On=function(e){return On=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},On(e)};function Pn(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=On(e),r=0;r<n.length;r++)"default"!==n[r]&&dn(t,e,n[r]);return Cn(t,e),t}function An(e){return e&&e.__esModule?e:{default:e}}function Hn(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function Ln(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function Nn(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function In(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var Bn="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Mn(e){function t(t){e.error=e.hasError?new Bn(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function o(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,(function(e){return t(e),o()}))}else r|=1}catch(e){t(e)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function kn(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,n,r,o,i){return n?t?".jsx":".js":!r||o&&i?r+o+"."+i.toLowerCase()+"js":e})):e}var jn={__extends:tn,__assign:nn,__rest:rn,__decorate:on,__param:sn,__esDecorate:an,__runInitializers:cn,__propKey:ln,__setFunctionName:un,__metadata:hn,__awaiter:pn,__generator:fn,__createBinding:dn,__exportStar:mn,__values:yn,__read:gn,__spread:vn,__spreadArrays:_n,__spreadArray:bn,__await:En,__asyncGenerator:wn,__asyncDelegator:Sn,__asyncValues:Tn,__makeTemplateObject:Rn,__importStar:Pn,__importDefault:An,__classPrivateFieldGet:Hn,__classPrivateFieldSet:Ln,__classPrivateFieldIn:Nn,__addDisposableResource:In,__disposeResources:Mn,__rewriteRelativeImportExtension:kn},xn=Object.freeze({__proto__:null,__addDisposableResource:In,get __assign(){return nn},__asyncDelegator:Sn,__asyncGenerator:wn,__asyncValues:Tn,__await:En,__awaiter:pn,__classPrivateFieldGet:Hn,__classPrivateFieldIn:Nn,__classPrivateFieldSet:Ln,__createBinding:dn,__decorate:on,__disposeResources:Mn,__esDecorate:an,__exportStar:mn,__extends:tn,__generator:fn,__importDefault:An,__importStar:Pn,__makeTemplateObject:Rn,__metadata:hn,__param:sn,__propKey:ln,__read:gn,__rest:rn,__rewriteRelativeImportExtension:kn,__runInitializers:cn,__setFunctionName:un,__spread:vn,__spreadArray:bn,__spreadArrays:_n,__values:yn,default:jn});function Un(e,t){var n=t&&t.cache?t.cache:Wn,r=t&&t.serializer?t.serializer:Xn;return(t&&t.strategy?t.strategy:$n)(e,{cache:n,serializer:r})}function Dn(e,t,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),s=t.get(i);return void 0===s&&(s=e.call(this,r),t.set(i,s)),s}function Fn(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function Gn(e,t,n,r,o){return n.bind(t,e,r,o)}function $n(e,t){return Gn(e,this,1===e.length?Dn:Fn,t.cache.create(),t.serializer)}var Vn,qn,Jn,Xn=function(){return JSON.stringify(arguments)},Kn=function(){function e(){this.cache=Object.create(null)}return e.prototype.get=function(e){return this.cache[e]},e.prototype.set=function(e,t){this.cache[e]=t},e}(),Wn={create:function(){return new Kn}},zn={variadic:function(e,t){return Gn(e,this,Fn,t.cache.create(),t.serializer)}};function Yn(e){return e.type===qn.literal}function Zn(e){return e.type===qn.argument}function Qn(e){return e.type===qn.number}function er(e){return e.type===qn.date}function tr(e){return e.type===qn.time}function nr(e){return e.type===qn.select}function rr(e){return e.type===qn.plural}function or(e){return e.type===qn.pound}function ir(e){return e.type===qn.tag}function sr(e){return!(!e||"object"!=typeof e||e.type!==Jn.number)}function ar(e){return!(!e||"object"!=typeof e||e.type!==Jn.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(Vn||(Vn={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(qn||(qn={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(Jn||(Jn={}));var cr=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,lr=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function ur(e){var t={};return e.replace(lr,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"long":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var hr=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var pr=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,fr=/^(@+)?(\+|#+)?[rs]?$/g,dr=/(\*)(0+)|(#+)(0+)|(0+)/g,mr=/^(0+)$/;function yr(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(fr,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function gr(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function vr(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!mr.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function _r(e){var t=gr(e);return t||{}}function br(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=nn(nn(nn({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return nn(nn({},e),_r(t))}),{}));continue;case"engineering":t=nn(nn(nn({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return nn(nn({},e),_r(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(dr,(function(e,n,r,o,i,s){if(n)t.minimumIntegerDigits=r.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(s)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(mr.test(o.stem))t.minimumIntegerDigits=o.stem.length;else if(pr.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(pr,(function(e,n,r,o,i,s){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:i&&s?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+s.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var i=o.options[0];"w"===i?t=nn(nn({},t),{trailingZeroDisplay:"stripIfInteger"}):i&&(t=nn(nn({},t),yr(i)))}else if(fr.test(o.stem))t=nn(nn({},t),yr(o.stem));else{var s=gr(o.stem);s&&(t=nn(nn({},t),s));var a=vr(o.stem);a&&(t=nn(nn({},t),a))}}return t}var Er,wr={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function Sr(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,r=e.language;return"root"!==r&&(n=e.maximize().region),(wr[n||""]||wr[r||""]||wr["".concat(r,"-001")]||wr["001"])[0]}var Tr=new RegExp("^".concat(cr.source,"*")),Rr=new RegExp("".concat(cr.source,"*$"));function Cr(e,t){return{start:e,end:t}}var Or=!!String.prototype.startsWith&&"_a".startsWith("a",1),Pr=!!String.fromCodePoint,Ar=!!Object.fromEntries,Hr=!!String.prototype.codePointAt,Lr=!!String.prototype.trimStart,Nr=!!String.prototype.trimEnd,Ir=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Br=!0;try{Br="a"===(null===(Er=Gr("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===Er?void 0:Er[0])}catch(e){Br=!1}var Mr,kr=Or?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},jr=Pr?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",o=e.length,i=0;o>i;){if((n=e[i++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},xr=Ar?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n],i=o[0],s=o[1];t[i]=s}return t},Ur=Hr?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,o=e.charCodeAt(t);return o<55296||o>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?o:r-56320+(o-55296<<10)+65536}},Dr=Lr?function(e){return e.trimStart()}:function(e){return e.replace(Tr,"")},Fr=Nr?function(e){return e.trimEnd()}:function(e){return e.replace(Rr,"")};function Gr(e,t){return new RegExp(e,t)}if(Br){var $r=Gr("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Mr=function(e,t){var n;return $r.lastIndex=t,null!==(n=$r.exec(e)[1])&&void 0!==n?n:""}}else Mr=function(e,t){for(var n=[];;){var r=Ur(e,t);if(void 0===r||Xr(r)||Kr(r))break;n.push(r),t+=r>=65536?2:1}return jr.apply(void 0,n)};var Vr,qr=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){if((i=this.parseArgument(e,n)).err)return i;r.push(i.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(Vn.UNMATCHED_CLOSING_TAG,Cr(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&Jr(this.peek()||0)){if((i=this.parseTag(e,t)).err)return i;r.push(i.val)}else{var i;if((i=this.parseLiteral(e,t)).err)return i;r.push(i.val)}}else{var s=this.clonePosition();this.bump(),r.push({type:qn.pound,location:Cr(s,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:qn.literal,value:"<".concat(r,"/>"),location:Cr(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var i=o.val,s=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Jr(this.char()))return this.error(Vn.INVALID_TAG,Cr(s,this.clonePosition()));var a=this.clonePosition();return r!==this.parseTagName()?this.error(Vn.UNMATCHED_CLOSING_TAG,Cr(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:qn.tag,value:r,children:i,location:Cr(n,this.clonePosition())},err:null}:this.error(Vn.INVALID_TAG,Cr(s,this.clonePosition())))}return this.error(Vn.UNCLOSED_TAG,Cr(n,this.clonePosition()))}return this.error(Vn.INVALID_TAG,Cr(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var i=this.tryParseUnquoted(e,t);if(i)r+=i;else{var s=this.tryParseLeftAngleBracket();if(!s)break;r+=s}}}var a=Cr(n,this.clonePosition());return{val:{type:qn.literal,value:r,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Jr(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return jr.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),jr(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Vn.EXPECT_ARGUMENT_CLOSING_BRACE,Cr(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Vn.EMPTY_ARGUMENT,Cr(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(Vn.MALFORMED_ARGUMENT,Cr(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Vn.EXPECT_ARGUMENT_CLOSING_BRACE,Cr(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:qn.argument,value:r,location:Cr(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Vn.EXPECT_ARGUMENT_CLOSING_BRACE,Cr(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(Vn.MALFORMED_ARGUMENT,Cr(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=Mr(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:Cr(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var o,i=this.clonePosition(),s=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(s){case"":return this.error(Vn.EXPECT_ARGUMENT_TYPE,Cr(i,a));case"number":case"date":case"time":this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var l=this.clonePosition();if((g=this.parseSimpleArgStyleIfPossible()).err)return g;if(0===(f=Fr(g.val)).length)return this.error(Vn.EXPECT_ARGUMENT_STYLE,Cr(this.clonePosition(),this.clonePosition()));c={style:f,styleLocation:Cr(l,this.clonePosition())}}if((v=this.tryParseArgumentClose(r)).err)return v;var u=Cr(r,this.clonePosition());if(c&&kr(null==c?void 0:c.style,"::",0)){var h=Dr(c.style.slice(2));if("number"===s)return(g=this.parseNumberSkeletonFromString(h,c.styleLocation)).err?g:{val:{type:qn.number,value:n,location:u,style:g.val},err:null};if(0===h.length)return this.error(Vn.EXPECT_DATE_TIME_SKELETON,u);var p=h;this.locale&&(p=function(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if("j"===o){for(var i=0;r+1<e.length&&e.charAt(r+1)===o;)i++,r++;var s=1+(1&i),a=i<2?1:3+(i>>1),c=Sr(t);for("H"!=c&&"k"!=c||(a=0);a-- >0;)n+="a";for(;s-- >0;)n=c+n}else n+="J"===o?"H":o}return n}(h,this.locale));var f={type:Jn.dateTime,pattern:p,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?ur(p):{}};return{val:{type:"date"===s?qn.date:qn.time,value:n,location:u,style:f},err:null}}return{val:{type:"number"===s?qn.number:"date"===s?qn.date:qn.time,value:n,location:u,style:null!==(o=null==c?void 0:c.style)&&void 0!==o?o:null},err:null};case"plural":case"selectordinal":case"select":var d=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Vn.EXPECT_SELECT_ARGUMENT_OPTIONS,Cr(d,nn({},d)));this.bumpSpace();var m=this.parseIdentifierIfPossible(),y=0;if("select"!==s&&"offset"===m.value){if(!this.bumpIf(":"))return this.error(Vn.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Cr(this.clonePosition(),this.clonePosition()));var g;if(this.bumpSpace(),(g=this.tryParseDecimalInteger(Vn.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Vn.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return g;this.bumpSpace(),m=this.parseIdentifierIfPossible(),y=g.val}var v,_=this.tryParsePluralOrSelectOptions(e,s,t,m);if(_.err)return _;if((v=this.tryParseArgumentClose(r)).err)return v;var b=Cr(r,this.clonePosition());return"select"===s?{val:{type:qn.select,value:n,options:xr(_.val),location:b},err:null}:{val:{type:qn.plural,value:n,options:xr(_.val),offset:y,pluralType:"plural"===s?"cardinal":"ordinal",location:b},err:null};default:return this.error(Vn.INVALID_ARGUMENT_TYPE,Cr(i,a))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Vn.EXPECT_ARGUMENT_CLOSING_BRACE,Cr(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Vn.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Cr(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(hr).filter((function(e){return e.length>0}));n<r.length;n++){var o=r[n].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var i=o[0],s=o.slice(1),a=0,c=s;a<c.length;a++)if(0===c[a].length)throw new Error("Invalid number skeleton");t.push({stem:i,options:s})}return t}(e)}catch(e){return this.error(Vn.INVALID_NUMBER_SKELETON,t)}return{val:{type:Jn.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?br(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,i=!1,s=[],a=new Set,c=r.value,l=r.location;;){if(0===c.length){var u=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var h=this.tryParseDecimalInteger(Vn.EXPECT_PLURAL_ARGUMENT_SELECTOR,Vn.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;l=Cr(u,this.clonePosition()),c=this.message.slice(u.offset,this.offset())}if(a.has(c))return this.error("select"===t?Vn.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Vn.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===c&&(i=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Vn.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Vn.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Cr(this.clonePosition(),this.clonePosition()));var f=this.parseMessage(e+1,t,n);if(f.err)return f;var d=this.tryParseArgumentClose(p);if(d.err)return d;s.push([c,{value:f.val,location:Cr(p,this.clonePosition())}]),a.add(c),this.bumpSpace(),c=(o=this.parseIdentifierIfPossible()).value,l=o.location}return 0===s.length?this.error("select"===t?Vn.EXPECT_SELECT_ARGUMENT_SELECTOR:Vn.EXPECT_PLURAL_ARGUMENT_SELECTOR,Cr(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!i?this.error(Vn.MISSING_OTHER_CLAUSE,Cr(this.clonePosition(),this.clonePosition())):{val:s,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,i=0;!this.isEOF();){var s=this.char();if(!(s>=48&&s<=57))break;o=!0,i=10*i+(s-48),this.bump()}var a=Cr(r,this.clonePosition());return o?Ir(i*=n)?{val:i,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Ur(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(kr(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Xr(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function Jr(e){return e>=97&&e<=122||e>=65&&e<=90}function Xr(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function Kr(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Wr(e){e.forEach((function(e){if(delete e.location,nr(e)||rr(e))for(var t in e.options)delete e.options[t].location,Wr(e.options[t].value);else Qn(e)&&sr(e.style)||(er(e)||tr(e))&&ar(e.style)?delete e.style.location:ir(e)&&Wr(e.children)}))}function zr(e,t){void 0===t&&(t={}),t=nn({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new qr(e,t).parse();if(n.err){var r=SyntaxError(Vn[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null==t?void 0:t.captureLocation)||Wr(n.val),n.val}!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Vr||(Vr={}));var Yr,Zr=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return tn(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Qr=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),Vr.INVALID_VALUE,o)||this}return tn(t,e),t}(Zr),eo=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Vr.INVALID_VALUE,r)||this}return tn(t,e),t}(Zr),to=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Vr.MISSING_VALUE,n)||this}return tn(t,e),t}(Zr);function no(e){return"function"==typeof e}function ro(e,t,n,r,o,i,s){if(1===e.length&&Yn(e[0]))return[{type:Yr.literal,value:e[0].value}];for(var a=[],c=0,l=e;c<l.length;c++){var u=l[c];if(Yn(u))a.push({type:Yr.literal,value:u.value});else if(or(u))"number"==typeof i&&a.push({type:Yr.literal,value:n.getNumberFormat(t).format(i)});else{var h=u.value;if(!o||!(h in o))throw new to(h,s);var p=o[h];if(Zn(u))p&&"string"!=typeof p&&"number"!=typeof p||(p="string"==typeof p||"number"==typeof p?String(p):""),a.push({type:"string"==typeof p?Yr.literal:Yr.object,value:p});else if(er(u)){var f="string"==typeof u.style?r.date[u.style]:ar(u.style)?u.style.parsedOptions:void 0;a.push({type:Yr.literal,value:n.getDateTimeFormat(t,f).format(p)})}else if(tr(u)){f="string"==typeof u.style?r.time[u.style]:ar(u.style)?u.style.parsedOptions:r.time.medium;a.push({type:Yr.literal,value:n.getDateTimeFormat(t,f).format(p)})}else if(Qn(u)){(f="string"==typeof u.style?r.number[u.style]:sr(u.style)?u.style.parsedOptions:void 0)&&f.scale&&(p*=f.scale||1),a.push({type:Yr.literal,value:n.getNumberFormat(t,f).format(p)})}else{if(ir(u)){var d=u.children,m=u.value,y=o[m];if(!no(y))throw new eo(m,"function",s);var g=y(ro(d,t,n,r,o,i).map((function(e){return e.value})));Array.isArray(g)||(g=[g]),a.push.apply(a,g.map((function(e){return{type:"string"==typeof e?Yr.literal:Yr.object,value:e}})))}if(nr(u)){if(!(v=u.options[p]||u.options.other))throw new Qr(u.value,p,Object.keys(u.options),s);a.push.apply(a,ro(v.value,t,n,r,o))}else if(rr(u)){var v;if(!(v=u.options["=".concat(p)])){if(!Intl.PluralRules)throw new Zr('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Vr.MISSING_INTL_API,s);var _=n.getPluralRules(t,{type:u.pluralType}).select(p-(u.offset||0));v=u.options[_]||u.options.other}if(!v)throw new Qr(u.value,p,Object.keys(u.options),s);a.push.apply(a,ro(v.value,t,n,r,o,p-(u.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===Yr.literal&&t.type===Yr.literal?n.value+=t.value:e.push(t),e}),[])}(a)}function oo(e,t){return t?Object.keys(e).reduce((function(n,r){var o,i;return n[r]=(o=e[r],(i=t[r])?nn(nn(nn({},o||{}),i||{}),Object.keys(o).reduce((function(e,t){return e[t]=nn(nn({},o[t]),i[t]||{}),e}),{})):o),n}),nn({},e)):e}function io(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Yr||(Yr={}));var so=function(){function e(t,n,r,o){void 0===n&&(n=e.defaultLocale);var i,s=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=s.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===Yr.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return ro(s.ast,s.locales,s.formatters,s.formats,e,void 0,s.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=s.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var a=o||{};a.formatters;var c=rn(a,["formatters"]);this.ast=e.__parse(t,nn(nn({},c),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=oo(e.formats,r),this.formatters=o&&o.formatters||(void 0===(i=this.formatterCache)&&(i={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Un((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,bn([void 0],t,!1)))}),{cache:io(i.number),strategy:zn.variadic}),getDateTimeFormat:Un((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,bn([void 0],t,!1)))}),{cache:io(i.dateTime),strategy:zn.variadic}),getPluralRules:Un((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,bn([void 0],t,!1)))}),{cache:io(i.pluralRules),strategy:zn.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}},e.__parse=zr,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();function ao(){let e=window.__currentNode;return e||(e=Symbol("__currentNode"),window.__currentNode=e),e}const co=Symbol("hocNode"),lo=e.defineComponent({name:"Hoc",inheritAttrs:!1,props:_t,setup(t,{slots:n,attrs:r}){const o=e.shallowRef(!0),i=e.shallowRef(t.__schema),s=e.shallowRef(),a=e=>{i.value=e,s.value=Wo(e).slots},{rerender:c,rerenderRoot:l,rerenderParent:u}=(t=>{const{rerender:n}=wt(),r=e.inject(co,null),o=Rt(t);return e.provide(co,{rerenderSlots:o}),r?{rerender:o,rerenderRoot:n,rerenderParent:r.rerenderSlots}:{rerender:o,rerenderRoot:n,rerenderParent:n}})((()=>{const e=f?Vt(f):null;e&&a(e)})),h={};e.onUnmounted((()=>Object.keys(h).forEach((e=>{h[e](),delete h[e]}))));const{locked:p,node:f,buildSlots:d,isRootNode:m,getNode:y}=Ko(t,((e,t)=>{const n=e.id;if(n)if(t&&h[n])h[n](),delete h[n];else if(!t&&!h[n]){const e=y(n);if(e){const t=e.onVisibleChange((()=>c())),r=e.onPropChange((()=>c()));h[n]=()=>{t(),r()}}}}));if(f){const t=f.onChildrenChange((()=>{l()}));t&&e.onUnmounted(t),e.onUnmounted(f.onPropChange((e=>{const{key:t,prop:n,newValue:r,oldValue:o}=e;1===n.path.length?"___isLocked___"===t?p.value=r:xt(r)||xt(o)?l():u():u()}))),e.onUnmounted(f.onVisibleChange((e=>{m?o.value=e:u()}))),a(Vt(f))}return e.watch((()=>t.__schema),(e=>a(e))),()=>{const i=e.toRaw(t.__comp),a=e.toRaw(t.__scope),c={...t.__vnodeProps,__designMode:t.__designMode},l=ei(r)[1];if(m&&!o.value)return null;const u=s.value?d(s.value,a,f):n;return i?ri(i)?e.h(e.Fragment,u.default?.()):e.h(i,e.mergeProps(l,c),u):e.h("div","未找到对应的组件")}}}),uo=e.defineComponent({inheritAttrs:!1,props:_t,setup:(t,{attrs:n,slots:r})=>()=>{const o=e.toRaw(t.__comp),i={...t.__vnodeProps},s=ei(n)[1];return ri(o)?e.renderSlot(r,"default",n):o?e.h(o,e.mergeProps(s,i),r):null}});function ho(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function po(e,t){return ho(e)===ho(t)}function fo(e,t){return It(t)?t.findIndex((t=>t&&po(t,e))):Bt(t)&&po(t,e)?0:-1}const mo=/\B([A-Z])/g,yo=(e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))})((e=>e.replace(mo,"-$1").toLowerCase()));function go(t,n){Pt(t)||(Lt(t)?Kt(n,qt.SETUP,e.toRaw(t)):console.log(`不支持的 setup 返回值类型, type: ${Ct(t)}`))}function vo(t,n,r,o){const i=o.includes(".")?function(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}(r,o):()=>r[o];if(Ht(t)){const r=n[t];Bt(r)?e.watch(i,r):e.warn(`Invalid watch handler specified by key "${t}"`,r)}else if(Bt(t))e.watch(i,t.bind(r));else if(Lt(t))if(It(t))t.forEach((e=>vo(e,n,r,o)));else{const o=Bt(t.handler)?t.handler.bind(r):Ht(t.handler)?n[t.handler]:null;Bt(o)?e.watch(i,o,t):e.warn(`Invalid watch handler specified by key "${t.handler}"`,o)}else e.warn(`Invalid watch option: "${o}"`,t)}const _o={setup:function(e,t,n,[r,o]){const i=e.parseSchema(t,!1);if(!Bt(i))return;const s=i.apply(void 0,[r,o]);if(Mt(s))return s.then((e=>go(e,n)));go(s,n)},created:function(e,t,n){const r=e.parseSchema(t,!1);Bt(r)&&r.call(n)},beforeCreate:function(e,t,n){const r=e.parseSchema(t,!1);Bt(r)&&r.call(n)},initInject:function(t,n,r){const o=t.parseSchema(n,!1);let i={};It(o)?i=o.reduce(((e,t)=>(e[t]=t,e)),{}):Lt(o)&&(i=o);const s={};for(const t in i){const n=i[t];let r;if(Lt(n)){const o=n.from||t;r="default"in n?e.inject(o,n.default,!0):e.inject(o)}else r=e.inject(n);e.isRef(r)?Object.defineProperty(s,t,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):s[t]=r}Kt(r,qt.CONTEXT,s,!0)},initProvide:function(t,n,r){const o=t.parseSchema(n,r),i=Bt(o)?o():o;Lt(i)&&Reflect.ownKeys(i).forEach((t=>{const n=Reflect.get(i,t);e.provide(t,n)}))},initEmits:function(e,t,n){const r=e.parseSchema(t,!1),o=It(r)?r.reduce(((e,t)=>(e[t]=null,e)),{}):Lt(r)?r:null;o&&0!==Object.keys(o).length&&(n.$.emitsOptions=Object.create(n.$.emitsOptions,Object.getOwnPropertyDescriptors(o)))},initProps:function(t,n,r){const o=t.parseSchema(n,!1);if(!o||!Lt(o)&&!It(o)||Lt(o)&&0===Object.keys(o).length||It(o)&&0===o.length)return;const i=r.$,{propsOptions:[s,a]}=i,c={},l=[];for(const e in o){const t=o[e];let n,r;if(Ht(t)?(n=Qt(t),r={}):(n=Qt(e),r=It(t)||Bt(t)?{type:t}:t),s[n]){console.warn(`prop ${n}声明重复`);continue}const i=fo(Boolean,r.type),a=fo(String,r.type);c[n]={0:i>-1,1:a<0||i<a,...r},(i>-1||"default"in r)&&l.push(n)}if(Object.keys(c).length>0){i.propsOptions=[{...s,...c},[...a,...l]];const{props:t,attrs:n}=i,o=Object.keys(c).reduce(((r,o)=>(r[o]=function(t,n,r,o,i,s){const a=t[r];if(null!=a){const t=Reflect.has(a,"default");if(t&&void 0===o){const t=a.default;if(a.type!==Function&&!a.skipFactory&&Bt(t)){const{propsDefaults:s}=i;o=r in s?s[r]:s[r]=e.withCtx((()=>t.call(null,n)),i)()}else o=t}a[0]&&(s&&!t?o=!1:!a[1]||""!==o&&o!==yo(r)||(o=!0))}return o}(c,{...t,...r},o,n[o],i,l.includes(o)),r)),{});Object.keys(o).length>0&&Kt(r,qt.PROPS,o,!1,!1)}},initData:function(e,t,n){const r=e.parseSchema(t,!1),o=Bt(r)?r.call(n):Lt(r)?r:null;o&&0!==Object.keys(o).length&&Kt(n,qt.DATA,o)},initWatch:function(e,t,n){const r=e.parseSchema(t,!1);if(!r||!Lt(r)||0===Object.keys(r).length)return;const o=Xt(n,qt.CONTEXT);for(const e in r)vo(r[e],o,n,e)},initComputed:function(t,n,r){const o=t.parseSchema(n,!1);if(!kt(o))return;const i={};for(const t in o){const n=o[t],s=Bt(n)?n.bind(r):Bt(n.get)?n.get.bind(r):Tt,a=!Bt(n)&&Bt(n.set)?n.set.bind(r):Tt,c=e.computed({get:s,set:a});Object.defineProperty(i,t,{enumerable:!0,configurable:!0,get:()=>c.value,set:e=>c.value=e})}Kt(r,qt.CONTEXT,i,!0)}};var bo,Eo={},wo=mt(xn),So={},To={},Ro={};var Co,Oo,Po={};function Ao(){if(Co)return Po;Co=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.promiseSettled=Po.getRequestHandler=Po.defaultWillFetch=Po.defaultDataHandler=void 0;Po.defaultDataHandler=async e=>e.data;Po.defaultWillFetch=e=>e;return Po.getRequestHandler=(e,t)=>"custom"===e.type?e.requestHandler:t[e.type||"fetch"],Po.promiseSettled=(Promise.allSettled?Promise.allSettled.bind(Promise):null)||(e=>Promise.all(e.map((e=>e.then((e=>({status:"fulfilled",value:e}))).catch((e=>({status:"rejected",reason:e}))))))),Po}function Ho(){if(Oo)return To;Oo=1,Object.defineProperty(To,"__esModule",{value:!0}),To.adapt2Runtime=void 0;const e=(bo||(bo=1,function(e){function t(e){return-1!==Object.prototype.toString.call(e).indexOf("Object")}function n(e){return e&&"JSExpression"===e.type&&"function"!==e.extType}function r(e){return"object"==typeof e&&e&&"JSFunction"===e.type}Object.defineProperty(e,"__esModule",{value:!0}),e.buildOptions=e.buildShouldFetch=e.buildJsonObj=e.getRuntimeValueFromConfig=e.getRuntimeBaseValue=e.getRuntimeJsValue=e.transformBoolStr=e.transformFunction=e.transformExpression=void 0,e.isJSExpression=n,e.isJSFunction=r,e.transformExpression=(e,t)=>{if(void 0===e)return function(){};if(""===e)return function(){return""};try{return new Function(`return (${e})`).call(t)}catch(n){console.error(`transformExpression error, code is ${e}, context is ${t}, error is ${n}`)}},e.transformFunction=(e,t)=>{if(void 0===e)return function(){};if(""===e)return function(){return""};try{return new Function(`return (${e})`).call(t).bind(t)}catch(n){console.error(`transformFunction error, code is ${e}, context is ${t}, error is ${n}`)}},e.transformBoolStr=e=>"false"!==e,e.getRuntimeJsValue=(t,n)=>{if(!["JSExpression","JSFunction"].includes(t.type))return console.error(`translate error, value is ${JSON.stringify(t)}`),"";const r=t.compiled||t.value;return"JSFunction"===t.type?(0,e.transformFunction)(r,n):(0,e.transformExpression)(r,n)},e.getRuntimeBaseValue=(t,n)=>{switch(t){case"string":return`${n}`;case"boolean":return"string"==typeof n?(0,e.transformBoolStr)(n):!!n;case"number":return Number(n);default:return n}},e.getRuntimeValueFromConfig=(t,o,i)=>{if(void 0!==o)return n(o)||r(o)?(0,e.getRuntimeBaseValue)(t,(0,e.getRuntimeJsValue)(o,i)):o},e.buildJsonObj=(r,o)=>{if(n(r))return(0,e.transformExpression)(r.value,o);if(t(r)){const i={};for(const[s,a]of Object.entries(r))n(a)?i[s]=(0,e.transformExpression)(a?.value,o):t(a)?i[s]=(0,e.buildJsonObj)(a,o):i[s]=a;return i}return r},e.buildShouldFetch=(t,o)=>!t.options||!t.shouldFetch||(n(t.shouldFetch)||r(t.shouldFetch)?(0,e.getRuntimeJsValue)(t.shouldFetch,o):(0,e.getRuntimeBaseValue)("boolean",t.shouldFetch)),e.buildOptions=(t,n)=>{const{options:r}=t;if(r)return function(){const t={uri:"",params:{},method:"GET",isCors:!0,timeout:5e3,headers:void 0,v:"1.0"};return Object.keys(r).forEach((o=>{switch(o){case"uri":t.uri=(0,e.getRuntimeValueFromConfig)("string",r.uri,n);break;case"params":t.params=(0,e.buildJsonObj)(r.params,n);break;case"method":t.method=(0,e.getRuntimeValueFromConfig)("string",r.method,n);break;case"isCors":t.isCors=(0,e.getRuntimeValueFromConfig)("boolean",r.isCors,n);break;case"timeout":t.timeout=(0,e.getRuntimeValueFromConfig)("number",r.timeout,n);break;case"headers":t.headers=(0,e.buildJsonObj)(r.headers,n);break;case"v":t.v=(0,e.getRuntimeValueFromConfig)("string",r.v,n);break;default:t[o]=(0,e.getRuntimeValueFromConfig)("unknown",r[o],n)}})),t}}}(Ro)),Ro),t=Ao();return To.adapt2Runtime=(n,r,o)=>{const{list:i,dataHandler:s}=n,a=s?(0,e.getRuntimeJsValue)(s,r):void 0;if(!i||!i.length)return{list:[],dataHandler:a};return{list:i.map((n=>{const{defaultDataHandler:i}=o,s=i||t.defaultDataHandler;return{id:n.id,isInit:(0,e.getRuntimeValueFromConfig)("boolean",n.isInit,r),isSync:(0,e.getRuntimeValueFromConfig)("boolean",n.isSync,r),type:n.type||"fetch",willFetch:n.willFetch?(0,e.getRuntimeJsValue)(n.willFetch,r):t.defaultWillFetch,shouldFetch:(0,e.buildShouldFetch)(n,r),dataHandler:n.dataHandler?(0,e.getRuntimeJsValue)(n.dataHandler,r):s,errorHandler:n.errorHandler?(0,e.getRuntimeJsValue)(n.errorHandler,r):void 0,requestHandler:n.requestHandler?(0,e.getRuntimeJsValue)(n.requestHandler,r):void 0,options:(0,e.buildOptions)(n,r)}})),dataHandler:a}},To}var Lo,No={};!function(e){e.Initial="init",e.Loading="loading",e.Loaded="loaded",e.Error="error"}(Lo||(Lo={}));var Io,Bo=mt(Object.freeze({__proto__:null,get RuntimeDataSourceStatus(){return Lo}}));function Mo(){if(Io)return No;Io=1,Object.defineProperty(No,"__esModule",{value:!0}),No.createDataSourceItem=function(e,r,i){const s=(0,o.shallowRef)({}),a=(0,o.shallowRef)(),c=(0,o.ref)(t.RuntimeDataSourceStatus.Initial),l=(0,o.computed)((()=>c.value===t.RuntimeDataSourceStatus.Loading));let u=null;return(0,o.reactive)({data:s,error:a,status:c,loading:l,load:async function(o){if(!e)return;if(!r)throw a.value=new Error(`no ${e.type} handler provide`),c.value=t.RuntimeDataSourceStatus.Error,a.value;if("urlParams"===e.type){const n=await r(i);return i.setState({[e.id]:n}),s.value=n,c.value=t.RuntimeDataSourceStatus.Loaded,n}if(!e.options)throw new Error(`"${e.id}" has no options`);if("function"==typeof e.options&&(u=e.options()),!u)throw new Error(`"${e.id}" options transform error`);let l=!0,h=u;if(o&&(h.params=(0,n.merge)(h.params,o)),e.shouldFetch&&("function"==typeof e.shouldFetch?l=e.shouldFetch(h):"boolean"==typeof e.shouldFetch&&(l=e.shouldFetch)),!l)return c.value=t.RuntimeDataSourceStatus.Error,void(a.value=new Error(`the "${e.id}" request should not fetch, please check the condition`));if(e.willFetch)try{h=await e.willFetch(u)}catch(e){console.error(e)}const p=e.dataHandler,{errorHandler:f}=e;try{c.value=t.RuntimeDataSourceStatus.Loading;const n=await r(h,i).then(p,f);return s.value=n,c.value=t.RuntimeDataSourceStatus.Loaded,i.setState({UNSTABLE_dataSourceUpdatedAt:Date.now(),[e.id]:n}),s.value}catch(n){throw a.value=n,c.value=t.RuntimeDataSourceStatus.Error,i.setState({UNSTABLE_dataSourceUpdatedAt:Date.now(),[`UNSTABLE_${e.id}_error`]:a}),a}},isInit:e.isInit,isSync:e.isSync})};const t=Bo,n=r,o=e;return No}var ko,jo,xo={};function Uo(){if(ko)return xo;ko=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.reloadDataSourceFactory=void 0;const e=Ao();function t(e){return"function"==typeof e.isInit?e.isInit():e.isInit??!0}return xo.reloadDataSourceFactory=(n,r,o)=>async()=>{const i=[];n.list.filter((e=>"urlParams"===e.type&&t(e))).forEach((e=>{r[e.id].load()}));const s=n.list.filter((e=>"urlParams"!==e.type));for(const e of s)e.options&&t(e)&&!e.isSync&&i.push(r[e.id].load());for(const e of s)if(e.options&&t(e)&&e.isSync)try{await r[e.id].load()}catch(e){console.error(e)}await(0,e.promiseSettled)(i),o&&o(r)},xo}function Do(){if(jo)return So;jo=1,Object.defineProperty(So,"__esModule",{value:!0}),So.createDataSourceEngine=function(o,i,s={requestHandlersMap:{}}){const{requestHandlersMap:a}=s,c=(0,e.adapt2Runtime)(o,i,{defaultDataHandler:s.defaultDataHandler}),l=c.list.reduce(((e,r)=>(e[r.id]=(0,t.createDataSourceItem)(r,(0,n.getRequestHandler)(r,a),i),e)),{});return{dataSourceMap:l,reloadDataSource:(0,r.reloadDataSourceFactory)(c,l,c.dataHandler)}};const e=Ho(),t=Mo(),n=Ao(),r=Uo();return So}var Fo,Go,$o={};var Vo=(Go||(Go=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createDataSourceEngine=void 0;const t=wo,n=Do();Object.defineProperty(e,"createDataSourceEngine",{enumerable:!0,get:function(){return n.createDataSourceEngine}}),t.__exportStar((Fo||(Fo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=wo;t.__exportStar(Do(),e),t.__exportStar(Uo(),e),t.__exportStar(Ho(),e),t.__exportStar(Mo(),e)}($o)),$o),e)}(Eo)),Eo);const qo={...{beforeMount:e.onBeforeMount,mounted:e.onMounted,beforeUpdate:e.onBeforeUpdate,updated:e.onUpdated,activated:e.onActivated,deactivated:e.onDeactivated,beforeUnmount:e.onBeforeUnmount,renderTracked:e.onRenderTracked,renderTriggered:e.onRenderTriggered,unmounted:e.onUnmounted,errorCaptured:e.onErrorCaptured,serverPrefetch:e.onServerPrefetch},...{componentDidMount:e.onMounted,componentDidCatch:e.onErrorCaptured,shouldComponentUpdate:e.onBeforeUpdate,componentWillUnmount:e.onBeforeUnmount}},Jo=Symbol("IS_LOCKED"),Xo=Symbol("IS_ROOT_NODE");function Ko(t,n=()=>{}){const r=wt(),{getNode:o,thisRequiredInJSE:i,designMode:s,wrapLeafComp:a}=r,c=new Zt({thisRequired:i}),l="design"===s,u=t.__schema.id?o(t.__schema.id):null,h=u?function(t){const n=e.ref(t),r=e.inject(Jo,null),o=e.computed({get:()=>r?.value||n.value,set:e=>n.value=e});return e.provide(Jo,o),o}(u.isLocked):e.ref(!1);e.provide(ao,{mode:s,node:u,isDesignerEnv:l});const p=(t,n,i,u)=>{if(Ht(t))return e.createTextVNode(t);if(Pt(t))return null;if(!Ft(t)){const n=c.parseSchema(t,i);return e.createTextVNode(e.toDisplayString(n))}const{show:h,scene:f}=y(t,i,l);if(!h)return e.createCommentVNode(`${f} ${h}`);const d=t.id?o(t.id):null,{componentName:_}=t;if(!u&&!(u=r.components[_])){if("Slot"===_)return zt(t.children).flatMap((e=>p(e,n,i))).filter((e=>!Pt(e)));if(l)return e.h("div",`component[${_}] not found`);u={setup:(t,{slots:n})=>(console.warn(`组件未找到, 组件名：${_}`),e.h("div",e.mergeProps(t,{class:"mtc-component-not-found"}),n))}}n=a(_,u,n);const b=e=>{r.triggerCompGetCtx(t,e)},{props:E,slots:w}=Wo(t),{loop:S,buildLoopScope:T}=v(t,i);if(!S){const r=m(E,i,d,null,{ref:b}),[o,a]=Qo(r);return e.h(n,{key:o.key??t.id,__comp:u,__schema:t,__scope:i,__vnodeProps:o,__designMode:s,...a},g(w,i,d))}return It(S)?S.map(((r,o,a)=>{const c=T(r,o,a.length),l=m(E,i,d,c,{ref:b}),[h,p]=Qo(l),f=Wt(i,c);return e.h(n,{key:h.key??`${t.id}--${o}`,__comp:u,__scope:f,__schema:t,__vnodeProps:h,__designMode:s,...p},g(w,f,d))})):(console.warn(`循环对象必须是数组, type: ${Ct(S)}`),null)},f=(t,n,r,o,i)=>{const s=o?i?.getProp(o,!1):null;if(Ut(t)||jt(t))return c.parseExpression(t,n);if(Dt(t))return c.parseI18n(t,n);if(xt(t)){let e,o;return s?.slotNode?(o=s.slotNode.schema,e=Gt(o)?o.params??[]:[]):(o=zt(t.value),e=t.params??[]),(...t)=>{const i=c.parseSlotScope(t,e),s=[];return zt(o).forEach((e=>{zt(_(e,Wt(n,r,i))).forEach((e=>s.push(e)))})),s}}if(It(t)){let s=!1;const a=t.map(((e,t)=>{const a=f(e,n,r,`${o}.${t}`,i);return a!==e&&(s=!0),a}));return s?e.markRaw(a):e.markRaw(t)}if(kt(t)&&!e.isVNode(t)){let s=!1;const a={};for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){if(e.startsWith("__")){a[e]=t[e];continue}const c=t[e],l=f(c,n,r,`${o}.${e}`,i);l!==c&&(s=!0),a[e]=l}return s?e.markRaw(a):e.markRaw(t)}return t},d=(t,n,r,o,i)=>{if(Ht(t)){const r=t;let o=null;return t=>{let{refs:i}=n.$;if(0===Object.keys(i).length&&(i=n.$.refs={}),Pt(n.__loopRefIndex))i[r]=t,r in n&&(n[r]=t);else{let s=i[r];if(It(s)){if(r in n){const t=n[r];s=It(t)&&e.toRaw(t)===s?t:n[r]=s}}else s=i[r]=[],r in n&&(s=n[r]=s);if(Pt(t)){const e=s.indexOf(o);e>=0&&s.splice(e,1)}else s[n.__loopRefIndex]=t}o=t}}const s=f(t,n,r,o,i);return Ht(s)?d(s,n,r,o,i):s},m=(e,t,n,r,o)=>{const i={};Object.keys(e).forEach((t=>{Zo(i,t,e[t])}));const s={},a=r?Wt(t,r):t;return Object.keys(i).forEach((e=>{const t=i[e];s[e]="ref"===e?d(t,a,r,e,n):f(t,a,r,e,n)})),o&&Object.keys(o).forEach((e=>{Zo(s,e,o[e])})),s},y=(e,t,n)=>{const r=!!n&&(e.hidden??!1),o=e.condition??!0;return r?{scene:"hidden",show:!1}:{scene:"condition",show:"boolean"==typeof o?o:!!c.parseSchema(o,t)}},g=(e,t,n)=>Object.keys(e).reduce(((r,o)=>{let i=e[o];const s="default"===o;if(Pt(i)&&!s)return r;if(s&&!n?.isContainerNode&&(It(i)&&0===i.length||Pt(i)))return r;let a;return It(i)&&0===i.length&&(i=void 0),a=It(i)?ti(i,(e=>()=>e.map((e=>_(e,t))).filter((e=>!Pt(e))))):Gt(i)?ti(i,(e=>(...n)=>zt(_(e,Wt(t,c.parseSlotScope(n,e.params??[])))))):ti(i,(e=>()=>zt(_(e,t)))),r[o]=s&&l&&n?.isContainerNode?ni(a,h):a,r}),{}),v=(e,t)=>{let n=null;const r=["item","index"];return e.loop&&(n=e.loop),e.loopArgs&&e.loopArgs.forEach(((e,t)=>{null!=e&&""!==e&&(r[t]=e)})),{loop:n?c.parseSchema(n,t):null,loopArgs:r,buildLoopScope(e,n,o){const i=t.__loopRefOffset??0,[s,a]=r;return{[s]:e,[a]:n,__loopScope:!0,__loopRefIndex:i+n,__loopRefOffset:o*n}}}},_=l?(t,r,o)=>{const i=p(t,lo,r,o);return Ft(t)&&e.isVNode(i)&&(i.type===Comment?n(t,!1):n(t,!0)),i}:(e,t,n)=>p(e,uo,t,n);return{node:u,locked:h,getNode:o,renderComp:_,buildSlots:g,isRootNode:(b=t.__isRootNode,b?e.provide(Xo,!0):null==(b=e.inject(Xo,null))?e.provide(Xo,b=!0):b&&e.provide(Xo,!1),b)};var b}const Wo=(e,t)=>{const n={},r={};n.default=It(e.children)&&1===e.children.length?e.children[0]:e.children;return Object.entries(e.props??{}).forEach((([e,t])=>{xt(t)?t.value&&(n[(e=>"children"===e?"default":e)(e)]={componentName:"Slot",params:t.params,children:t.value}):"className"===e?r.class=t:"children"===e?n.default=t:r[e]=t})),{props:r,slots:n}};function zo(t,n){const r=e.computed((()=>t.__schema)),o=e.computed((()=>t.__components)),i={__isRootNode:!0,__schema:t.__schema,__designMode:t.__designMode};return{scope:n,schemaRef:r,designModeRef:e.computed((()=>t.__designMode??"live")),componentsRef:o,...Ko(i)}}function Yo(t,n){const{__schema:r,__scope:o,__parser:i,__appHelper:s,__requestHandlersMap:a}=t,{props:c,methods:l,state:u,lifeCycles:h}=r??{},p=e.getCurrentInstance(),f=p.proxy,d=function(e,t,n){return function(r,o,i){const s=(e.lifeCycles??{})[r],a=_o[r];if(s&&a)return a(n,s,t,[o,i])}}(r,f,i);if(d("initEmits"),d("beforeCreate"),d("initProps"),c){const e=i.parseOnlyJsValue(c);Kt(f,qt.PROPS,e)}const m=d("setup",p.props,n);if(d("initInject"),l){const e=i.parseSchema(l,f);e&&Kt(f,qt.CONTEXT,e)}if(d("initData"),u){const e=i.parseSchema(u);e&&Kt(f,qt.DATA,e)}d("initComputed"),d("initWatch"),d("initProvide");const y=i.parseSchema(function(e){const t={};if(Lt(e))for(const n in e)n in qo&&(t[n]=e[n]);return t}(h),f);Object.keys(y).length>0&&Object.keys(y).forEach((e=>{if(e in qo){const t=y[e];Bt(t)&&qo[e](t,p)}})),function(e,t){let n=null;t&&(n=document.querySelector(`style[data-id="${t}"]`));if(e){if(!n){n=document.createElement("style"),t&&n.setAttribute("data-id",t);(document.head||document.getElementsByTagName("head")[0]).appendChild(n)}n.innerHTML!==e&&(n.innerHTML=e)}else n&&n.parentElement?.removeChild(n)}(r.css,r.id);const g=(e,n)=>{const{__locale:r,__messages:o}=t;return function(e,t={},n="zh-CN",r={}){return r&&r[n]&&r[n][e]?new so(r[n][e],n).format(t):""}(e,n,r,o)},v=e.computed((()=>t.__locale));Kt(f,qt.CONTEXT,{i18n:g,$t:g}),Kt(f,qt.DATA,{currentLocale:v});const{dataSourceMap:_,reloadDataSource:b}=function(e,t,n){return Vo.createDataSourceEngine(e,{state:t,setState(e){const n={};for(const r in e)r in t?t[r]=e[r]:n[r]=e[r];Object.keys(n).length>0&&(Kt(t,qt.CONTEXT,n),t.$forceUpdate())},forceUpdate:()=>t.$forceUpdate()},{requestHandlersMap:n})}(r.dataSource??{list:[],dataHandler:void 0},f,a),E=Object.keys(_).filter((e=>!(e in f))).map((t=>[t,e.ref()]));Kt(f,qt.CONTEXT,{dataSourceMap:_,reloadDataSource:b}),Kt(f,qt.SETUP,function(e){const t={};for(const n of e)It(n)&&n.length>=2&&(t[n[0]]=n[1]);return t}(E)),o&&Kt(f,qt.SETUP,o),d("created");Kt(f,qt.CONTEXT,{__loopScope:!1,__loopRefIndex:null,__loopRefOffset:0}),Kt(f,qt.CONTEXT,Object.keys(s).reduce(((e,t)=>(e[t.startsWith("$")?t:`$${t}`]=s[t],e)),{}));const w={_:!0,$:!0};return{scope:new Proxy({},{get:(e,t)=>t===Symbol.toStringTag?"[object RuntimeScope]":t===Symbol.unscopables?w:Reflect.get(f,t,f),set:(e,t,n)=>Reflect.set(f,t,n,f),has:(e,t)=>Reflect.has(f,t),defineProperty:(e,t,n)=>Reflect.defineProperty(f,t,n),ownKeys:()=>Array.from(new Set([...Reflect.ownKeys(f.$.props),...Reflect.ownKeys(f.$.data),...Reflect.ownKeys(f.$.setupState),...Reflect.ownKeys(f.$.ctx)]))}),wrapRender:t=>{const n=[];return Mt(m)&&n.push(m),Object.keys(_).some((t=>e.toRaw(_[t]).isInit))&&n.push(b()),n.length>0?Promise.all(n).then((()=>t)):t}}}const Zo=(e,t,n)=>{if(t.startsWith("v-model")){const r=t.match(/v-model(?::(\w+))?$/);if(!r)return e;const o=Qt(r[1]??"modelValue"),i=`onUpdate:${o}`;if(Ut(n)){const t={type:"JSFunction",value:`function ($event) {${n.value} = $event}`};e[i]=i in e?zt(e[i]).concat(t):t}e[o]=n}else if(t.startsWith("v-"));else if(t.match(/^on[A-Z]/)){const r=t.match(/onUpdate(?::?(\w+))$/);r&&(t=`onUpdate:${Qt(r[1])}`),e[t]=t in e?zt(e[t]).concat(n):n}else if("ref"===t&&"ref"in e){const t=n,r=e.ref;Bt(r)&&Bt(t)?e.ref=(...e)=>{t(...e),r(...e)}:e.ref=[r,t].filter(Bt).pop()}else e[t]=n},Qo=Ot("key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ei=Ot(bt),ti=(e,t)=>t(e),ni=(t,n)=>(...r)=>{const o=t(...r).filter(Boolean);if(!o.length){const t=n.value,r={"mtc-container-locked":t,"mtc-container-placeholder":!0},i=t?"该元素及其子元素已被锁定,无法进行编辑、拖拽等操作,请先解锁后再进行修改":"拖拽组件或模板到这里";o.push(e.h("div",{class:r},i))}return o};function ri(t){return t===e.Fragment}const oi=e.defineComponent({name:"Page",setup:(t,{slots:n})=>()=>e.createVNode("div",e.mergeProps({class:"mtc-page"},t),[n.default?.()])}),ii={PageRenderer:e.defineComponent({name:"PageRenderer",props:vt,__renderer__:!0,setup(e,t){const{scope:n,wrapRender:r}=Yo(e,t),{renderComp:o,componentsRef:i,schemaRef:s}=zo(e,n);return r((()=>o(s.value,n,i.value.Page||oi)))}}),ComponentRenderer:e.defineComponent({name:"ComponentRenderer",props:vt,__renderer__:!0,setup(t,n){const{scope:r,wrapRender:o}=Yo(t,n),{triggerCompGetCtx:i}=wt(),{renderComp:s,schemaRef:a,componentsRef:c}=zo(t,r),l=c.value[a.value.componentName]||e.Fragment,u=e.getCurrentInstance();return ri(l)&&e.onMounted((()=>{u?.proxy&&i(a.value,u.proxy)})),o((()=>s(a.value,r,l)))}}),BlockRenderer:e.defineComponent({name:"BlockRenderer",props:vt,__renderer__:!0,setup(t,n){const{scope:r,wrapRender:o}=Yo(t,n),{triggerCompGetCtx:i}=wt(),{renderComp:s,schemaRef:a,componentsRef:c}=zo(t,r),l=c.value[a.value.componentName]||e.Fragment,u=e.getCurrentInstance();return ri(l)&&e.onMounted((()=>{u?.proxy&&i(a.value,u.proxy)})),o((()=>s(a.value,r,c.value.Block||e.Fragment)))}})};var si=new class{renderers={...ii};configProvider=null;setRenderers(e){this.renderers=e}getRenderers(){return this.renderers}setConfigProvider(e){this.configProvider=e}getConfigProvider(){return this.configProvider}};const ai={scope:{type:Object},schema:{type:Object,required:!0},passProps:Object,components:{type:Object,required:!0},designMode:{type:String,default:"live"},device:String,locale:String,messages:{type:Object,default:()=>({})},onCompGetCtx:Function,thisRequiredInJSE:{type:Boolean,default:!0},disableCompMock:{type:[Array,Boolean],default:!1},getNode:Function,appHelper:Object,requestHandlersMap:Object},ci=Ot((e=>!e.match(/^[a-z]+([A-Z][a-z]+)*$/))),li=e.defineComponent({props:ai,setup(t,{slots:n,expose:r}){const o=new Zt({thisRequired:t.thisRequiredInJSE}).initModule(t.schema),i=e.shallowRef(t.schema),s=e=>t.getNode?.(e)??null,a=(e,n)=>{n&&t.onCompGetCtx?.(e,n)};e.watch((()=>t.schema),(()=>{i.value=t.schema}));let c=()=>!0;e.watchEffect((()=>{const{disableCompMock:e}=t;Nt(e)?c=e?()=>!1:()=>!0:e&&(c=t=>!e.includes(t))}));const l=new Map,u=e.reactive({designMode:e.computed((()=>t.designMode)),components:e.computed((()=>({...si.getRenderers(),...t.components}))),thisRequiredInJSE:e.computed((()=>t.thisRequiredInJSE)),getNode:e=>t.getNode?.(e)??null,triggerCompGetCtx:(e,n)=>{t.onCompGetCtx?.(e,n)},rerender:Rt((()=>{const{id:n}=t.schema,r=n&&s(n);if(r){const e=Vt(r);e&&(i.value=e)}e.triggerRef(i)})),wrapLeafComp:(e,t,n)=>{let r=l.get(n);if(r){if(r.has(t))return r.get(t)}else r=new Map,l.set(n,r);if(c(e)&&!(e=>e&&"AsyncComponentWrapper"===e.name)(t)){const[e,r,o]=ci(t);o&&(n=Object.create(n,Object.getOwnPropertyDescriptors(e)))}return r.set(t,n),n}});e.provide(Et(),u);const h=e.ref();r({runtimeScope:h});const p=()=>{const{components:r}=u,{scope:c,locale:l,messages:p,designMode:f,thisRequiredInJSE:d,requestHandlersMap:m,passProps:y,appHelper:g}=t,{value:v}=i;if(!v)return null;const{componentName:_}=v;let b=r[_]||r[`${_}Renderer`];return b&&!b.__renderer__&&(b=ii[`${_}Renderer`]),b?e.h(b,{ref:h,key:v.__ctx?`${v.__ctx.mtcKey}_${v.__ctx.idx||"0"}`:v.id,...y,...o.parseOnlyJsValue(v.props),__parser:o,__scope:c,__schema:v,__locale:l,__messages:p,__appHelper:g,__components:r,__designMode:f,__thisRequiredInJSE:d,__requestHandlersMap:m,__getNode:s,__triggerCompGetCtx:a},n):null};return()=>{const{device:n,locale:r}=t,o=si.getConfigProvider();return o?e.h(o,{device:n,locale:r},{default:p}):p()}}}),ui=e.defineComponent({props:{rendererContainer:{type:Object,required:!0}},render(){const{$slots:t,rendererContainer:n}=this,{layout:r,getComponent:o}=n;if(r.value){const{Component:i,props:s={},componentName:a}=r.value;if(i)return e.h(i,{...s,key:"layout",rendererContainer:n},t);const c=a&&o(a);if(c)return e.h(c,{...s,key:"layout",rendererContainer:n},t)}return e.renderSlot(t,"default")}}),hi=e.defineComponent({props:{rendererContainer:{type:Object,required:!0}},setup:t=>()=>e.createVNode(ui,{rendererContainer:t.rendererContainer},{default:()=>[e.createVNode(ke,null,{default:({Component:t})=>t&&e.createVNode(e.Suspense,null,{default:()=>e.createVNode(t,null,null)})})]})}),pi=e.defineComponent({props:{simulator:{type:Object,required:!0},documentInstance:{type:Object,required:!0}},setup:()=>({renderer:e.ref()}),render(){const{documentInstance:t,simulator:n}=this,{scope:r,key:o,appHelper:i,messages:s,schema:a}=t,{designMode:c,device:l,locale:u,components:h,requestHandlersMap:p,thisRequiredInJSE:f,disableCompMock:d}=n;return e.createVNode(li,{key:o,locale:u,messages:s,schema:a,appHelper:i,designMode:c,device:l,scope:r,components:h,requestHandlersMap:p,disableCompMock:d,thisRequiredInJSE:f,getNode:e=>t.getNode(e),onCompGetCtx:(e,n)=>{t.mountInstance(e.id,n)}},null)}}),fi=Symbol("_MTCDocId"),di=Symbol("_MTCNodeId"),mi=Symbol("_MTCVueInstance"),yi=Symbol("_MTCVueCompRecord");function gi(e){return Lt(e)&&fi in e}function vi(e,t,n){return{did:e,nid:t,cid:n,[yi]:!0}}function _i(e){return Lt(e)&&!Pt(e.__vueParentComponent)}function bi(e){return{docId:e[fi],nodeId:e[di],instance:e[mi]}}function Ei(e){return function(e){return 8===e.nodeType}(e)||function(e){return 3===e.nodeType}(e)&&""===e.nodeValue}const wi=document.createRange();function Si(e){return e.parentNode?function(e){return Lt(e)&&e.nodeType===Node.ELEMENT_NODE}(e)?[e.getBoundingClientRect()]:(wi.selectNode(e),Array.from(wi.getClientRects())):[]}function Ti(e,t,n,r){let o=r(n);for(;o;){if(!Ei(o)){if(_i(o)){if(Pi(t,o.__vueParentComponent)){e.unshift(o),o=r(o);continue}}break}o=r(o)}}function Ri(e,t){const n=t.subTree,r=n.el;return Oi(r)?(e.push(r),!0):Array.isArray(n.children)&&n.children.length>0?Ci(e,n.children):!!n.component&&Ri(e,n.component)}function Ci(t,n){const r=n.map((({el:e})=>e)).filter(Oi);return r.length>0?(t.push(...r),!0):n.length>0&&n.some((n=>Array.isArray(n.children)&&n.children.length>0?Ci(t,n.children.filter((t=>e.isVNode(t)))):!!n.component&&Ri(t,n.component)))}function Oi(e){if(e&&function(e){return Lt(e)&&"nodeType"in e&&(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE)}(e)&&!Ei(e)){return Si(e).some((e=>e.width||e.height))}return!1}function Pi(e,t){return null!=t&&(!(e.uid>t.uid)&&(e.uid===t.uid||Pi(e,t.parent)))}function Ai(e,t){return document.contains(e)?function(e,t){for(;e;){if(_i(e)){return Hi(e.__vueParentComponent,t)}if(gi(e)){const{nodeId:n,docId:r,instance:o}=bi(e);if(!t||t===n)return{docId:r,nodeId:n,instance:vi(r,n,o.$.uid)}}e=e.parentElement}return null}(e,t):null}function Hi(e,t){for(;e;){const n=e.vnode.el;if(n&&gi(n)){const{nodeId:e,docId:r,instance:o}=bi(n);if(!t||t===e)return{docId:r,nodeId:e,instance:vi(r,e,o.$.uid)}}e=e.parent}return null}function Li(e,t){const n=t.length;if(n<1||!e)return e;let r,o=0;for(;o<n;){const i=t[o];let s;try{r=e[i]}catch(e){s=e,r=null}if(0===o&&null==r&&"default"===i){if(s)return 1===n?e:null;r=e}else if(null==r)return null;e=r,o++}return r}const Ni=(e=>{const t={};return function(n){return n in t?t[n]:t[n]=e.call(this,n)}})((t=>{if(/^[a-z-]+$/.test(t))return e.defineComponent(((n,{attrs:r,slots:o})=>()=>e.h(t,r,o)))}));function Ii(e){return"string"!=typeof e?e:window[e]||Ni(e)}function Bi(e,t,n){const r={};return Object.keys(t).forEach((o=>{let i=t[o];var s;i&&(ht(s=i)&&"componentsTree"in s&&0!==s.componentsTree.length&&$t(s.componentsTree[0])||$t(i))?$t(i)?r[o]=n?.({version:"",componentsMap:[],componentsTree:[i]}):r[o]=n?.(i):!function(e){if("object"==typeof e&&null!==e){const t=e;if("function"==typeof t.render||"function"==typeof t.setup)return!0}if("object"==typeof e&&null!==e&&"__vccOpts"in e)return!0;return!1}(i)?(i=function(e,t,n){if(!n)return Ii(t);const r=n.exportName||n.componentName||t,o=Ii(e[n.package]||r),i=n.exportName&&n.subName?n.subName.split("."):[];var s;return n.destructuring?i.unshift(r):(s=o)&&s.__esModule&&i.unshift("default"),Li(o,i)}(e,o,i),i&&(r[o]=i)):r[o]=i})),r}let Mi=!0;const ki=e=>Mi?null:(e.preventDefault(),e.stopPropagation(),!1);function ji(e){if(!e)return e;if(Array.isArray(e))return e.map((e=>ji(e)));if(!kt(e))return e;if(ht(t=e)&&"JSBlock"===t.type)return"Slot"===e.value.componentName?{type:"JSSlot",title:e.value.props?.slotTitle,name:e.value.props?.slotName,value:ji(e.value.children),params:e.value.props?.slotParams}:e.value;var t,n;if((n=e)&&"object"==typeof n&&"variable"===n.type)return{type:"JSExpression",value:e.variable,mock:e.value};if(function(e){if("object"==typeof e&&null!==e)return e.type&&e.source&&e.compiled}(e))return{type:"JSExpression",value:e.compiled,extType:"function"};if(function(e){return e.type&&"actionRef"===e.type}(e))return{type:"JSExpression",value:`${e.id}.bind(this)`};const r={};return Object.keys(e).forEach((t=>{/^__slot__/.test(t)&&!0===e[t]||(r[t]=ji(e[t]))})),r}function xi(e){if(ht(e)){if(Bt(e.export))return e.export(rt.Render);if(Bt(e.exportSchema))return e.exportSchema(rt.Render)}return null}function Ui(e,t){return t.filter((e=>e&&e.name)).reduce(((t,n)=>{const{name:r,content:o,type:i}=n;if("npm"===i){const{package:n,exportName:i,destructuring:s}=o??{};if(e[n]){const o=Ii(e[n]);o&&(t[r]=s&&i?o[i]:o)}}else"function"===i&&(t[r]=pt(o)?new Function(`return ${o.value}`)():n.content);return t}),{})}function Di(e,t){if(ht(e)&&ht(t)){const n={...e};return Object.keys(t).forEach((r=>{Reflect.set(n,r,Di(e[r],t[r]))})),n}return t??e}document.addEventListener("selectstart",ki,!0),document.addEventListener("dragstart",ki,!0);const Fi=window.ArvinMicrocodeSimulatorHost,Gi=e.defineComponent({name:"Leaf",render(){return e.renderSlot(this.$slots,"default")}});Object.assign(Gi,{displayName:"Leaf",componentMetadata:{componentName:"Leaf",configure:{props:[{name:"children",setter:"StringSetter"}],supports:!1}}});const $i=e.defineComponent({render(){return e.renderSlot(this.$slots,"default",this.$props,(()=>[e.h("div",{class:"mtc-container"})]))}});Object.assign($i,{displayName:"Slot",componentMetadata:{componentName:"Slot",configure:{props:[{name:"___title",title:"插槽标题",setter:"StringSetter",defaultValue:"插槽容器"},{name:"___params",title:"插槽入参",setter:{componentName:"ArraySetter",props:{itemSetter:{componentName:"StringSetter",props:{placeholder:"参数名称"}}}}}],component:{isContainer:!0,disableBehaviors:"*"},supports:!1}}});const Vi=e.defineComponent(((t,{slots:n})=>()=>e.h("div",{class:"mtc-page",...t},n)));function qi(t,n){const r=new Map,o=new Map,i=e.ref(Date.now()),s=e.ref(xi(t)??{fileName:"/",componentName:"Page"});e.watch((()=>i.value),(()=>{s.value=xi(t)??{fileName:"/",componentName:"Page"}}));const a=e=>"$"in e?e.$.isMounted:!!e,c=(e,t,n)=>{const r=n?n.map((n=>vi(e,t,n.$.uid))):null;Fi.setInstance(e,t,r)},l=(e,n)=>{const i=r.get(e);if(i){const r=i.indexOf(n);if(r>-1){const[n]=i.splice(r,1);o.delete(n.$.uid),c(t.id,e,i)}}};return e.reactive({id:e.computed((()=>t.id)),path:e.computed((()=>{return`/${((e=s.value.fileName??"").endsWith("/index.vue")?e.slice(0,e.length-10):e.replace(/\.(\w*)$/,"")).replace(/^\//,"")}`;var e})),get key(){return`${t.id}:${i.value}`},scope:e.computed((()=>({}))),schema:s,appHelper:e.computed((()=>{const e=s.value,{utils:t,constants:r,...o}=n.appHelper;return{utils:{...t,...Ui(Fi.libraryMap,Reflect.get(e,"utils")??[])},constants:{...r,...Reflect.get(e,"constants")},...o}})),document:e.computed((()=>t)),messages:e.computed((()=>Di(n.i18n,Reflect.get(s.value,"i18n")))),instancesMap:e.computed((()=>r)),getNode:e=>e?t.getNode(e):null,mountInstance:(n,i)=>{const s=t.id;if(null==i){let e=r.get(n);return void(e&&(e=e.filter(a),e.length>0?(r.set(n,e),c(s,n,e)):(r.delete(n),c(s,n,null))))}let u,h;if("$"in i)h=i,u=h.$el;else{if(!_i(i))return;h=i.__vueParentComponent.proxy,u=i}const p=bi(u).nodeId;p&&p!==n&&l(p,h),e.onUnmounted((()=>l(n,h)),h.$),function(e,t){e[fi]=t.docId,e[di]=t.nodeId,e[mi]=t.instance}(u,{nodeId:n,docId:s,instance:h});let f=r.get(n);if(f){const e=f.length;f=f.filter(a);let t=f.length!==e;if(f.includes(h)||(f.push(h),t=!0),!t)return}else f=[h];o.set(h.$.uid,h),r.set(n,f),c(s,n,f)},unmountInstance:l,getComponentInstance:e=>o.get(e),rerender:()=>{const e=Date.now();n.suspense?Object.assign(i,{_value:e,_rawValue:e}):i.value=e,Zt.cleanCachedModules()}})}Object.assign(Vi,{displayName:"Page",componentMetadata:{componentName:"Page",configure:{supports:{style:!0,className:!0},component:{isContainer:!0,disableBehaviors:"*"}}}});const Ji=new class{stylePoints=new Map;async load(e){const t={},n={};it.forEach((e=>{t[e]=[],n[e]=[]})),lt(n,t,e);const r=t[ot.Environment].concat(t[ot.Library],t[ot.Theme],t[ot.Runtime],t[ot.App]),o=n[ot.Environment].concat(n[ot.Library],n[ot.Theme],n[ot.Runtime],n[ot.App]);await Promise.all(r.map((({content:e,level:t,type:n,id:r})=>this.loadStyle(e,t,n===st.CSSUrl,r)))),await Promise.all(o.map((({content:e,type:t,scriptType:n})=>this.loadScript(e,t===st.JSUrl,n))))}loadStyle(e,t,n,r){if(!e)return;let o;return r?(o=this.stylePoints.get(r),o||(o=new ut(t,r),this.stylePoints.set(r,o))):o=new ut(t),n?o.applyUrl(e):o.applyText(e)}loadScript(e,t,n){if(e)return t?function(e,t){const n=document.createElement("script");n.onload=o,n.onerror=o;const r=at();function o(e){n.onload=null,n.onerror=null,"load"===e.type?r.resolve():r.reject()}return n.src=e,n.async=!1,t&&(n.type=t),document.head.appendChild(n),r.promise()}(e,n):function(e,t){const n=document.createElement("script");t&&(n.type=t),n.text=e,document.head.appendChild(n),document.head.removeChild(n)}(e,n)}async loadAsyncLibrary(e){const t=[],n=[],r=[];for(const o in e)e[o].async&&(t.push(window[e[o].library]),n.push(e[o].library),r.push(e[o]));await Promise.all(t).then((e=>{e.length>0&&e.map(((e,t)=>{const{exportMode:o,exportSourceLibrary:i,library:s}=r[t];return window[n[t]]="functionCall"!==o||null!=i&&i!==s?e:e(),e}))}))}},Xi={Slot:$i,Leaf:Gi,Page:Vi};var Ki=function(){const t=e.shallowRef({}),n=e.shallowRef("default"),r=e.shallowRef(),o=e.shallowRef(Fi.autoRender),i=e.shallowRef("design"),s=e.shallowRef({}),a=e.shallowRef({}),c=e.shallowRef({}),l=e.shallowRef(!0),u=e.shallowRef({}),h=new Map,p=e.shallowRef([]),f=e.shallowRef(!1),d=e.shallowReactive({i18n:{},appHelper:{utils:{},constants:{}},suspense:!1}),m=[];function y(){a.value=Bi(s.value,c.value,g),a.value={...Xi,...a.value}}function g(t){const n={...t,componentsTree:t.componentsTree.map(ji)},r=n.componentsTree[0];if("Component"===r.componentName&&r.css){const e=window.document,t=e.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("id",`Component-${r.id||""}`),t.appendChild(e.createTextNode(r.css||"")),e.getElementsByTagName("head")[0].appendChild(t)}const o=v;return e.defineComponent({setup(){const t=n.i18n?.messages||{};return()=>e.h(li,{locale:o.locale.value,messages:t,schema:r,appHelper:o.context,designMode:o.designMode.value,device:o.device.value,components:o.components,requestHandlersMap:o.requestHandlersMap.value,thisRequiredInJSE:Fi.thisRequiredInJSE,getNode:e=>o.documentInstanceMap.get(e)?.getNode(e),onCompGetCtx:(e,t)=>{o.documentInstanceMap.get(e.id)?.mountInstance(e.id,t)}})}})}const v=e.reactive({config:e.markRaw(si),layout:t,device:n,locale:r,designMode:i,libraryMap:s,components:a,autoRender:o,componentsMap:c,disableCompMock:l,documentInstances:p,requestHandlersMap:u,thisRequiredInJSE:f,isSimulatorRenderer:!0});v.app=e.markRaw(e.createApp(hi,{rendererContainer:v})),v.router=e.markRaw(nt({history:z("/"),routes:[]})),v.getComponent=e=>{const t=e.split("."),n=[];for(;t.length>0;){const r=a.value?.[e];if(r)return Li(r,n);const o=t.pop();if(!o)break;n.unshift(o),e=t.join(".")}return null},v.getClosestNodeInstance=(e,t)=>{if(function(e){return Lt(e)&&yi in e}(e)){const{cid:n,did:r}=e,o=h.get(r),i=o?.getComponentInstance(n)??null;return i&&Hi(i.$,t)}return Ai(e,t)},v.findDOMNodes=e=>{if(e){const{did:t,cid:n}=e,r=h.get(t),o=r?.getComponentInstance(n);return o?function(e){const t=[],n=e.$el;if(Ei(n)){const r=e.$;Ti(t,r,n,(e=>e.previousSibling)),Ri(t,r),Ti(t,r,n,(e=>e.nextSibling))}else t.push(n);return t}(o):null}return null},v.getClientRects=e=>Si(e),v.setNativeSelection=e=>{Mi=e},v.setDraggingState=e=>dt.setDragging(e),v.setCopyState=e=>dt.setCopy(e),v.clearState=()=>dt.release(),v.rerender=()=>p.value.forEach((e=>e.rerender())),v.dispose=()=>{v.app.unmount(),m.forEach((e=>e()))},v.getCurrentDocument=()=>{const e=Fi.project.currentDocument,t=p.value;return e?t.find((t=>t.id===e.id))??null:null},v.load=e=>Ji.load(e),v.loadAsyncLibrary=async e=>{await Ji.loadAsyncLibrary(e),y()};let _=!1;v.run=()=>{if(_)return;_=!0;const e="simulator-app";let t=document.getElementById(e);t||(t=document.createElement("div"),document.body.appendChild(t),t.id=e),document.documentElement.classList.add("engine-page"),document.body.classList.add("engine-document"),v.app.use(v.router).mount(t),Fi.project.setRendererReady(v)},m.push(Fi.connect(v,(()=>{const e=Fi.project.get("config")||{};t.value=e.layout??{},l.value=Array.isArray(e.disableCompMock)?e.disableCompMock:Boolean(e.disableCompMock),s.value===Fi.libraryMap&&c.value===Fi.designer.componentsMap||(s.value=Fi.libraryMap||{},c.value=Fi.designer.componentsMap,y()),r.value=Fi.locale,n.value=Fi.device,i.value=Fi.designMode,u.value=Fi.requestHandlersMap??{},f.value=Fi.thisRequiredInJSE??!1,p.value.forEach((e=>e.rerender()))})));const b=e.ref();return m.push(Fi.watchEffect((async()=>{const{router:e}=v;p.value=Fi.project.documents.map((t=>{let n=h.get(t.id);return n?e.hasRoute(n.id)&&e.removeRoute(n.id):(n=qi({id:t.id,getNode:t?.getNode?.bind(t),export:t?.export?.bind(t),exportSchema:t?.exportSchema?.bind(t)},d),h.set(t.id,n)),e.addRoute({name:n.id,path:n.path,meta:{},component:pi,props:((e,t)=>()=>({simulator:t,documentInstance:e}))(n,v)}),n})),e.getRoutes().forEach((t=>{const n=t.name;p.value.some((e=>e.id===n))||(e.removeRoute(n),h.delete(n))}));const t=v.getCurrentDocument();t&&(b.value=t.id)}))),e.watch((()=>b.value),(async e=>{try{d.suspense=!0,await v.router.replace({name:e,force:!0})}finally{d.suspense=!1}})),Fi.componentsConsumer.consume((async e=>{e&&(await Ji.load(e),y())})),Fi.injectionConsumer.consume((e=>{if(e.appHelper){const{utils:t,constants:n,...r}=e.appHelper;Object.assign(d.appHelper,{utils:Array.isArray(t)?Ui(Fi.libraryMap,t):t??{},constants:n??{},...r})}d.i18n=e.i18n??{}})),v}();return"undefined"!=typeof window&&(window.SimulatorRenderer=Ki),window.addEventListener("beforeunload",(()=>{window.ArvinMicrocodeSimulatorHost=null,window.SimulatorRenderer=null,Ki.dispose();const e=document.getElementById("simulator-app");e&&e.__vue_app__&&e.__vue_app__.unmount()})),Ki}));
//# sourceMappingURL=/sm/392f7431a53da8dc3012ecb32886387945f4f46c288c5845f030d4a2d64b16da.map