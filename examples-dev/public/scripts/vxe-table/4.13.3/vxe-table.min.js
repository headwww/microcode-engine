((e,t)=>{"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue"),require("@vxe-ui/core"),require("xe-utils")):"function"==typeof define&&define.amd?define([,"@vxe-ui/core","xe-utils"],t):"object"==typeof exports?exports.VxeUITable=t(require("vue"),require("@vxe-ui/core"),require("xe-utils")):e.VxeUITable=t(e.Vue,e.VxeUI,e.XEUtils)})("undefined"!=typeof self?self:this,function(_t,Bt,Nt){{var Pt={9274:function(e){e.exports=_t},4345:function(e){e.exports=Bt},8871:function(e){e.exports=Nt},9306:function(e,t,r){var l=r(4901),o=r(6823),a=TypeError;e.exports=function(e){if(l(e))return e;throw new a(o(e)+" is not a function")}},679:function(e,t,r){var l=r(1625),o=TypeError;e.exports=function(e,t){if(l(t,e))return e;throw new o("Incorrect invocation")}},8551:function(e,t,r){var l=r(34),o=String,a=TypeError;e.exports=function(e){if(l(e))return e;throw new a(o(e)+" is not an object")}},9617:function(e,t,r){function l(i){return function(e,t,r){var l=s(e),o=c(l);if(0!==o){var a,n=d(r,o);if(i&&t!=t){for(;n<o;)if((a=l[n++])!=a)return!0}else for(;n<o;n++)if((i||n in l)&&l[n]===t)return i||n||0}return!i&&-1}}var s=r(5397),d=r(5610),c=r(6198);e.exports={includes:l(!0),indexOf:l(!1)}},4527:function(e,t,r){var l=r(3724),o=r(4376),a=TypeError,n=Object.getOwnPropertyDescriptor,r=l&&!function(){if(void 0!==this)return 1;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=r?function(e,t){if(o(e)&&!n(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6319:function(e,t,r){var o=r(8551),a=r(9539);e.exports=function(t,e,r,l){try{return l?e(o(r)[0],r[1]):e(r)}catch(e){a(t,"throw",e)}}},2195:function(e,t,r){var r=r(9504),l=r({}.toString),o=r("".slice);e.exports=function(e){return o(l(e),8,-1)}},6955:function(e,t,r){var l=r(2140),o=r(4901),a=r(2195),n=r(8227)("toStringTag"),i=Object,s="Arguments"===a(function(){return arguments}());e.exports=l?a:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=((e,t)=>{try{return e[t]}catch(e){}})(e=i(e),n))?t:s?a(e):"Object"===(t=a(e))&&o(e.callee)?"Arguments":t}},7740:function(e,t,r){var s=r(9297),d=r(5031),c=r(7347),u=r(4913);e.exports=function(e,t,r){for(var l=d(t),o=u.f,a=c.f,n=0;n<l.length;n++){var i=l[n];s(e,i)||r&&s(r,i)||o(e,i,a(t,i))}}},2211:function(e,t,r){r=r(9039);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},2529:function(e){e.exports=function(e,t){return{value:e,done:t}}},6699:function(e,t,r){var l=r(3724),o=r(4913),a=r(6980);e.exports=l?function(e,t,r){return o.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},6980:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4659:function(e,t,r){var l=r(3724),o=r(4913),a=r(6980);e.exports=function(e,t,r){l?o.f(e,t,a(0,r)):e[t]=r}},2106:function(e,t,r){var l=r(283),o=r(4913);e.exports=function(e,t,r){return r.get&&l(r.get,t,{getter:!0}),r.set&&l(r.set,t,{setter:!0}),o.f(e,t,r)}},6840:function(e,t,r){var n=r(4901),i=r(4913),s=r(283),d=r(9433);e.exports=function(e,t,r,l){var o=(l=l||{}).enumerable,a=void 0!==l.name?l.name:t;if(n(r)&&s(r,a,l),l.global)o?e[t]=r:d(t,r);else{try{l.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return e}},6279:function(e,t,r){var o=r(6840);e.exports=function(e,t,r){for(var l in t)o(e,l,t[l],r);return e}},9433:function(e,t,r){var l=r(4576),o=Object.defineProperty;e.exports=function(t,r){try{o(l,t,{value:r,configurable:!0,writable:!0})}catch(e){l[t]=r}return r}},3724:function(e,t,r){r=r(9039);e.exports=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:function(e,t,r){var l=r(4576),r=r(34),o=l.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},6837:function(e){var t=TypeError;e.exports=function(e){if(9007199254740991<e)throw t("Maximum allowed index exceeded");return e}},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2839:function(e,t,r){r=r(4576).navigator,r=r&&r.userAgent;e.exports=r?String(r):""},9519:function(e,t,r){var l,o,a=r(4576),r=r(2839),n=a.process,a=a.Deno,n=n&&n.versions||a&&a.version,a=n&&n.v8;!(o=a?0<(l=a.split("."))[0]&&l[0]<4?1:+(l[0]+l[1]):o)&&r&&(!(l=r.match(/Edge\/(\d+)/))||74<=l[1])&&(l=r.match(/Chrome\/(\d+)/))&&(o=+l[1]),e.exports=o},6518:function(e,t,r){var d=r(4576),c=r(7347).f,u=r(6699),p=r(6840),h=r(9433),m=r(7740),v=r(2796);e.exports=function(e,t){var r,l,o,a=e.target,n=e.global,i=e.stat,s=n?d:i?d[a]||h(a,{}):d[a]&&d[a].prototype;if(s)for(r in t){if(l=t[r],o=e.dontCallGetSet?(o=c(s,r))&&o.value:s[r],!v(n?r:a+(i?".":"#")+r,e.forced)&&void 0!==o){if(typeof l==typeof o)continue;m(l,o)}(e.sham||o&&o.sham)&&u(l,"sham",!0),p(s,r,l,e)}}},9039:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},6080:function(e,t,r){var l=r(7476),o=r(9306),a=r(616),n=l(l.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?n(e,t):function(){return e.apply(t,arguments)}}},616:function(e,t,r){r=r(9039);e.exports=!r(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},9565:function(e,t,r){var r=r(616),l=Function.prototype.call;e.exports=r?l.bind(l):function(){return l.apply(l,arguments)}},350:function(e,t,r){var l=r(3724),r=r(9297),o=Function.prototype,a=l&&Object.getOwnPropertyDescriptor,r=r(o,"name"),n=r&&"something"===function(){}.name,l=r&&(!l||a(o,"name").configurable);e.exports={EXISTS:r,PROPER:n,CONFIGURABLE:l}},7476:function(e,t,r){var l=r(2195),o=r(9504);e.exports=function(e){if("Function"===l(e))return o(e)}},9504:function(e,t,r){var r=r(616),l=Function.prototype,o=l.call,l=r&&l.bind.bind(o,o);e.exports=r?l:function(e){return function(){return o.apply(e,arguments)}}},7751:function(e,t,r){var l=r(4576),o=r(4901);e.exports=function(e,t){return arguments.length<2?(r=l[e],o(r)?r:void 0):l[e]&&l[e][t];var r}},1767:function(e){e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},851:function(e,t,r){var l=r(6955),o=r(5966),a=r(4117),n=r(6269),i=r(8227)("iterator");e.exports=function(e){if(!a(e))return o(e,i)||o(e,"@@iterator")||n[l(e)]}},81:function(e,t,r){var l=r(9565),o=r(9306),a=r(8551),n=r(6823),i=r(851),s=TypeError;e.exports=function(e,t){t=arguments.length<2?i(e):t;if(o(t))return a(l(t,e));throw new s(n(e)+" is not iterable")}},5966:function(e,t,r){var l=r(9306),o=r(4117);e.exports=function(e,t){e=e[t];return o(e)?void 0:l(e)}},4576:function(e,t,r){function l(e){return e&&e.Math===Math&&e}e.exports=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof r.g&&r.g)||l("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,r){var l=r(9504),o=r(8981),a=l({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},421:function(e){e.exports={}},397:function(e,t,r){r=r(7751);e.exports=r("document","documentElement")},5917:function(e,t,r){var l=r(3724),o=r(9039),a=r(4055);e.exports=!l&&!o(function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},7055:function(e,t,r){var l=r(9504),o=r(9039),a=r(2195),n=Object,i=l("".split);e.exports=o(function(){return!n("z").propertyIsEnumerable(0)})?function(e){return"String"===a(e)?i(e,""):n(e)}:n},3706:function(e,t,r){var l=r(9504),o=r(4901),r=r(7629),a=l(Function.toString);o(r.inspectSource)||(r.inspectSource=function(e){return a(e)}),e.exports=r.inspectSource},1181:function(e,t,r){var l,o,a,n,i=r(8622),s=r(4576),d=r(34),c=r(6699),u=r(9297),p=r(7629),h=r(6119),r=r(421),m="Object already initialized",v=s.TypeError,s=s.WeakMap,g=i||p.state?((a=p.state||(p.state=new s)).get=a.get,a.has=a.has,a.set=a.set,l=function(e,t){if(a.has(e))throw new v(m);return t.facade=e,a.set(e,t),t},o=function(e){return a.get(e)||{}},function(e){return a.has(e)}):(r[n=h("state")]=!0,l=function(e,t){if(u(e,n))throw new v(m);return t.facade=e,c(e,n,t),t},o=function(e){return u(e,n)?e[n]:{}},function(e){return u(e,n)});e.exports={set:l,get:o,has:g,enforce:function(e){return g(e)?o(e):l(e,{})},getterFor:function(t){return function(e){if(d(e)&&(e=o(e)).type===t)return e;throw new v("Incompatible receiver, "+t+" required")}}}},4209:function(e,t,r){var l=r(8227),o=r(6269),a=l("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||n[a]===e)}},4376:function(e,t,r){var l=r(2195);e.exports=Array.isArray||function(e){return"Array"===l(e)}},4901:function(e){var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:function(e,t,r){function l(e,t){return(e=s[i(e)])===c||e!==d&&(a(t)?o(t):!!t)}var o=r(9039),a=r(4901),n=/#|\.prototype\./,i=l.normalize=function(e){return String(e).replace(n,".").toLowerCase()},s=l.data={},d=l.NATIVE="N",c=l.POLYFILL="P";e.exports=l},4117:function(e){e.exports=function(e){return null==e}},34:function(e,t,r){var l=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:l(e)}},6395:function(e){e.exports=!1},757:function(e,t,r){var l=r(7751),o=r(4901),a=r(1625),r=r(7040),n=Object;e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=l("Symbol");return o(t)&&a(t.prototype,n(e))}},2652:function(e,t,r){function f(e,t){this.stopped=e,this.result=t}var x=r(6080),b=r(9565),C=r(8551),w=r(6823),y=r(4209),T=r(6198),E=r(1625),R=r(81),S=r(851),I=r(9539),D=TypeError,M=f.prototype;e.exports=function(e,t,r){function l(e){return a&&I(a,"normal",e),new f(!0,e)}function o(e){return p?(C(e),v?g(e[0],e[1],l):g(e[0],e[1])):v?g(e,l):g(e)}var a,n,i,s,d,c,u=r&&r.that,p=!(!r||!r.AS_ENTRIES),h=!(!r||!r.IS_RECORD),m=!(!r||!r.IS_ITERATOR),v=!(!r||!r.INTERRUPTED),g=x(t,u);if(h)a=e.iterator;else if(m)a=e;else{if(!(r=S(e)))throw new D(w(e)+" is not iterable");if(y(r)){for(n=0,i=T(e);n<i;n++)if((s=o(e[n]))&&E(M,s))return s;return new f(!1)}a=R(e,r)}for(d=(h?e:a).next;!(c=b(d,a)).done;){try{s=o(c.value)}catch(e){I(a,"throw",e)}if("object"==typeof s&&s&&E(M,s))return s}return new f(!1)}},9539:function(e,t,r){var a=r(9565),n=r(8551),i=r(5966);e.exports=function(e,t,r){var l,o;n(e);try{if(!(l=i(e,"return"))){if("throw"===t)throw r;return r}l=a(l,e)}catch(e){o=!0,l=e}if("throw"===t)throw r;if(o)throw l;return n(l),r}},9462:function(e,t,r){function l(l){var o=d.getterFor(l?v:m);return i(n(u),{next:function(){var t=o(this);if(l)return t.nextHandler();try{var e=t.done?void 0:t.nextHandler();return p(e,t.done)}catch(e){throw t.done=!0,e}},return:function(){var e,t=o(this),r=t.iterator;if(t.done=!0,l)return(e=c(r,"return"))?a(e,r):p(void 0,!0);if(t.inner)try{h(t.inner.iterator,"normal")}catch(e){return h(r,"throw",e)}return r&&h(r,"normal"),p(void 0,!0)}})}var a=r(9565),n=r(2360),o=r(6699),i=r(6279),s=r(8227),d=r(1181),c=r(5966),u=r(7657).IteratorPrototype,p=r(2529),h=r(9539),r=s("toStringTag"),m="IteratorHelper",v="WrapForValidIterator",g=d.set,f=l(!0),x=l(!1);o(x,r,"Iterator Helper"),e.exports=function(r,l){function e(e,t){t?(t.iterator=e.iterator,t.next=e.next):t=e,t.type=l?v:m,t.nextHandler=r,t.counter=0,t.done=!1,g(this,t)}return e.prototype=l?f:x,e}},713:function(e,t,r){var l=r(9565),o=r(9306),a=r(8551),n=r(1767),i=r(9462),s=r(6319),d=i(function(){var e=this.iterator,t=a(l(this.next,e));if(!(this.done=!!t.done))return s(e,this.mapper,[t.value,this.counter++],!0)});e.exports=function(e){return a(this),o(e),new d(n(this),{mapper:e})}},7657:function(e,t,r){var l,o,a=r(9039),n=r(4901),i=r(34),s=r(2360),d=r(2787),c=r(6840),u=r(8227),r=r(6395),p=u("iterator"),u=!1;[].keys&&("next"in(o=[].keys())?(d=d(d(o)))!==Object.prototype&&(l=d):u=!0),!i(l)||a(function(){var e={};return l[p].call(e)!==e})?l={}:r&&(l=s(l)),n(l[p])||c(l,p,function(){return this}),e.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:u}},6269:function(e){e.exports={}},6198:function(e,t,r){var l=r(8014);e.exports=function(e){return l(e.length)}},283:function(e,t,r){var l=r(9504),o=r(9039),a=r(4901),n=r(9297),i=r(3724),s=r(350).CONFIGURABLE,d=r(3706),r=r(1181),c=r.enforce,u=r.get,p=String,h=Object.defineProperty,m=l("".slice),v=l("".replace),g=l([].join),f=i&&!o(function(){return 8!==h(function(){},"length",{value:8}).length}),x=String(String).split("String"),r=e.exports=function(e,t,r){"Symbol("===m(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!n(e,"name")||s&&e.name!==t)&&(i?h(e,"name",{value:t,configurable:!0}):e.name=t),f&&r&&n(r,"arity")&&e.length!==r.arity&&h(e,"length",{value:r.arity});try{r&&n(r,"constructor")&&r.constructor?i&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}r=c(e);return n(r,"source")||(r.source=g(x,"string"==typeof t?t:"")),e};Function.prototype.toString=r(function(){return a(this)&&u(this).source||d(this)},"toString")},741:function(e){var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){e=+e;return(0<e?r:t)(e)}},2360:function(e,t,r){function l(){}function o(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}var a,n=r(8551),i=r(6801),s=r(8727),d=r(421),c=r(397),u=r(4055),r=r(6119),p=">",h="<",m="prototype",v="script",g=r("IE_PROTO"),f=function(e){return h+v+p+e+h+"/"+v+p},x=function(){try{a=new ActiveXObject("htmlfile")}catch(e){}x="undefined"==typeof document||document.domain&&a?o(a):(e=u("iframe"),t="java"+v+":",e.style.display="none",c.appendChild(e),e.src=String(t),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F);for(var e,t,r=s.length;r--;)delete x[m][s[r]];return x()};d[g]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(l[m]=n(e),r=new l,l[m]=null,r[g]=e):r=x(),void 0===t?r:i.f(r,t)}},6801:function(e,t,r){var l=r(3724),o=r(8686),i=r(4913),s=r(8551),d=r(5397),c=r(1072);t.f=l&&!o?Object.defineProperties:function(e,t){s(e);for(var r,l=d(t),o=c(t),a=o.length,n=0;n<a;)i.f(e,r=o[n++],l[r]);return e}},4913:function(e,t,r){var l=r(3724),o=r(5917),a=r(8686),n=r(8551),i=r(6969),s=TypeError,d=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u="enumerable",p="configurable",h="writable";t.f=l?a?function(e,t,r){var l;return n(e),t=i(t),n(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]&&(l=c(e,t))&&l[h]&&(e[t]=r.value,r={configurable:(p in r?r:l)[p],enumerable:(u in r?r:l)[u],writable:!1}),d(e,t,r)}:d:function(e,t,r){if(n(e),t=i(t),n(r),o)try{return d(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new s("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7347:function(e,t,r){var l=r(3724),o=r(9565),a=r(8773),n=r(6980),i=r(5397),s=r(6969),d=r(9297),c=r(5917),u=Object.getOwnPropertyDescriptor;t.f=l?u:function(e,t){if(e=i(e),t=s(t),c)try{return u(e,t)}catch(e){}if(d(e,t))return n(!o(a.f,e,t),e[t])}},8480:function(e,t,r){var l=r(1828),o=r(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return l(e,o)}},3717:function(e,t){t.f=Object.getOwnPropertySymbols},2787:function(e,t,r){var l=r(9297),o=r(4901),a=r(8981),n=r(6119),r=r(2211),i=n("IE_PROTO"),s=Object,d=s.prototype;e.exports=r?s.getPrototypeOf:function(e){var t,e=a(e);return l(e,i)?e[i]:(t=e.constructor,o(t)&&e instanceof t?t.prototype:e instanceof s?d:null)}},1625:function(e,t,r){r=r(9504);e.exports=r({}.isPrototypeOf)},1828:function(e,t,r){var l=r(9504),n=r(9297),i=r(5397),s=r(9617).indexOf,d=r(421),c=l([].push);e.exports=function(e,t){var r,l=i(e),o=0,a=[];for(r in l)!n(d,r)&&n(l,r)&&c(a,r);for(;t.length>o;)!n(l,r=t[o++])||~s(a,r)||c(a,r);return a}},1072:function(e,t,r){var l=r(1828),o=r(8727);e.exports=Object.keys||function(e){return l(e,o)}},8773:function(e,t){var r={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,o=l&&!r.call({1:2},1);t.f=o?function(e){e=l(this,e);return!!e&&e.enumerable}:r},4270:function(e,t,r){var o=r(9565),a=r(4901),n=r(34),i=TypeError;e.exports=function(e,t){var r,l;if("string"===t&&a(r=e.toString)&&!n(l=o(r,e)))return l;if(a(r=e.valueOf)&&!n(l=o(r,e)))return l;if("string"!==t&&a(r=e.toString)&&!n(l=o(r,e)))return l;throw new i("Can't convert object to primitive value")}},5031:function(e,t,r){var l=r(7751),o=r(9504),a=r(8480),n=r(3717),i=r(8551),s=o([].concat);e.exports=l("Reflect","ownKeys")||function(e){var t=a.f(i(e)),r=n.f;return r?s(t,r(e)):t}},7750:function(e,t,r){var l=r(4117),o=TypeError;e.exports=function(e){if(l(e))throw new o("Can't call method on "+e);return e}},6119:function(e,t,r){var l=r(5745),o=r(3392),a=l("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},7629:function(e,t,r){var l=r(6395),o=r(4576),r=r(9433),a="__core-js_shared__",e=e.exports=o[a]||r(a,{});(e.versions||(e.versions=[])).push({version:"3.39.0",mode:l?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,r){var l=r(7629);e.exports=function(e,t){return l[e]||(l[e]=t||{})}},4495:function(e,t,r){var l=r(9519),o=r(9039),a=r(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&l&&l<41})},5610:function(e,t,r){var l=r(1291),o=Math.max,a=Math.min;e.exports=function(e,t){e=l(e);return e<0?o(e+t,0):a(e,t)}},5397:function(e,t,r){var l=r(7055),o=r(7750);e.exports=function(e){return l(o(e))}},1291:function(e,t,r){var l=r(741);e.exports=function(e){e=+e;return e!=e||0==e?0:l(e)}},8014:function(e,t,r){var l=r(1291),o=Math.min;e.exports=function(e){e=l(e);return 0<e?o(e,9007199254740991):0}},8981:function(e,t,r){var l=r(7750),o=Object;e.exports=function(e){return o(l(e))}},2777:function(e,t,r){var l=r(9565),o=r(34),a=r(757),n=r(5966),i=r(4270),r=r(8227),s=TypeError,d=r("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var r=n(e,d);if(r){if(r=l(r,e,t=void 0===t?"default":t),!o(r)||a(r))return r;throw new s("Can't convert object to primitive value")}return i(e,t=void 0===t?"number":t)}},6969:function(e,t,r){var l=r(2777),o=r(757);e.exports=function(e){e=l(e,"string");return o(e)?e:e+""}},2140:function(e,t,r){var l={};l[r(8227)("toStringTag")]="z",e.exports="[object z]"===String(l)},6823:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3392:function(e,t,r){var r=r(9504),l=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++l+o,36)}},7040:function(e,t,r){r=r(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,r){var l=r(3724),r=r(9039);e.exports=l&&r(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8622:function(e,t,r){var l=r(4576),r=r(4901),l=l.WeakMap;e.exports=r(l)&&/native code/.test(String(l))},8227:function(e,t,r){var l=r(4576),o=r(5745),a=r(9297),n=r(3392),i=r(4495),r=r(7040),s=l.Symbol,d=o("wks"),c=r?s.for||s:s&&s.withoutSetter||n;e.exports=function(e){return a(d,e)||(d[e]=i&&a(s,e)?s[e]:c("Symbol."+e)),d[e]}},4114:function(e,t,r){var l=r(6518),a=r(8981),n=r(6198),i=r(4527),s=r(6837);l({target:"Array",proto:!0,arity:1,forced:r(9039)(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!(()=>{try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}})()},{push:function(e){var t=a(this),r=n(t),l=arguments.length;s(r+l);for(var o=0;o<l;o++)t[r]=arguments[o],r++;return i(t,r),r}})},8111:function(e,t,r){function l(){if(i(this,g),c(this)===g)throw new C("Abstract class Iterator not directly constructable")}function o(t,e){f?u(g,t,{configurable:!0,get:function(){return e},set:function(e){if(s(this),this===g)throw new C("You can't redefine this property");m(this,t)?this[t]=e:p(this,t,e)}}):g[t]=e}var a=r(6518),n=r(4576),i=r(679),s=r(8551),d=r(4901),c=r(2787),u=r(2106),p=r(4659),h=r(9039),m=r(9297),v=r(8227),g=r(7657).IteratorPrototype,f=r(3724),r=r(6395),x="constructor",b="Iterator",v=v("toStringTag"),C=TypeError,w=n[b],n=r||!d(w)||w.prototype!==g||!h(function(){w({})});m(g,v)||o(v,b),!n&&m(g,x)&&g[x]!==Object||o(x,l),l.prototype=g,a({global:!0,constructor:!0,forced:n},{Iterator:l})},1148:function(e,t,r){var l=r(6518),o=r(2652),a=r(9306),n=r(8551),i=r(1767);l({target:"Iterator",proto:!0,real:!0},{every:function(r){n(this),a(r);var e=i(this),l=0;return!o(e,function(e,t){if(!r(e,l++))return t()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2489:function(e,t,r){var l=r(6518),o=r(9565),a=r(9306),n=r(8551),i=r(1767),s=r(9462),d=r(6319),r=r(6395),c=s(function(){for(var e,t=this.iterator,r=this.predicate,l=this.next;;){if(e=n(o(l,t)),this.done=!!e.done)return;if(d(t,r,[e=e.value,this.counter++],!0))return e}});l({target:"Iterator",proto:!0,real:!0,forced:r},{filter:function(e){return n(this),a(e),new c(i(this),{predicate:e})}})},116:function(e,t,r){var l=r(6518),o=r(2652),a=r(9306),n=r(8551),i=r(1767);l({target:"Iterator",proto:!0,real:!0},{find:function(r){n(this),a(r);var e=i(this),l=0;return o(e,function(e,t){if(r(e,l++))return t(e)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7588:function(e,t,r){var l=r(6518),o=r(2652),a=r(9306),n=r(8551),i=r(1767);l({target:"Iterator",proto:!0,real:!0},{forEach:function(t){n(this),a(t);var e=i(this),r=0;o(e,function(e){t(e,r++)},{IS_RECORD:!0})}})},1701:function(e,t,r){var l=r(6518),o=r(713);l({target:"Iterator",proto:!0,real:!0,forced:r(6395)},{map:o})},8237:function(e,t,r){var l=r(6518),a=r(2652),n=r(9306),i=r(8551),s=r(1767),d=TypeError;l({target:"Iterator",proto:!0,real:!0},{reduce:function(t){i(this),n(t);var e=s(this),r=arguments.length<2,l=r?void 0:arguments[1],o=0;if(a(e,function(e){l=r?(r=!1,e):t(l,e,o),o++},{IS_RECORD:!0}),r)throw new d("Reduce of empty iterator with no initial value");return l}})},3579:function(e,t,r){var l=r(6518),o=r(2652),a=r(9306),n=r(8551),i=r(1767);l({target:"Iterator",proto:!0,real:!0},{some:function(r){n(this),a(r);var e=i(this),l=0;return o(e,function(e,t){if(r(e,l++))return t()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1806:function(e,t,r){var l=r(6518),o=r(8551),a=r(2652),n=r(1767),i=[].push;l({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return a(n(o(this)),i,{that:e,IS_RECORD:!0}),e}})},8992:function(e,t,r){r(8111)},3215:function(e,t,r){r(1148)},4520:function(e,t,r){r(2489)},2577:function(e,t,r){r(116)},3949:function(e,t,r){r(7588)},1454:function(e,t,r){r(1701)},8872:function(e,t,r){r(8237)},7550:function(e,t,r){r(3579)},1795:function(e,t,r){r(1806)}},zt={};function yt(e){var t=zt[e];return void 0!==t||(t=zt[e]={exports:{}},Pt[e].call(t.exports,t,t.exports,yt)),t.exports}yt.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return yt.d(t,{a:t}),t},yt.d=function(e,t){for(var r in t)yt.o(t,r)&&!yt.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},yt.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),yt.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},yt.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},yt.p="";var jt={},Ut=(yt.r(jt),yt.d(jt,{Colgroup:function(){return se},Column:function(){return ie},Grid:function(){return _e},Table:function(){return xt},Toolbar:function(){return Ct},VXETable:function(){return q},VxeColgroup:function(){return l},VxeColumn:function(){return r},VxeGrid:function(){return $e},VxeTable:function(){return ft},VxeToolbar:function(){return bt},VxeUI:function(){return xl.VxeUI},_t:function(){return W},clipboard:function(){return A},commands:function(){return F},config:function(){return P},default:function(){return Uo},formats:function(){return k},getConfig:function(){return d},getI18n:function(){return b},getIcon:function(){return m},getTheme:function(){return i},globalEvents:function(){return C},globalResize:function(){return w},hooks:function(){return V},install:function(){return jo},interceptor:function(){return O},log:function(){return L},menus:function(){return M},modal:function(){return Y},print:function(){return G},readFile:function(){return K},renderer:function(){return E},saveFile:function(){return X},setConfig:function(){return s},setI18n:function(){return f},setIcon:function(){return c},setLanguage:function(){return g},setTheme:function(){return a},setup:function(){return B},t:function(){return z},use:function(){return H},validators:function(){return D},version:function(){return e}}),{}),xl=(yt.r(Ut),yt.d(Ut,{Colgroup:function(){return se},Column:function(){return ie},Grid:function(){return _e},Table:function(){return xt},Toolbar:function(){return Ct},VXETable:function(){return q},VxeColgroup:function(){return l},VxeColumn:function(){return r},VxeGrid:function(){return $e},VxeTable:function(){return ft},VxeToolbar:function(){return bt},VxeUI:function(){return xl.VxeUI},_t:function(){return W},clipboard:function(){return A},commands:function(){return F},config:function(){return P},formats:function(){return k},getConfig:function(){return d},getI18n:function(){return b},getIcon:function(){return m},getTheme:function(){return i},globalEvents:function(){return C},globalResize:function(){return w},hooks:function(){return V},install:function(){return jo},interceptor:function(){return O},log:function(){return L},menus:function(){return M},modal:function(){return Y},print:function(){return G},readFile:function(){return K},renderer:function(){return E},saveFile:function(){return X},setConfig:function(){return s},setI18n:function(){return f},setIcon:function(){return c},setLanguage:function(){return g},setTheme:function(){return a},setup:function(){return B},t:function(){return z},use:function(){return H},validators:function(){return D},version:function(){return e}}),"undefined"!=typeof window&&(Tt=(Tt=window.document.currentScript)&&Tt.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(yt.p=Tt[1]),yt(8992),yt(3949),yt(4345)),Tt=yt(8871),bl=yt.n(Tt),Wt=null,qt=null,Xt=null,Kt="z-index-manage",Gt=null,Yt="z-index-style",Zt={m:1e3,s:1e3};function Qt(){return Wt||"undefined"!=typeof document&&(Wt=document),Wt}function Jt(){return qt=Wt&&!qt?Wt.body||Wt.getElementsByTagName("body")[0]:qt}function er(){var e;Gt||!(e=Qt())||(Gt=e.getElementById(Yt))||((Gt=e.createElement("style")).id=Yt,e.getElementsByTagName("head")[0].appendChild(Gt)),Gt&&(Gt.innerHTML=":root{--dom-main"+(e="-z-index")+":"+ar()+";--dom-sub"+e+":"+dr()+"}")}function tr(){var e,t;return Xt||(e=Qt())&&!(Xt=e.getElementById(Kt))&&(t=Jt())&&((Xt=e.createElement("div")).id=Kt,Xt.style.display="none",t.appendChild(Xt),lr(Zt.m),ir(Zt.s)),Xt}function rr(r){return function(e){var t;return e&&(e=Number(e),Zt[r]=e,t=tr())&&(t.dataset?t.dataset[r]=e+"":t.setAttribute("data-"+r,e+"")),er(),Zt[r]}}var lr=rr("m");function or(l,o){return function(e){var t=tr(),r=(r=t&&(t=t.dataset?t.dataset[l]:t.getAttribute("data-"+l))?Number(t):r)||Zt[l];return e?Number(e)<r?o():e:r}}var ar=or("m",nr);function nr(){return lr(ar()+1)}var ir=rr("s"),sr=or("s",cr);function dr(){return ar()+sr()}function cr(){return ir(sr()+1),dr()}var Tt={setCurrent:lr,getCurrent:ar,getNext:nr,setSubCurrent:ir,getSubCurrent:dr,getSubNext:cr,getMax:function(){var e=0;if(Qt()){var t=Jt();if(t)for(var r=t.getElementsByTagName("*"),l=0;l<r.length;l++){var o=r[l];o&&o.style&&1===o.nodeType&&(o=o.style.zIndex)&&/^\d+$/.test(o)&&(e=Math.max(e,Number(o)))}}return e}},ur=(er(),Tt);function Cl(e){return e&&!1!==e.enabled}function pr(e){return null==e||""===e}function hr(e){var e=e.name,t=bl().lastIndexOf(e,"."),r=e.substring(t+1,e.length).toLowerCase();return{filename:e.substring(0,t),type:r}}function _l(){return ur.getNext()}function Bl(){return ur.getCurrent()}function Nl(e){return e&&e.children&&0<e.children.length}function wl(e,t){var r;return e?(r=xl.VxeUI.getConfig().translate,bl().toValueString(r?r(""+e,t):e)):""}function yl(e,t){return""+(pr(e)?t?xl.VxeUI.getConfig().emptyCell:"":e)}function Tl(e){return""===e||bl().eqNull(e)}let e="4.13.3",a=(xl.VxeUI.version=e,xl.VxeUI.tableVersion=e,xl.VxeUI.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{enabled:!0,gt:28,preSize:1,oSize:0},virtualYConfig:{enabled:!0,gt:100,preSize:1,oSize:0},scrollbarConfig:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}}),Tt="vxe-table-icon-",xl.VxeUI.setIcon({TABLE_SORT_ASC:Tt+"caret-up",TABLE_SORT_DESC:Tt+"caret-down",TABLE_FILTER_NONE:Tt+"funnel",TABLE_FILTER_MATCH:Tt+"funnel",TABLE_EDIT:Tt+"edit",TABLE_TITLE_PREFIX:Tt+"question-circle-fill",TABLE_TITLE_SUFFIX:Tt+"question-circle-fill",TABLE_TREE_LOADED:Tt+"spinner roll",TABLE_TREE_OPEN:Tt+"caret-right rotate90",TABLE_TREE_CLOSE:Tt+"caret-right",TABLE_EXPAND_LOADED:Tt+"spinner roll",TABLE_EXPAND_OPEN:Tt+"arrow-right rotate90",TABLE_EXPAND_CLOSE:Tt+"arrow-right",TABLE_CHECKBOX_CHECKED:Tt+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:Tt+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:Tt+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:Tt+"radio-checked-fill",TABLE_RADIO_UNCHECKED:Tt+"radio-unchecked",TABLE_CUSTOM_SORT:Tt+"drag-handle",TABLE_MENU_OPTIONS:Tt+"arrow-right",TABLE_DRAG_ROW:Tt+"drag-handle",TABLE_DRAG_COLUMN:Tt+"drag-handle",TABLE_DRAG_STATUS_ROW:Tt+"sort",TABLE_DRAG_STATUS_SUB_ROW:Tt+"add-sub",TABLE_DRAG_STATUS_COLUMN:Tt+"swap",TABLE_DRAG_DISABLED:Tt+"no-drop",TOOLBAR_TOOLS_REFRESH:Tt+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:Tt+"repeat roll",TOOLBAR_TOOLS_IMPORT:Tt+"upload",TOOLBAR_TOOLS_EXPORT:Tt+"download",TOOLBAR_TOOLS_PRINT:Tt+"print",TOOLBAR_TOOLS_FULLSCREEN:Tt+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:Tt+"minimize",TOOLBAR_TOOLS_CUSTOM:Tt+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:Tt+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Tt+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:Tt+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Tt+"fixed-right-fill"}),xl.VxeUI.setTheme),i=xl.VxeUI.getTheme,s=xl.VxeUI.setConfig,d=xl.VxeUI.getConfig,c=xl.VxeUI.setIcon,m=xl.VxeUI.getIcon,g=xl.VxeUI.setLanguage,f=xl.VxeUI.setI18n,b=xl.VxeUI.getI18n,C=xl.VxeUI.globalEvents,w=xl.VxeUI.globalResize,E=xl.VxeUI.renderer,D=xl.VxeUI.validators,M=xl.VxeUI.menus,k=xl.VxeUI.formats,F=xl.VxeUI.commands,O=xl.VxeUI.interceptor,A=xl.VxeUI.clipboard,L=xl.VxeUI.log,V=xl.VxeUI.hooks,H=xl.VxeUI.use,B=e=>xl.VxeUI.setConfig(e),P=(xl.VxeUI.setup=B,e=>xl.VxeUI.setConfig(e)),z=(xl.VxeUI.config=P,(e,t)=>xl.VxeUI.getI18n(e,t)),W=(xl.VxeUI.t=z,(e,t)=>wl(e,t)),q=(xl.VxeUI._t=W,xl.VxeUI),X=e=>xl.VxeUI.saveFile(e),K=e=>xl.VxeUI.readFile(e),G=e=>xl.VxeUI.print(e),Y={get(e){return xl.VxeUI.modal.get(e)},close(e){return xl.VxeUI.modal.close(e)},open(e){return xl.VxeUI.modal.open(e)},alert(e,t,r){return xl.VxeUI.modal.alert(e,t,r)},confirm(e,t,r){return xl.VxeUI.modal.confirm(e,t,r)},message(e,t){return xl.VxeUI.modal.message(e,t)},notification(e,t,r){return xl.VxeUI.modal.notification(e,t,r)}};var El=yt(9274),Tt=(yt(4114),yt(1454),yt(7550),xl.VxeUI.log),mr="table v4.13.3";let el=Tt.create("warn",mr),tl=Tt.create("error",mr),{getI18n:Z,formats:Q}=xl.VxeUI;class Wo{constructor(e,t,{renderHeader:r,renderCell:l,renderFooter:o,renderData:a}={}){var n=e.props,i=e.xeGrid,s=t.formatter,d=!bl().isBoolean(t.visible)||t.visible,c=["seq","checkbox","radio","expand","html"];t.type&&-1===c.indexOf(t.type)&&el("vxe.error.errProp",["type="+t.type,c.join(", ")]),(bl().isBoolean(t.cellRender)||t.cellRender&&!bl().isObject(t.cellRender))&&el("vxe.error.errProp",["column.cell-render="+t.cellRender,"column.cell-render={}"]),(bl().isBoolean(t.editRender)||t.editRender&&!bl().isObject(t.editRender))&&el("vxe.error.errProp",["column.edit-render="+t.editRender,"column.edit-render={}"]),"expand"===t.type&&(c=n.treeConfig,n=e.getComputeMaps().computeTreeOpts,e=n.value,c)&&(e.showLine||e.line)&&tl("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"]),s&&(bl().isString(s)?(n=Q.get(s)||bl()[s])&&bl().isFunction(n.tableCellFormatMethod||n.cellFormatMethod)||tl("vxe.error.notFormats",[s]):!bl().isArray(s)||(c=Q.get(s[0])||bl()[s[0]])&&bl().isFunction(c.tableCellFormatMethod||c.cellFormatMethod)||tl("vxe.error.notFormats",[s[0]])),Object.assign(this,{type:t.type,property:t.field,field:t.field,title:t.title,width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,footerAlign:t.footerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,showFooterOverflow:t.showFooterOverflow,className:t.className,headerClassName:t.headerClassName,footerClassName:t.footerClassName,formatter:s,footerFormatter:t.footerFormatter,padding:t.padding,verticalAlign:t.verticalAlign,sortable:t.sortable,sortBy:t.sortBy,sortType:t.sortType,filters:Sr(t.filters),filterMultiple:!bl().isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterResetMethod:t.filterResetMethod,filterRecoverMethod:t.filterRecoverMethod,filterRender:t.filterRender,treeNode:t.treeNode,dragSort:t.dragSort,rowResize:t.rowResize,cellType:t.cellType,cellRender:t.cellRender,editRender:t.editRender,contentRender:t.contentRender,headerExportMethod:t.headerExportMethod,exportMethod:t.exportMethod,footerExportMethod:t.footerExportMethod,titleHelp:t.titleHelp,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,params:t.params,id:t.colId||bl().uniqueId("col_"),parentId:null,visible:d,halfVisible:!1,defaultVisible:d,defaultFixed:t.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:r||t.renderHeader,renderCell:l||t.renderCell,renderFooter:o||t.renderFooter,renderData:a,slots:t.slots}),i&&(e=i.getComputeMaps().computeProxyOpts,(n=e.value).beforeColumn)&&n.beforeColumn({$grid:i,column:this})}getTitle(){return wl(this.title||("seq"===this.type?Z("vxe.table.seqTitle"):""))}getKey(){var e=this.type;return this.field||(e?"type="+e:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}let J={},t;function Pl(){return t||((t=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),t}function zl(){return t||Pl()}function Et(e,t){return e?bl().isFunction(e)?e(t):e:""}function vr(e){return J[e]||(J[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),J[e]}function jl(e){return e&&/^\d+(px)?$/.test(e)}function Ul(e){return e&&/^\d+%$/.test(e)}function Rl(e,t){return e&&e.className&&e.className.match&&e.className.match(vr(t))}function Sl(e,t){e&&Rl(e,t)&&(e.className=e.className.replace(vr(t),""))}function Il(e,t){e&&!Rl(e,t)&&(Sl(e,t),e.className=e.className+" "+t)}function Wl(e,t="px"){return bl().isNumber(e)||/^\d+$/.test(""+e)?""+e+t:""+(e||"")}function gr(){var e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function fr(e){return e?e.offsetHeight:0}function ql(e){return e?(e=getComputedStyle(e),bl().toNumber(e.paddingTop)+bl().toNumber(e.paddingBottom)):0}function Dl(e,t){e&&(e.scrollTop=t)}function Ml(e,t){e&&(e.scrollLeft=t)}function xr(e,t){t="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==t&&e.setAttribute("title",t)}function kl(e,t,r,l){let o,a=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;a&&a.nodeType&&a!==document;){if(r&&Rl(a,r)&&(!l||l(a)))o=a;else if(a===t)return{flag:!r||!!o,container:t,targetElem:o};a=a.parentNode}return{flag:!1}}function Xl(e,t){return function e(t,r,l){if(t){var o=t.parentNode;if(l.top+=t.offsetTop,l.left+=t.offsetLeft,o&&o!==document.documentElement&&o!==document.body&&(l.top-=o.scrollTop,l.left-=o.scrollLeft),(!r||t!==r&&t.offsetParent!==r)&&t.offsetParent)return e(t.offsetParent,r,l)}return l}(e,t,{left:0,top:0})}function br(e){var e=e.getBoundingClientRect(),t=e.top,e=e.left,{scrollTop:r,scrollLeft:l,visibleHeight:o,visibleWidth:a}=gr();return{boundingTop:t,top:r+t,boundingLeft:e,left:l+e,visibleHeight:o,visibleWidth:a}}let ee="scrollIntoViewIfNeeded",te="scrollIntoView",le=(e,t)=>{let r=[];return e.forEach(e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some(e=>e.visible)?(r.push(e),r.push(...le(e.children,e))):r.push(e))}),r};function Kl(e,t,r){let l=e.internalData;return e.clearScroll().then(()=>{if(t||r)return l.lastScrollLeft=0,l.lastScrollTop=0,l.intoRunScroll=!1,l.inVirtualScroll=!1,l.inWheelScroll=!1,l.inHeaderScroll=!1,l.inBodyScroll=!1,l.inFooterScroll=!1,l.scrollRenderType="",e.scrollTo(t,r)})}function Gl(){return bl().uniqueId("row_")}function Fl(e){var t=e.props,e=e.getComputeMaps().computeRowOpts,e=e.value;return""+(t.rowId||e.keyField||"_X_ROW_KEY")}function Ol(e,t){t=bl().get(t,Fl(e));return e=t,bl().eqNull(e)?"":encodeURIComponent(e)}function Yl(e){let t=Fl(e);let r=-1<t.indexOf(".")?wr:Tr;return{rowKey:t,handleUpdateRowId(e){return e?r(e,t):null}}}function Al(e){let t=Fl(e);let r=-1<t.indexOf(".")?Cr:yr;return{rowKey:t,handleGetRowId(e){return e?r(e,t):null}}}function Cr(e,t){return bl().get(e,t)}function wr(e,t){let r=Cr(e,t);return Tl(r)&&(r=Gl(),bl().set(e,t,r)),r}function yr(e,t){return e[t]}function Tr(e,t){let r=e[t];return Tl(r)&&(r=Gl(),e[t]=r),r}let rl=(e,t)=>t?bl().isString(t)||bl().isNumber(t)?e.getColumnByField(""+t):t:null,sl=(e,t)=>t?(t=bl().isString(t)||bl().isNumber(t)?t:Ol(e,t),e.getRowById(t)):null;function Er(e){return e?(e=getComputedStyle(e),bl().toNumber(e.paddingLeft)+bl().toNumber(e.paddingRight)):0}function Rr(e){var t,r;return e?(r=getComputedStyle(e),t=bl().toNumber(r.marginLeft),r=bl().toNumber(r.marginRight),e.offsetWidth+t+r):0}function Rt(e,t){return e.querySelector(".vxe-cell"+t)}function Sr(e){return e&&bl().isArray(e)?e.map(({label:e,value:t,data:r,resetValue:l,checked:o})=>({label:e,value:t,data:r,resetValue:l,checked:!!o,_checked:!!o})):e}function Ll(e,t){return bl().get(e,t.field)}function Vl(e,t,r){bl().set(e,t.field,r)}function Hl(e){if(e){e=e.value;if(e)return e.$el||e}return null}function Ir(e){return"unset"!==e&&e||0}function Zl(e){var{$table:t,column:r,cell:l}=e,o=t.props,a=t.internalData,t=t.getComputeMaps().computeResizableOpts,t=t.value.minWidth;if(t){e=bl().isFunction(t)?t(e):t;if("auto"!==e)return Math.max(1,bl().toNumber(e))}var n,i,s,d,t=a.elemStore,e=o.showHeaderOverflow,{showHeaderOverflow:a,minWidth:o}=r,r=bl().isUndefined(a)||bl().isNull(a)?e:a,e="title"===r||(!0===r||"tooltip"===r)||"ellipsis"===r;let c=bl().floor(1.6*(bl().toNumber(getComputedStyle(l).fontSize)||14))+(Er(l)+Er(Rt(l,"")));if(e&&(a=Er(Rt(l,">.vxe-cell--drag-handle")),r=Er(Rt(l,">.vxe-cell--checkbox")),e=Rr(Rt(l,">.vxe-cell--required-icon")),n=Rr(Rt(l,">.vxe-cell--edit-icon")),i=Rr(Rt(l,">.vxe-cell-title-prefix-icon")),s=Rr(Rt(l,">.vxe-cell-title-suffix-icon")),d=Rr(Rt(l,">.vxe-cell--sort")),l=Rr(Rt(l,">.vxe-cell--filter")),c+=a+r+e+n+i+s+l+d),o){a=Hl(t["main-body-scroll"]);if(a){if(Ul(o))return r=(a.clientWidth-1)/100,Math.max(c,Math.floor(bl().toInteger(o)*r));if(jl(o))return Math.max(c,bl().toInteger(o))}}return c}function Dr(e){return e&&(e.constructor===Wo||e instanceof Wo)}function Mr(r,e,l){Object.keys(e).forEach(t=>{(0,El.watch)(()=>e[t],e=>{l.update(t,e),r&&("filters"===t?(r.setFilter(l,e),r.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(t)&&r.handleRefreshColumnQueue())})})}function kr(e,t,r,l){var e=e.reactData,o=e.staticColumns,a=t.parentNode,l=l?l.columnConfig:null,l=l?l.children:o;a&&l&&(l.splice(bl().arrayIndexOf(a.children,t),0,r),e.staticColumns=o.slice(0))}function Fr(e,t){var e=e.reactData,r=e.staticColumns,l=bl().findTree(r,e=>e.id===t.id,{children:"children"});l&&l.items.splice(l.index,1),e.staticColumns=r.slice(0)}function Ql(e,t){var e=e.internalData,r=e.fullColumnIdData;if(!t)return null;let l=t.parentId;for(;r[l];){let e=r[l].column;if(!(l=e.parentId))return e}return t}let re={mini:3,small:2,medium:1,large:0},oe=(e,t)=>{let r=1;if(e){var l=t.$table,o=l.getComputeMaps().computeTreeOpts,o=o.value,{transform:a,mapChildrenField:n}=o,o=o.children||o.childrenField,i=e[a?n:o];if(i&&l.isTreeExpandByRow(e))for(let e=0;e<i.length;e++)r+=oe(i[e],t)}return r},ae=e=>{e=e.getComputeMaps().computeSize,e=e.value;return e&&re[e]||0};function Jl(r,l){var e=r.props,t=r.reactData,o=r.internalData,{computeLeftFixedWidth:a,computeRightFixedWidth:n,computeRowOpts:i,computeCellOpts:s,computeDefaultRowHeight:d}=r.getComputeMaps(),e=e.showOverflow,t=t.scrollYLoad,{elemStore:o,afterFullData:c,fullAllDataRowIdData:u,isResizeCellHeight:p}=o,h=i.value,m=s.value,v=d.value,i=a.value,s=n.value,d=Hl(o["main-body-scroll"]),g=Ol(r,l);if(d){a=d.clientHeight,n=d.scrollTop,o=d.querySelector(`[rowid="${g}"]`);if(o){d=o.offsetParent,d=o.offsetTop+(d?d.offsetTop:0),o=o.clientHeight;if(d<n||n+a<d)return r.scrollTo(null,d);if(a+n<=d+o)return r.scrollTo(null,n+o)}else if(t){if(!(p||m.height||h.height)&&e)return r.scrollTo(null,(r.findRowIndexOf(c,l)-1)*v);let t=0;d=u[g]||{},o=d.resizeHeight||m.height||h.height||d.height||v;for(let e=0;e<c.length;e++){var f=c[e],x=Ol(r,f);if(f===l||x===g)break;f=u[x]||{};t+=f.resizeHeight||m.height||h.height||f.height||v}return t<n?r.scrollTo(null,t-i-1):r.scrollTo(null,t+o-(a-s-1))}}return Promise.resolve()}function eo(r,l,t){var o=r.reactData,a=r.internalData,{computeLeftFixedWidth:n,computeRightFixedWidth:i}=r.getComputeMaps(),o=o.scrollXLoad,{elemStore:a,visibleColumn:s}=a,n=n.value,i=i.value,a=Hl(a["main-body-scroll"]);if(!l.fixed&&a){var d=a.clientWidth,c=a.scrollLeft;let e=null;if(t&&(t=Ol(r,t),e=a.querySelector(`[rowid="${t}"] .`+l.id)),e=e||a.querySelector("."+l.id)){t=e.offsetParent,a=e.offsetLeft+(t?t.offsetLeft:0),t=e.clientWidth;if(a<c+n)return r.scrollTo(a-n-1);if(d-i<a+t-c)return r.scrollTo(a+t-(d-i-1))}else if(o){let t=0;a=l.renderWidth;for(let e=0;e<s.length;e++){var u=s[e];if(u===l||u.id===l.id)break;t+=u.renderWidth}return t<c?r.scrollTo(t-n-1):r.scrollTo(t+a-(d-i-1))}}return Promise.resolve()}function St(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Or(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function Ar(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function $l(e){return null==e?[]:bl().isArray(e)?e:[e]}let{getI18n:v,getIcon:R,renderer:u,formats:ne,renderEmptyElement:x}=xl.VxeUI;function Lr(t){let{$table:r,column:e}=t;var l=r.context,l=l.slots,o=e.slots,a=r.props.dragConfig,n=r.getComputeMaps().computeRowDragOpts,{icon:n,trigger:i,disabledMethod:s}=n.value,s=s||(a?a.rowDisabledMethod:null);let d=s&&s(t);s=(o?o.rowDragIcon||o["row-drag-icon"]:null)||l.rowDragIcon||l["row-drag-icon"],o={};return"cell"!==i&&(o.onMousedown=e=>{d||r.handleCellDragMousedownEvent(e,t)},o.onMouseup=r.handleCellDragMouseupEvent),(0,El.h)("span",{key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":d}],...o},s?r.callSlot(s,t):[(0,El.h)("i",{class:n||(a?a.rowIcon:"")||R().TABLE_DRAG_ROW})])}function It(e,t){var{$table:r,column:l,level:o}=e,l=l.dragSort,{treeConfig:a,dragConfig:n}=r.props,{computeRowOpts:r,computeRowDragOpts:i,computeTreeOpts:s}=r.getComputeMaps(),r=r.value,i=i.value,s=s.value,{showIcon:i,isPeerDrag:d,isCrossDrag:c,visibleMethod:u}=i,u=u||(n?n.rowVisibleMethod:null),t=bl().isArray(t)?t:[t];return l&&r.drag&&(i||n&&n.showRowIcon)&&(!u||u(e))&&(!a||s.transform&&(d||c||!o))&&t.unshift(Lr(e)),t}function Dt(e,t){return[(t=>{let{$table:r,column:e}=t,l=e.titlePrefix||e.titleHelp;return l?(0,El.h)("i",{class:["vxe-cell-title-prefix-icon",l.icon||R().TABLE_TITLE_PREFIX],onMouseenter(e){r.triggerHeaderTitleEvent(e,l,t)},onMouseleave(e){r.handleTargetLeaveEvent(e)}}):x(r)})(e),(r=>{let{$table:l,column:e}=r;var o=(o=l.context).slots,a=e.slots,{computeColumnOpts:n,computeColumnDragOpts:i}=l.getComputeMaps(),n=n.value,{showIcon:i,icon:s,trigger:d,isPeerDrag:t,isCrossDrag:c,visibleMethod:u,disabledMethod:p}=i.value;if(!n.drag||!i||u&&!u(r)||e.fixed||!t&&!c&&e.parentId)return x(l);{let t=p&&p(r);n=(a?a.columnDragIcon||a["column-drag-icon"]:null)||o.columnDragIcon||o["column-drag-icon"],i={};return"cell"!==d&&(i.onMousedown=e=>{t||l.handleHeaderCellDragMousedownEvent(e,r)},i.onMouseup=l.handleHeaderCellDragMouseupEvent),(0,El.h)("span",{key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":t}],...i},n?l.callSlot(n,r):[(0,El.h)("i",{class:s||R().TABLE_DRAG_COLUMN})])}})(e),...bl().isArray(t)?t:[t],(t=>{let{$table:r,column:e}=t,l=e.titleSuffix;return l?(0,El.h)("i",{class:["vxe-cell-title-suffix-icon",l.icon||R().TABLE_TITLE_SUFFIX],onMouseenter(e){r.triggerHeaderTitleEvent(e,l,t)},onMouseleave(e){r.handleTargetLeaveEvent(e)}}):x(r)})(e)]}function Vr(t,e){let{$table:r,column:l}=t;var o=r.props;let a=r.reactData;var n=r.getComputeMaps().computeTooltipOpts,o=o.showHeaderOverflow,{type:i,showHeaderOverflow:s}=l;let d=n.value.showAll;n=bl().isUndefined(s)||bl().isNull(s)?o:s;let c="title"===n,u=!0===n||"tooltip"===n;o={};return(c||u||d)&&(o.onMouseenter=e=>{a.isDragResize||(c?xr(e.currentTarget,l):(u||d)&&r.triggerHeaderTooltipEvent(e,t))}),(u||d)&&(o.onMouseleave=e=>{a.isDragResize||(u||d)&&r.handleTargetLeaveEvent(e)}),["html"===i&&bl().isString(e)?(0,El.h)("span",{class:"vxe-cell--title",innerHTML:e,...o}):(0,El.h)("span",{class:"vxe-cell--title",...o},$l(e))]}function Hr(e){var{$table:e,row:t,column:r}=e;return yl(e.getCellLabel(t,r),1)}function $r(e){var{column:t,$table:r}=e,l=r.props.editConfig,{type:t,treeNode:o,editRender:a}=t,{computeEditOpts:r,computeCheckboxOpts:n}=r.getComputeMaps(),i=n.value,n=r.value;switch(t){case"seq":return o?p.renderTreeIndexCell(e):p.renderSeqCell(e);case"radio":return o?p.renderTreeRadioCell(e):p.renderRadioCell(e);case"checkbox":return i.checkField?o?p.renderTreeSelectionCellByProp(e):p.renderCheckboxCellByProp(e):o?p.renderTreeSelectionCell(e):p.renderCheckboxCell(e);case"expand":return p.renderExpandCell(e);case"html":return o?p.renderTreeHTMLCell(e):p.renderHTMLCell(e)}return Cl(l)&&a?"cell"===n.mode?o?p.renderTreeCellEdit(e):p.renderCellEdit(e):o?p.renderTreeRowEdit(e):p.renderRowEdit(e):o?p.renderTreeCell(e):p.renderDefaultCell(e)}function _r(e){var{column:t,$table:r}=e,r=r.props.editConfig,{type:t,filters:l,sortable:o,editRender:a}=t;switch(t){case"seq":return p.renderSeqHeader(e);case"radio":return p.renderRadioHeader(e);case"checkbox":return p.renderCheckboxHeader(e);case"html":if(l&&o)return p.renderSortAndFilterHeader(e);if(o)return p.renderSortHeader(e);if(l)return p.renderFilterHeader(e)}return r&&a?p.renderEditHeader(e):l&&o?p.renderSortAndFilterHeader(e):o?p.renderSortHeader(e):l?p.renderFilterHeader(e):p.renderDefaultHeader(e)}function Br(e){return p.renderDefaultFooter(e)}let p={createColumn(e,t){var r=t.type,l={renderHeader:_r,renderCell:$r,renderFooter:Br};return"expand"===r&&(l.renderData=p.renderExpandData),r=e,e=l,Dr(l=t)?l:(0,El.reactive)(new Wo(r,l,e))},renderHeaderTitle(e){var{$table:t,column:r}=e,{slots:l,editRender:o,cellRender:a}=r,o=o||a,a=l?l.header:null;if(a)return Vr(e,t.callSlot(a,e));if(o){l=u.get(o.name);if(l){t=l.renderTableHeader||l.renderHeader;if(t)return Vr(e,$l(t(o,e)))}}return Vr(e,yl(r.getTitle(),1))},renderDefaultHeader(e){return Dt(e,p.renderHeaderTitle(e))},renderDefaultCell(e){var{$table:t,row:r,column:l}=e,{slots:o,editRender:a,cellRender:n}=l,n=a||n,o=o?o.default:null;if(o)return It(e,t.callSlot(o,e));if(n){o=u.get(n.name);if(o){var i=o.renderTableCell||o.renderCell,o=o.renderTableDefault||o.renderDefault,i=a?i:o;if(i)return It(e,$l(i(n,Object.assign({$type:a?"edit":"cell"},e))))}}o=t.getCellLabel(r,l),i=a?a.placeholder:"";return It(e,[(0,El.h)("span",{class:"vxe-cell--label"},[a&&Tl(o)?(0,El.h)("span",{class:"vxe-cell--placeholder"},yl(wl(i),1)):(0,El.h)("span",yl(o,1))])])},renderTreeCell(e){return p.renderTreeIcon(e,p.renderDefaultCell(e))},renderDefaultFooter(t){{var{$table:r,column:l,_columnIndex:o,items:a,row:n}=t,{slots:i,editRender:s,cellRender:d,footerFormatter:c}=l,s=s||d;if(d=i?i.footer:null)return r.callSlot(d,t);let e="";if(e=bl().isArray(a)?a[o]:bl().get(n,l.field),i=Object.assign(t,{itemValue:e}),c)return bl().isFunction(c)?[(0,El.h)("span",{class:"vxe-cell--label"},""+c(i))]:(a=(d=(r=bl().isArray(c))?ne.get(c[0]):ne.get(c))?d.tableFooterCellFormatMethod:null)?[(0,El.h)("span",{class:"vxe-cell--label"},""+(r?a(i,...c.slice(1)):a(i)))]:[(0,El.h)("span",{class:"vxe-cell--label"},"")];if(s){o=u.get(s.name);if(o){n=o.renderTableFooter||o.renderFooter;if(n)return $l(n(s,i))}}return[(0,El.h)("span",{class:"vxe-cell--label"},yl(e,1))]}},renderTreeIcon(t,e){let{$table:r,isHidden:l}=t;var o=r.reactData,a=r.internalData,n=r.getComputeMaps().computeTreeOpts,o=o.treeExpandedFlag,{fullAllDataRowIdData:a,treeExpandedMaps:i,treeExpandLazyLoadedMaps:s}=a,n=n.value,{row:d,column:c,level:u}=t,c=c.slots,{indent:p,lazy:h,trigger:m,iconLoaded:v,showIcon:g,iconOpen:f,iconClose:x}=n,b=n.children||n.childrenField,n=n.hasChild||n.hasChildField,b=d[b],b=b&&b.length,c=c?c.icon:null;let C=!1,w=!1,y=!1,T=!1;var E={};return c?r.callSlot(c,t):(l||(c=Ol(r,d),w=!!o&&!!i[c],h&&(o=a[c],y=!!s[c],C=d[n],T=!!o.treeLoaded)),m&&"default"!==m||(E.onClick=e=>{r.triggerTreeExpandEvent(e,t)}),[(0,El.h)("div",{class:["vxe-cell--tree-node",{"is--active":w}],style:{paddingLeft:u*p+"px"}},[g&&(!h||T?b:b||C)?[(0,El.h)("div",{class:"vxe-tree--btn-wrapper",...E},[(0,El.h)("i",{class:["vxe-tree--node-btn",y?v||R().TABLE_TREE_LOADED:w?f||R().TABLE_TREE_OPEN:x||R().TABLE_TREE_CLOSE]})])]:null,(0,El.h)("div",{class:"vxe-tree-cell"},e)])])},renderSeqHeader(e){var{$table:t,column:r}=e,l=r.slots,l=l?l.header:null;return Dt(e,Vr(e,l?t.callSlot(l,e):yl(r.getTitle(),1)))},renderSeqCell(e){var{$table:t,column:r}=e,l=t.props.treeConfig,o=t.getComputeMaps().computeSeqOpts,o=o.value,r=r.slots,r=r?r.default:null;return r?It(e,t.callSlot(r,e)):(t=e.seq,r=o.seqMethod,It(e,[(0,El.h)("span",""+yl(r?r(e):l?t:(o.startIndex||0)+t,1))]))},renderTreeIndexCell(e){return p.renderTreeIcon(e,p.renderSeqCell(e))},renderRadioHeader(e){var{$table:t,column:r}=e,l=r.slots,o=l?l.header:null,l=l?l.title:null;return Dt(e,Vr(e,o?t.callSlot(o,e):[(0,El.h)("span",{class:"vxe-radio--label"},l?t.callSlot(l,e):yl(r.getTitle(),1))]))},renderRadioCell(t){let{$table:r,column:e,isHidden:l}=t;var o=r.reactData,a=r.getComputeMaps().computeRadioOpts,o=o.selectRadioRow,n=e.slots,{labelField:a,checkMethod:i,visibleMethod:s}=a.value,d=t.row,c=n?n.default:null,n=n?n.radio:null,o=r.eqRow(d,o);let u=!s||s({row:d}),p=!!i,h;l||(h={onClick(e){!p&&u&&r.triggerRadioRowEvent(e,t)}},i&&(p=!i({row:d})));s={...t,checked:o,disabled:p,visible:u};return n?It(t,r.callSlot(n,s)):(i=[],u&&i.push((0,El.h)("span",{class:["vxe-radio--icon",o?R().TABLE_RADIO_CHECKED:R().TABLE_RADIO_UNCHECKED]})),(c||a)&&i.push((0,El.h)("span",{class:"vxe-radio--label"},c?r.callSlot(c,s):bl().get(d,a))),It(t,[(0,El.h)("span",{class:["vxe-cell--radio",{"is--checked":o,"is--disabled":p}],...h},i)]))},renderTreeRadioCell(e){return p.renderTreeIcon(e,p.renderRadioCell(e))},renderCheckboxHeader(e){let{$table:t,column:r,isHidden:l}=e;var o=t.reactData,{computeIsAllCheckboxDisabled:a,computeCheckboxOpts:n}=t.getComputeMaps();let{isAllSelected:i,isIndeterminate:s}=o,d=a.value;var o=r.slots,a=o?o.header:null,o=o?o.title:null,{checkStrictly:n,showHeader:c,headerTitle:u}=n.value,p=r.getTitle(),h={},m=(l||(h.onClick=e=>{d||t.triggerCheckAllEvent(e,!i)}),{...e,checked:i,disabled:d,indeterminate:s});return Dt(e,Vr(m,a?t.callSlot(a,m):(n?c:!1!==c)?[(0,El.h)("span",{class:["vxe-cell--checkbox",{"is--checked":i,"is--disabled":d,"is--indeterminate":s}],title:bl().eqNull(u)?v("vxe.table.allTitle"):""+(u||""),...h},[(0,El.h)("span",{class:["vxe-checkbox--icon",s?R().TABLE_CHECKBOX_INDETERMINATE:i?R().TABLE_CHECKBOX_CHECKED:R().TABLE_CHECKBOX_UNCHECKED]})].concat(o||p?[(0,El.h)("span",{class:"vxe-checkbox--label"},o?t.callSlot(o,m):p)]:[]))]:[(0,El.h)("span",{class:"vxe-checkbox--label"},o?t.callSlot(o,m):p)]))},renderCheckboxCell(t){let{$table:r,row:e,column:l,isHidden:o}=t;var a=r.props.treeConfig,n=r.reactData.updateCheckboxFlag,{selectCheckboxMaps:i,treeIndeterminateRowMaps:s}=r.internalData,d=r.getComputeMaps().computeCheckboxOpts,{labelField:d,checkMethod:c,visibleMethod:u}=d.value,p=l.slots,h=p?p.default:null,p=p?p.checkbox:null;let m=!1,v=!1,g=!u||u({row:e}),f=!!c;var x,u={},n=(o||(x=Ol(r,e),v=!!n&&!!i[x],u.onClick=e=>{!f&&g&&r.triggerCheckRowEvent(e,t,!v)},c&&(f=!c({row:e})),a&&(m=!!s[x])),{...t,checked:v,disabled:f,visible:g,indeterminate:m});return p?It(t,r.callSlot(p,n)):(i=[],g&&i.push((0,El.h)("span",{class:["vxe-checkbox--icon",m?R().TABLE_CHECKBOX_INDETERMINATE:v?R().TABLE_CHECKBOX_CHECKED:R().TABLE_CHECKBOX_UNCHECKED]})),(h||d)&&i.push((0,El.h)("span",{class:"vxe-checkbox--label"},h?r.callSlot(h,n):bl().get(e,d))),It(t,[(0,El.h)("span",{class:["vxe-cell--checkbox",{"is--checked":v,"is--disabled":f,"is--indeterminate":m,"is--hidden":!g}],...u},i)]))},renderTreeSelectionCell(e){return p.renderTreeIcon(e,p.renderCheckboxCell(e))},renderCheckboxCellByProp(t){let{$table:r,row:e,column:l,isHidden:o}=t;var a=r.props.treeConfig,n=r.reactData.updateCheckboxFlag,i=r.internalData.treeIndeterminateRowMaps,s=r.getComputeMaps().computeCheckboxOpts,s=s.value,{labelField:d,checkField:c,checkMethod:u,visibleMethod:p}=s,s=s.indeterminateField||s.halfField,h=l.slots,m=h?h.default:null,h=h?h.checkbox:null;let v=!1,g=!1,f=!p||p({row:e}),x=!!u;var b,p={},n=(o||(b=Ol(r,e),g=!!n&&bl().get(e,c),p.onClick=e=>{!x&&f&&r.triggerCheckRowEvent(e,t,!g)},u&&(x=!u({row:e})),a&&(v=!!i[b])),{...t,checked:g,disabled:x,visible:f,indeterminate:v});return h?It(t,r.callSlot(h,n)):(c=[],f&&(c.push((0,El.h)("span",{class:["vxe-checkbox--icon",v?R().TABLE_CHECKBOX_INDETERMINATE:g?R().TABLE_CHECKBOX_CHECKED:R().TABLE_CHECKBOX_UNCHECKED]})),m||d)&&c.push((0,El.h)("span",{class:"vxe-checkbox--label"},m?r.callSlot(m,n):bl().get(e,d))),It(t,[(0,El.h)("span",{class:["vxe-cell--checkbox",{"is--checked":g,"is--disabled":x,"is--indeterminate":s&&!g?e[s]:v,"is--hidden":!f}],...p},c)]))},renderTreeSelectionCellByProp(e){return p.renderTreeIcon(e,p.renderCheckboxCellByProp(e))},renderExpandCell(t){let{$table:r,isHidden:e,row:l,column:o}=t;var{rowExpandedMaps:a,rowExpandLazyLoadedMaps:n}=r.internalData,i=r.getComputeMaps().computeExpandOpts,{lazy:i,labelField:s,iconLoaded:d,showIcon:c,iconOpen:u,iconClose:p,visibleMethod:h}=i.value,m=o.slots,v=m?m.default:null,m=m?m.icon:null;let g=!1,f=!1;return m?It(t,r.callSlot(m,t)):(e||(m=Ol(r,l),g=!!a[m],i&&(f=!!n[m])),It(t,[!c||h&&!h(t)?x(r):(0,El.h)("span",{class:["vxe-table--expanded",{"is--active":g}],onMousedown(e){e.stopPropagation()},onClick(e){r.triggerRowExpandEvent(e,t)}},[(0,El.h)("i",{class:["vxe-table--expand-btn",f?d||R().TABLE_EXPAND_LOADED:g?u||R().TABLE_EXPAND_OPEN:p||R().TABLE_EXPAND_CLOSE]})]),v||s?(0,El.h)("span",{class:"vxe-table--expand-label"},v?r.callSlot(v,t):bl().get(l,s)):x(r)]))},renderExpandData(e){var{$table:t,column:r}=e,{slots:r,contentRender:l}=r,r=r?r.content:null;if(r)return t.callSlot(r,e);if(l){t=u.get(l.name);if(t){r=t.renderTableExpand||t.renderExpand;if(r)return $l(r(l,e))}}return[]},renderHTMLCell(e){var{$table:t,column:r}=e,r=r.slots,r=r?r.default:null;return It(e,r?t.callSlot(r,e):[(0,El.h)("span",{class:"vxe-cell--html",innerHTML:Hr(e)})])},renderTreeHTMLCell(e){return p.renderTreeIcon(e,p.renderHTMLCell(e))},renderSortAndFilterHeader(e){return Dt(e,p.renderHeaderTitle(e).concat(p.renderSortIcon(e).concat(p.renderFilterIcon(e))))},renderSortHeader(e){return Dt(e,p.renderHeaderTitle(e).concat(p.renderSortIcon(e)))},renderSortIcon(e){let{$table:t,column:r}=e;var l=t.getComputeMaps().computeSortOpts,{showIcon:l,allowBtn:o,ascTitle:a,descTitle:n,iconLayout:i,iconAsc:s,iconDesc:d,iconVisibleMethod:c}=l.value,u=r.order;return!l||c&&!c(e)?[]:[(0,El.h)("span",{class:["vxe-cell--sort",`vxe-cell--sort-${i}-layout`]},[(0,El.h)("i",{class:["vxe-sort--asc-btn",s||R().TABLE_SORT_ASC,{"sort--active":"asc"===u}],title:bl().eqNull(a)?v("vxe.table.sortAsc"):""+(a||""),onClick:o?e=>{e.stopPropagation(),t.triggerSortEvent(e,r,"asc")}:void 0}),(0,El.h)("i",{class:["vxe-sort--desc-btn",d||R().TABLE_SORT_DESC,{"sort--active":"desc"===u}],title:bl().eqNull(n)?v("vxe.table.sortDesc"):""+(n||""),onClick:o?e=>{e.stopPropagation(),t.triggerSortEvent(e,r,"desc")}:void 0})])]},renderFilterHeader(e){return Dt(e,p.renderHeaderTitle(e).concat(p.renderFilterIcon(e)))},renderFilterIcon(t){let{$table:r,column:e,hasFilter:l}=t;var o=r.reactData.filterStore,a=r.getComputeMaps().computeFilterOpts,{showIcon:a,iconNone:n,iconMatch:i,iconVisibleMethod:s}=a.value;return!a||s&&!s(t)?[]:[(0,El.h)("span",{class:["vxe-cell--filter",{"is--active":o.visible&&o.column===e}],onClick(e){r.triggerFilterEvent&&r.triggerFilterEvent(e,t.column,t)}},[(0,El.h)("i",{class:["vxe-filter--btn",l?i||R().TABLE_FILTER_MATCH:n||R().TABLE_FILTER_NONE],title:v("vxe.table.filter")})])]},renderEditHeader(e){var{$table:t,column:r}=e,l=t.props,o=t.getComputeMaps().computeEditOpts,{editConfig:l,editRules:a}=l,o=o.value,{sortable:n,filters:i,editRender:s}=r;let d=!1,c=(a&&(a=bl().get(a,r.field))&&(d=a.some(e=>e.required)),[]);return Dt(e,(c=Cl(l)?[d&&o.showAsterisk?(0,El.h)("i",{class:"vxe-cell--required-icon"}):x(t),Cl(s)&&o.showIcon?(0,El.h)("i",{class:["vxe-cell--edit-icon",o.icon||R().TABLE_EDIT]}):x(t)]:c).concat(p.renderHeaderTitle(e)).concat(n?p.renderSortIcon(e):[]).concat(i?p.renderFilterIcon(e):[]))},renderRowEdit(e){var{$table:t,column:r}=e,t=t.reactData.editStore,t=t.actived,r=r.editRender;return p.runRenderer(e,Cl(r)&&t&&t.row===e.row)},renderTreeRowEdit(e){return p.renderTreeIcon(e,p.renderRowEdit(e))},renderCellEdit(e){var{$table:t,column:r}=e,t=t.reactData.editStore,t=t.actived,r=r.editRender;return p.runRenderer(e,Cl(r)&&t&&t.row===e.row&&t.column===e.column)},renderTreeCellEdit(e){return p.renderTreeIcon(e,p.renderCellEdit(e))},runRenderer(e,t){var{$table:r,column:l}=e,{slots:l,editRender:o,formatter:a}=l,n=l?l.default:null,l=l?l.edit:null,i=u.get(o.name),i=i?i.renderTableEdit||i.renderEdit:null,s=Object.assign({$type:"",isEdit:t},e);return t?(s.$type="edit",l?r.callSlot(l,s):i?$l(i(o,s)):[]):n?It(e,r.callSlot(n,s)):a?It(e,[(0,El.h)("span",{class:"vxe-cell--label"},Hr(s))]):p.renderDefaultCell(s)}};var to=p,Tt={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},Mt=(0,El.defineComponent)({name:"VxeColumn",props:Tt,setup(e,{slots:t}){let r=(0,El.ref)(),l=(0,El.inject)("$xeTable",null),o=(0,El.inject)("$xeColgroup",null);if(!l)return()=>(0,El.createCommentVNode)();let a=to.createColumn(l,e);a.slots=t;var t=()=>(0,El.h)("div",{ref:r}),n={columnConfig:a,renderVN:t};return Mr(l,e,a),(0,El.onMounted)(()=>{var e=r.value;e&&kr(l,e,a,o)}),(0,El.onUnmounted)(()=>{Fr(l,a)}),(0,El.provide)("$xeColumn",n),(0,El.provide)("$xeGrid",null),t}});let r=Object.assign({},Mt,{install(e){e.component(Mt.name,Mt),e.component("VxeTableColumn",Mt)}}),ie=(xl.VxeUI.dynamicApp&&(xl.VxeUI.dynamicApp.component(Mt.name,Mt),xl.VxeUI.dynamicApp.component("VxeTableColumn",Mt)),xl.VxeUI.component(Mt),r);var kt=(0,El.defineComponent)({name:"VxeColgroup",props:Tt,setup(e,{slots:t}){let r=(0,El.ref)(),l=(0,El.inject)("$xeTable",null),o=(0,El.inject)("$xeColgroup",null);if(!l)return()=>(0,El.createCommentVNode)();let a=to.createColumn(l,e);var n={},n=(t.header&&(n.header=t.header),a.slots=n,a.children=[],Mr(l,e,a),(0,El.onMounted)(()=>{var e=r.value;e&&kr(l,e,a,o)}),(0,El.onUnmounted)(()=>{Fr(l,a)}),{columnConfig:a});return(0,El.provide)("$xeColgroup",n),(0,El.provide)("$xeGrid",null),()=>(0,El.h)("div",{ref:r},t.default?t.default():[])}});let l=Object.assign({},kt,{install(e){e.component(kt.name,kt),e.component("VxeTableColgroup",kt)}}),se=(xl.VxeUI.dynamicApp&&(xl.VxeUI.dynamicApp.component(kt.name,kt),xl.VxeUI.dynamicApp.component("VxeTableColgroup",kt)),xl.VxeUI.component(kt),l),{getI18n:pe,renderer:pt,renderEmptyElement:ge}=(yt(4520),yt(3215),yt(8872),yt(1795),xl.VxeUI),ut="body";var ro=(0,El.defineComponent)({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(O){let Ue=(0,El.inject)("$xeTable",{}),{xID:A,props:We,context:L,reactData:qe,internalData:Xe}=Ue,{computeEditOpts:Ke,computeMouseOpts:Ge,computeCellOffsetWidth:Ye,computeAreaOpts:Ze,computeDefaultRowHeight:Qe,computeEmptyOpts:V,computeTooltipOpts:Je,computeRadioOpts:e,computeExpandOpts:te,computeTreeOpts:p,computeCheckboxOpts:et,computeCellOpts:tt,computeValidOpts:rt,computeRowOpts:lt,computeColumnOpts:ot,computeRowDragOpts:at,computeColumnDragOpts:t,computeResizableOpts:nt,computeVirtualXOpts:it,computeVirtualYOpts:dt}=Ue.getComputeMaps(),H=(0,El.ref)(),$=(0,El.ref)(),_=(0,El.ref)(),B=(0,El.ref)(),N=(0,El.ref)(),P=(0,El.ref)(),z=(0,El.ref)(),j=(0,El.ref)(),st=()=>{var e=We.delayHover,{lastScrollTime:t,isDragResize:r}=qe;return!!(r||t&&Date.now()<t+e)},ct=(e,t,r)=>{var{row:l,column:o}=t,a=Xe.afterFullData,n=We.treeConfig,i=p.value,{slots:o,treeNode:s}=o,d=Xe.fullAllDataRowIdData;if(o&&o.line)return Ue.callSlot(o.line,t);o=d[e];let c=0,u=null;return o&&(c=o.level,u=o.items[o.treeIndex-1]),n&&s&&(i.showLine||i.line)?[(0,El.h)("div",{key:"tl",class:"vxe-tree--line-wrapper"},[(0,El.h)("div",{class:"vxe-tree--line",style:{height:`${Ue.eqRow(a[0],l)?1:((e,t)=>{var{$table:r,row:l}=e,o=r.props.showOverflow,a=r.reactData.scrollYLoad,n=r.internalData.fullAllDataRowIdData,{computeRowOpts:i,computeCellOpts:s,computeDefaultRowHeight:d}=r.getComputeMaps(),i=i.value,s=s.value,d=d.value,l=(n=n[Ol(r,l)]).resizeHeight||s.height||i.height||n.height||d;let c=1,u=(t&&(c=oe(t,e)),l);return(u=a&&!o?n.height||l:u)*c-(t?1:12-ae(r))})(t,u)}px`,bottom:`-${Math.floor(r/2)}px`,left:c*i.indent+(c?2-ae(Ue):0)+16+"px"}})])]:[]},le=(H,e,t,$,_,r,l,B,o,a,N,P,n)=>{var i=Ue.xeGrid,{columnKey:z,resizable:s,showOverflow:d,border:j,height:c,treeConfig:U,cellClassName:W,cellStyle:q,align:X,spanMethod:K,mouseConfig:G,editConfig:Y,editRules:u,tooltipConfig:p,padding:h}=We,{tableData:m,dragRow:Z,overflowX:Q,currentColumn:J,scrollXLoad:ee,scrollYLoad:v,mergeBodyFlag:te,calcCellHeightFlag:g,resizeHeightFlag:f,resizeWidthFlag:re,editStore:le,isAllOverflow:oe,validErrorMaps:x}=qe,{fullAllDataRowIdData:b,fullColumnIdData:C,mergeBodyCellMaps:ae,visibleColumn:ne,afterFullData:ie,mergeBodyList:se,scrollXStore:de,scrollYStore:ce}=Xe,ue=tt.value,w=rt.value,pe=et.value,he=Ke.value,y=Je.value,me=nt.value,ve=it.value,ge=dt.value,{isAllColumnDrag:me,isAllRowDrag:fe}=me,T=lt.value,E=at.value,xe=Qe.value,g=g?ue.height||T.height:0,{disabledMethod:R,isCrossDrag:be,isPeerDrag:Ce}=E,we=ot.value,ye=Ge.value,Te=Ze.value,Ee=Ye.value,Te=Te.selectCellToRow,{type:Re,cellRender:Se,editRender:Ie,align:De,showOverflow:Me,className:ke,treeNode:Fe,rowResize:Oe,padding:S,verticalAlign:I,slots:Ae}=a,D=ue.verticalAlign,le=le.actived,b=b[e]||{},M=a.id,C=C[M]||{},k=Ie||Se,k=k?pt.get(k.name):null,Le=k?k.tableCellClassName||k.cellClassName:null,Ve=k?k.tableCellStyle||k.cellStyle:"";let He=y.showAll;var $e=C.index,y=C._index,C=Cl(Ie),f=f?b.resizeHeight:0;let F=t?a.fixed!==t:a.fixed&&Q;Q=bl().eqNull(S)?null===h?ue.padding:h:S,h=bl().eqNull(Me)?d:Me,S="ellipsis"===h;let O="title"===h,A=!0===h||"tooltip"===h;d=oe||O||A||S,Me=bl().isBoolean(a.resizable)?a.resizable:we.resizable||s,h=!!g,s=0<f;let _e;g={},f=De||(k?k.tableCellAlign:"")||X,De=bl().eqNull(I)?D:I,k=x[e+":"+M],X=u&&w.showMessage&&("default"===w.message?c||1<m.length:"inline"===w.message),D={colid:M};let L={$table:Ue,$grid:i,isEdit:!1,seq:H,rowid:e,row:r,rowIndex:l,$rowIndex:B,_rowIndex:o,column:a,columnIndex:$e,$columnIndex:N,_columnIndex:y,fixed:t,type:ut,isHidden:!!F,level:_,visibleData:ie,data:m,items:n},V=!1,Be=!1,Ne=((V=T.drag?"row"===E.trigger||a.dragSort&&"cell"===E.trigger:V)&&(Be=!(!R||!R(L))),(O||A||He||p)&&(g.onMouseenter=e=>{st()||(O?xr(e.currentTarget,a):(A||He)&&Ue.triggerBodyTooltipEvent(e,L),Ue.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},L),e))}),(A||He||p)&&(g.onMouseleave=e=>{st()||((A||He)&&Ue.handleTargetLeaveEvent(e),Ue.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},L),e))}),(V||pe.range||G)&&(g.onMousedown=e=>{Ue.triggerCellMousedownEvent(e,L)}),V&&(g.onMouseup=Ue.triggerCellMouseupEvent),g.onClick=e=>{Ue.triggerCellClickEvent(e,L)},!(g.onDblclick=e=>{Ue.triggerCellDblclickEvent(e,L)}));if(te&&se.length){I=ae[o+":"+y];if(I){var{rowspan:x,colspan:u}=I;if(!x||!u)return null;1<x&&(Ne=!0,D.rowspan=x),1<u&&(Ne=!0,D.colspan=u)}}else if(K){var{rowspan:c=1,colspan:i=1}=K(L)||{};if(!c||!i)return null;1<c&&(D.rowspan=c),1<i&&(D.colspan=i)}!(F=F&&Ne&&(1<D.colspan||1<D.rowspan)?!1:F)&&Y&&(Ie||Se)&&(he.showStatus||he.showUpdateStatus)&&(_e=Ue.isUpdateByRow(r,a.field));H=v&&!d,l=b.resizeHeight||ue.height||T.height||b.height||xe,B=N===P.length-1,ie=!a.resizeWidth&&("auto"===a.minWidth||"auto"===a.width);let Pe=!1;Ne||Z&&Ol(Ue,Z)===e||(v&&!U&&!ge.immediate&&(o<ce.visibleStartIndex-ce.preloadSize||o>ce.visibleEndIndex+ce.preloadSize)||ee&&!ve.immediate&&!a.fixed&&(y<de.visibleStartIndex-de.preloadSize||y>de.visibleEndIndex+de.preloadSize))&&(Pe=!0);m={};if(d&&re){let t=D.colspan||0;if(1<t)for(let e=1;e<t;e++){var ze=ne[$e+e];ze&&(t+=ze.renderWidth)}m.width=a.renderWidth-Ee*t+"px"}v||d||h||s?m.height=l+"px":m.minHeight=l+"px";n=[];F&&oe?n.push((0,El.h)("div",{key:"tc",class:["vxe-cell",{"c--title":O,"c--tooltip":A,"c--ellipsis":S}],style:m})):(n.push(...ct(e,L,l),(0,El.h)("div",{key:"tc",class:["vxe-cell",{"c--title":O,"c--tooltip":A,"c--ellipsis":S}],style:m,title:O?Ue.getCellLabel(r,a):null},Pe?[]:[(0,El.h)("div",{colid:M,rowid:e,class:"vxe-cell--wrapper"},a.renderCell(L))])),X&&k&&(E=k.rule,R=Ae?Ae.valid:null,p={...L,...k,rule:k},n.push((0,El.h)("div",{key:"tcv",class:["vxe-cell--valid-error-tip",Et(w.className,p)],style:E&&E.maxWidth?{width:E.maxWidth+"px"}:null},[(0,El.h)("div",{class:"vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-"+(w.theme||"normal")},[R?Ue.callSlot(R,p):[(0,El.h)("span",{class:"vxe-cell--valid-error-msg"},k.content)]])]))));let je=!1;return G&&ye.area&&Te&&((y||!0!==Te)&&Te!==a.field||(je=!0)),!F&&Me&&me&&n.push((0,El.h)("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!j||"none"===j}],onMousedown:e=>Ue.handleColResizeMousedownEvent(e,t,L),onDblclick:e=>Ue.handleColResizeDblclickEvent(e,L)})),(Oe||fe)&&T.resizable&&n.push((0,El.h)("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:e=>Ue.handleRowResizeMousedownEvent(e,L),onDblclick:e=>Ue.handleRowResizeDblclickEvent(e,L)})),(0,El.h)("td",{class:["vxe-body--column",M,De?"col--vertical-"+De:"",f?"col--"+f:"",Re?"col--"+Re:"",{"col--last":B,"col--tree-node":Fe,"col--edit":C,"col--ellipsis":d,"col--cs-height":h,"col--rs-height":s,"col--to-row":je,"col--auto-height":H,"fixed--width":!ie,"fixed--hidden":F,"is--padding":Q,"is--progress":F&&oe||Pe,"is--drag-cell":V&&(be||Ce||!_),"is--drag-disabled":Be,"col--dirty":_e,"col--active":Y&&C&&le.row===r&&(le.column===a||"row"===he.mode),"col--valid-error":!!k,"col--current":J===a},Et(Le,L),Et(ke,L),Et(W,L)],key:z||ee||v||we.useKey||T.useKey||we.drag?M:N,...D,style:Object.assign({},bl().isFunction(Ve)?Ve(L):Ve,bl().isFunction(q)?q(L):q),...g},$&&F?[]:n)},re=(g,f,x,b)=>{let{stripe:C,rowKey:w,highlightHoverRow:y,rowClassName:T,rowStyle:E,editConfig:R,treeConfig:S}=We,{hasFixedColumn:I,treeExpandedFlag:D,isColLoading:M,scrollXLoad:k,scrollYLoad:F,isAllOverflow:O,rowExpandedFlag:A,expandColumn:L,selectRadioRow:V,pendingRowFlag:H,isDragColMove:$,rowExpandHeightFlag:_}=qe,{fullAllDataRowIdData:B,treeExpandedMaps:N,pendingRowMaps:P,rowExpandedMaps:z}=Xe,j=et.value,U=e.value,W=p.value,q=Ke.value,X=lt.value,K=ot.value,G=t.value,{transform:Y,seqMode:Q}=W,J=W.children||W.childrenField,Z=[],ee=Al(Ue).handleGetRowId;return x.forEach((r,l)=>{let o=ee(r);var e=B[o]||{};let a=l,n=0,i=-1,s=-1;var t={},d=((X.isHover||y)&&(t.onMouseenter=e=>{st()||Ue.triggerHoverEvent(e,{row:r,rowIndex:a})},t.onMouseleave=()=>{st()||Ue.clearHoverRow()}),e&&(n=e.level,i=S&&Y&&"increasing"===Q?e._index+1:e.seq,a=e.index,s=e._index),{$table:Ue,seq:i,rowid:o,fixed:g,type:ut,level:n,row:r,rowIndex:a,$rowIndex:l,_rowIndex:s}),c=L&&!!A&&!!z[o];let u=!1,p=[],h=!1;R&&(h=Ue.isInsertByRow(r)),!S||F||Y||(p=r[J],u=!!D&&p&&0<p.length&&!!N[o]),!X.drag||S&&!Y||(t.onDragstart=Ue.handleRowDragDragstartEvent,t.onDragend=Ue.handleRowDragDragendEvent,t.onDragover=Ue.handleRowDragDragoverEvent);var m=["vxe-body--row",S?"row--level-"+n:"",{"row--stripe":C&&(s+1)%2==0,"is--new":h,"is--expand-row":c,"is--expand-tree":u,"row--new":h&&(q.showStatus||q.showInsertStatus),"row--radio":U.highlight&&Ue.eqRow(V,r),"row--checked":j.highlight&&Ue.isCheckedByCheckboxRow(r),"row--pending":!!H&&!!P[o]},Et(T,d)];let v=b.map((e,t)=>le(i,o,g,f,n,r,a,l,s,e,t,b,x));Z.push(!M&&K.drag&&G.animation?(0,El.h)(El.TransitionGroup,{name:"vxe-header--col-list"+($?"":"-disabled"),tag:"tr",class:m,rowid:o,style:E?bl().isFunction(E)?E(d):E:null,key:w||k||F||X.useKey||X.drag||K.drag||S?o:l,...t},{default:()=>v}):(0,El.h)("tr",{class:m,rowid:o,style:E?bl().isFunction(E)?E(d):E:null,key:w||k||F||X.useKey||X.drag||K.drag||S?o:l,...t},v)),c&&({height:m,padding:d,mode:t}=te.value,"fixed"===t?Z.push((0,El.h)("tr",{class:"vxe-body--row-expanded-place",key:"expand_"+o,rowid:o},[(0,El.h)("td",{class:"vxe-body--row-expanded-place-column",colspan:b.length,style:{height:`${_?e.expandHeight||m:0}px`}})])):(c={},t=(m&&(c.height=m+"px"),S&&(c.paddingLeft=n*W.indent+30+"px"),L).showOverflow,e=bl().isUndefined(t)||bl().isNull(t)?O:t,t={$table:Ue,seq:i,column:L,fixed:g,type:ut,level:n,row:r,rowIndex:a,$rowIndex:l,_rowIndex:s},Z.push((0,El.h)("tr",{class:["vxe-body--expanded-row",{"is--padding":d}],key:"expand_"+o},[(0,El.h)("td",{class:["vxe-body--expanded-column",{"fixed--hidden":g&&!I,"col--ellipsis":e}],colspan:b.length},[(0,El.h)("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":m}],style:c},[L.renderData(t)])])])))),u&&Z.push(...re(g,f,p,b))}),Z};(0,El.onMounted)(()=>{(0,El.nextTick)(()=>{var e=O.fixedType,t=Xe.elemStore,e=`${e||"main"}-body-`;t[e+"wrapper"]=H,t[e+"scroll"]=$,t[e+"table"]=_,t[e+"colgroup"]=B,t[e+"list"]=N,t[e+"xSpace"]=P,t[e+"ySpace"]=z,t[e+"emptyBlock"]=j})}),(0,El.onUnmounted)(()=>{var e=O.fixedType,t=Xe.elemStore,e=`${e||"main"}-body-`;t[e+"wrapper"]=null,t[e+"scroll"]=null,t[e+"table"]=null,t[e+"colgroup"]=null,t[e+"list"]=null,t[e+"xSpace"]=null,t[e+"ySpace"]=null,t[e+"emptyBlock"]=null});return()=>{var e=L.slots,t=Ue.xeGrid;let{fixedColumn:r,fixedType:l,tableColumn:o}=O;var{spanMethod:a,footerSpanMethod:n,mouseConfig:i}=We,{isGroup:s,tableData:d,isRowLoading:c,isColLoading:u,overflowX:p,scrollXLoad:h,scrollYLoad:m,isAllOverflow:v,isDragRowMove:g,expandColumn:f,dragRow:x,dragCol:b}=qe,{visibleColumn:C,fullAllDataRowIdData:w,fullColumnIdData:y}=Xe,T=lt.value,E=V.value,R=Ge.value,S=at.value,I=te.value;let D=d,M=o,k=!1;!(h||m||v)||f&&"fixed"!==I.mode||a||n||(k=!0),u||!l&&p||(M=C),l&&k&&(M=r||[]),m&&x&&2<D.length&&(d=w[Ol(Ue,x)])&&(v=d._index,f=D[0],I=D[D.length-1],a=w[Ol(Ue,f)],n=w[Ol(Ue,I)],a)&&n&&(p=a._index,C=n._index,v<p?D=[x].concat(D):C<v&&(D=D.concat([x]))),l||s||h&&b&&2<M.length&&(m=y[b.id])&&(d=m._index,f=M[0],w=M[M.length-1],I=y[f.id],a=y[w.id],I)&&a&&(n=I._index,p=a._index,d<n?M=[b].concat(M):p<d&&(M=M.concat([b])));let F;C=e?e.empty:null,F=C?Ue.callSlot(C,{$table:Ue,$grid:t}):(x=(v=E.name?pt.get(E.name):null)?v.renderTableEmpty||v.renderTableEmptyView||v.renderEmpty:null)?$l(x(E,{$table:Ue})):We.emptyText||pe("vxe.table.emptyText"),s={onScroll(e){Ue.triggerBodyScrollEvent(e,l)}};return(0,El.h)("div",{ref:H,class:["vxe-table--body-wrapper",l?`fixed-${l}--wrapper`:"body--wrapper"],xid:A},[(0,El.h)("div",{ref:$,class:"vxe-table--body-inner-wrapper",...s},[l?ge(Ue):(0,El.h)("div",{ref:P,class:"vxe-body--x-space"}),(0,El.h)("div",{ref:z,class:"vxe-body--y-space"}),(0,El.h)("table",{ref:_,class:"vxe-table--body",xid:A,cellspacing:0,cellpadding:0,border:0},[(0,El.h)("colgroup",{ref:B},M.map((e,t)=>(0,El.h)("col",{name:e.id,key:t,style:{width:e.renderWidth+"px"}}))),!c&&!u&&T.drag&&S.animation?(0,El.h)(El.TransitionGroup,{ref:N,name:"vxe-body--row-list"+(g?"":"-disabled"),tag:"tbody"},{default:()=>re(l,k,D,M)}):(0,El.h)("tbody",{ref:N},re(l,k,D,M))]),(0,El.h)("div",{class:"vxe-table--checkbox-range"}),i&&R.area?(0,El.h)("div",{class:"vxe-table--cell-area"},[(0,El.h)("span",{class:"vxe-table--cell-main-area"},R.extension?[(0,El.h)("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){Ue.triggerCellAreaExtendMousedownEvent&&Ue.triggerCellAreaExtendMousedownEvent(e,{$table:Ue,fixed:l,type:ut})}})]:[]),(0,El.h)("span",{class:"vxe-table--cell-copy-area"}),(0,El.h)("span",{class:"vxe-table--cell-extend-area"}),(0,El.h)("span",{class:"vxe-table--cell-multi-area"}),(0,El.h)("span",{class:"vxe-table--cell-active-area"}),(0,El.h)("span",{class:"vxe-table--cell-row-status-area"})]):ge(Ue),l?ge(Ue):(0,El.h)("div",{class:"vxe-table--empty-block",ref:j},[(0,El.h)("div",{class:"vxe-table--empty-content"},F)])])])}}});let{renderer:fe,renderEmptyElement:xe}=xl.VxeUI;var lo=(0,El.defineComponent)({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(b){let te=(0,El.inject)("$xeTable",{}),{xID:C,props:w,reactData:y,internalData:T}=te,{computeColumnOpts:E,computeColumnDragOpts:re,computeCellOpts:t,computeMouseOpts:R,computeHeaderCellOpts:r,computeDefaultRowHeight:l,computeVirtualXOpts:o}=te.getComputeMaps(),S=(0,El.ref)([]),I=(0,El.ref)(),D=(0,El.ref)(),M=(0,El.ref)(),k=(0,El.ref)(),F=(0,El.ref)(),O=(0,El.ref)(),a=(0,El.ref)(),n=()=>{var e=y.isGroup;S.value=e?(e=>{let t=1,l=(r,e)=>{if(e&&(r.level=e.level+1,t<r.level)&&(t=r.level),r.children&&r.children.length&&r.children.some(e=>e.visible)){let t=0;r.children.forEach(e=>{e.visible&&(l(e,r),t+=e.colSpan)}),r.colSpan=t}else r.colSpan=1},r=(e.forEach(e=>{e.level=1,l(e)}),[]);for(let e=0;e<t;e++)r.push([]);return le(e).forEach(e=>{e.children&&e.children.length&&e.children.some(e=>e.visible)?e.rowSpan=1:e.rowSpan=t-e.level+1,r[e.level-1].push(e)}),r})(b.tableGroupColumn):[]},A=(R,S,I,D)=>{let M=te.xeGrid,k=b.fixedType,{resizable:F,columnKey:O,headerCellClassName:A,headerCellStyle:L,showHeaderOverflow:V,headerAlign:H,align:$,mouseConfig:_}=w,{currentColumn:B,dragCol:N,scrollXLoad:P,scrollYLoad:z,overflowX:j}=y,{fullColumnIdData:U,scrollXStore:W}=T,q=o.value,X=E.value,K=re.value,G=t.value;var e=l.value;let Y=r.value,Z=Ir(Y.height||G.height)||e,{disabledMethod:Q,isCrossDrag:J,isPeerDrag:ee}=K;return I.map((e,t)=>{var{type:r,showHeaderOverflow:l,headerAlign:o,align:a,filters:n,headerClassName:i,editRender:s,cellRender:d}=e,c=e.id,u=U[c]||{},s=s||d,d=s?fe.get(s.name):null,s=e.children&&e.children.length,p=k?e.fixed!==k&&!s:!!e.fixed&&j,h=(bl().isBoolean(Y.padding)?Y:G).padding,l=bl().eqNull(l)?V:l,o=o||(d?d.tableHeaderCellAlign:"")||H||a||(d?d.tableCellAlign:"")||$;let m="ellipsis"===l;a="title"===l,d=!0===l||"tooltip"===l;let v=a||d||m,g=!1,f=null;n&&(f=n[0],g=n.some(e=>e.checked));l=u.index,u=u._index;let x={$table:te,$grid:M,$rowIndex:D,column:e,columnIndex:l,$columnIndex:t,_columnIndex:u,firstFilterOption:f,fixed:k,type:"header",isHidden:p,hasFilter:g};var l={colid:c,colspan:1<e.colSpan?e.colSpan:null,rowspan:1<e.rowSpan?e.rowSpan:null},b={onClick:e=>te.triggerHeaderCellClickEvent(e,x),onDblclick:e=>te.triggerHeaderCellDblclickEvent(e,x)},C=(P&&!v&&(m=v=!0),X.drag&&"cell"===K.trigger);let w=!1;C&&(w=!(!Q||!Q(x))),(_||C)&&(b.onMousedown=e=>te.triggerHeaderCellMousedownEvent(e,x)),X.drag&&(b.onDragstart=te.handleHeaderCellDragDragstartEvent,b.onDragend=te.handleHeaderCellDragDragendEvent,b.onDragover=te.handleHeaderCellDragDragoverEvent,C)&&(b.onMouseup=te.handleHeaderCellDragMouseupEvent);var C=t===I.length-1,y=bl().isBoolean(e.resizable)?e.resizable:X.resizable||F,T=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width);let E=!1;R||N&&N.id===c||P&&!e.fixed&&!q.immediate&&(u<W.visibleStartIndex-W.preloadSize||u>W.visibleEndIndex+W.preloadSize)&&(E=!0);u={};return v?u.height=Z+"px":u.minHeight=Z+"px",(0,El.h)("th",{class:["vxe-header--column",c,{["col--"+o]:o,["col--"+r]:r,"col--last":C,"col--fixed":e.fixed,"col--group":s,"col--ellipsis":v,"fixed--width":!T,"fixed--hidden":p,"is--padding":h,"is--sortable":e.sortable,"col--filter":!!n,"is--filter-active":g,"is--drag-active":X.drag&&!e.fixed&&!w&&(J||ee||!e.parentId),"is--drag-disabled":X.drag&&w,"col--current":B===e},i?bl().isFunction(i)?i(x):i:"",A?bl().isFunction(A)?A(x):A:""],style:L?bl().isFunction(L)?L(x):L:null,...l,...b,key:O||P||z||X.useKey||X.drag||s?c:t},[(0,El.h)("div",{class:["vxe-cell",{"c--title":a,"c--tooltip":d,"c--ellipsis":m}],style:u},E||S&&p?[]:[(0,El.h)("div",{colid:c,class:"vxe-cell--wrapper"},e.renderHeader(x))]),!p&&y?(0,El.h)("div",{class:"vxe-cell--col-resizable",onMousedown:e=>te.handleColResizeMousedownEvent(e,k,x),onDblclick:e=>te.handleColResizeDblclickEvent(e,x)}):xe(te)])})};return(0,El.watch)(()=>b.tableColumn,n),(0,El.onMounted)(()=>{(0,El.nextTick)(()=>{var e=b.fixedType,t=te.internalData,t=t.elemStore,e=`${e||"main"}-header-`;t[e+"wrapper"]=I,t[e+"scroll"]=D,t[e+"table"]=M,t[e+"colgroup"]=k,t[e+"list"]=F,t[e+"xSpace"]=O,t[e+"repair"]=a,n()})}),(0,El.onUnmounted)(()=>{var e=b.fixedType,t=te.internalData,t=t.elemStore,e=`${e||"main"}-header-`;t[e+"wrapper"]=null,t[e+"scroll"]=null,t[e+"table"]=null,t[e+"colgroup"]=null,t[e+"list"]=null,t[e+"xSpace"]=null,t[e+"repair"]=null}),()=>{let{fixedType:t,fixedColumn:e,tableColumn:r}=b;var{mouseConfig:l,showHeaderOverflow:o,spanMethod:a,footerSpanMethod:n}=w,{isGroup:i,isColLoading:s,overflowX:d,scrollXLoad:c,scrollYLoad:u,dragCol:p}=y,{visibleColumn:h,fullColumnIdData:m}=T,v=R.value;let g=S.value,f=r,x=!1;return i?f=h:(!(c||u||o)||a||n||(x=!0),s||!t&&d||(f=h),t&&x&&(f=e||[]),g=[f]),t||i||c&&p&&2<f.length&&(u=m[p.id])&&(o=u._index,a=f[0],n=f[f.length-1],s=m[a.id],d=m[n.id],s)&&d&&(h=s._index,c=d._index,o<h?(f=[p].concat(f),g=[[p].concat(g[0])].concat(g.slice(1))):c<o&&(f=f.concat([p]),g=[g[0].concat([p])].concat(g.slice(1)))),(0,El.h)("div",{ref:I,class:["vxe-table--header-wrapper",t?`fixed-${t}--wrapper`:"body--wrapper"],xid:C},[(0,El.h)("div",{ref:D,class:"vxe-table--header-inner-wrapper",onScroll(e){te.triggerHeaderScrollEvent(e,t)}},[t?xe(te):(0,El.h)("div",{ref:O,class:"vxe-body--x-space"}),(0,El.h)("table",{ref:M,class:"vxe-table--header",xid:C,cellspacing:0,cellpadding:0,border:0},[(0,El.h)("colgroup",{ref:k},f.map((e,t)=>(0,El.h)("col",{name:e.id,key:t,style:{width:e.renderWidth+"px"}}))),(0,El.h)("thead",{ref:F},((l,o,e)=>{let a=b.fixedType,{headerRowClassName:n,headerRowStyle:i}=w,{isColLoading:s,isDragColMove:d}=y,c=E.value,u=re.value;return e.map((e,t)=>{var r={$table:te,$rowIndex:t,fixed:a,type:"header"};return!s&&c.drag&&u.animation?(0,El.h)(El.TransitionGroup,{key:t,name:"vxe-header--col-list"+(d?"":"-disabled"),tag:"tr",class:["vxe-header--row",n?bl().isFunction(n)?n(r):n:""],style:i?bl().isFunction(i)?i(r):i:null},{default:()=>A(l,o,e,t)}):(0,El.h)("tr",{key:t,class:["vxe-header--row",n?bl().isFunction(n)?n(r):n:""],style:i?bl().isFunction(i)?i(r):i:null},A(l,o,e,t))})})(i,x,g))]),l&&v.area?(0,El.h)("div",{class:"vxe-table--cell-area"},[(0,El.h)("span",{class:"vxe-table--cell-main-area"}),(0,El.h)("span",{class:"vxe-table--cell-copy-area"}),(0,El.h)("span",{class:"vxe-table--cell-extend-area"}),(0,El.h)("span",{class:"vxe-table--cell-multi-area"}),(0,El.h)("span",{class:"vxe-table--cell-active-area"}),(0,El.h)("span",{class:"vxe-table--cell-col-status-area"})]):xe(te)])])}}});let{renderer:be,renderEmptyElement:Ce}=xl.VxeUI;var oo=(0,El.defineComponent)({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(g){let J=(0,El.inject)("$xeTable",{}),{xID:f,props:x,reactData:b,internalData:C}=J,{computeTooltipOpts:t,computeColumnOpts:w,computeColumnDragOpts:y,computeCellOpts:r,computeFooterCellOpts:l,computeDefaultRowHeight:o,computeResizableOpts:a,computeVirtualXOpts:n}=J.getComputeMaps(),T=(0,El.ref)(),E=(0,El.ref)(),R=(0,El.ref)(),S=(0,El.ref)(),I=(0,El.ref)(),D=(0,El.ref)(),M=(y,T,E,R,S)=>{let I=J.xeGrid,D=g.fixedType,{resizable:M,border:k,footerCellClassName:F,footerCellStyle:O,footerAlign:A,footerSpanMethod:L,align:V,columnKey:H,showFooterOverflow:$}=x,{scrollXLoad:_,scrollYLoad:B,overflowX:N,currentColumn:P}=b,{fullColumnIdData:z,mergeFooterList:j,mergeFooterCellMaps:U,scrollXStore:W}=C,q=n.value,X=t.value;let K=a.value.isAllColumnDrag,G=w.value;var e=o.value;let Y=r.value,Z=l.value,Q=Ir(Z.height||Y.height)||e;return y.map((t,e)=>{var{type:r,showFooterOverflow:l,footerAlign:o,align:a,footerClassName:n,editRender:i,cellRender:s}=t,d=t.id,c=z[d]||{},i=i||s,s=i?be.get(i.name):null;let u=X.showAll;var i=t.children&&t.children.length,i=D?t.fixed!==D&&!i:t.fixed&&N,p=(bl().isBoolean(Z.padding)?Z:Y).padding,l=bl().eqNull(l)?$:l,o=o||(s?s.tableFooterCellAlign:"")||A||a||(s?s.tableCellAlign:"")||V;let h="ellipsis"===l,m="title"===l,v=!0===l||"tooltip"===l,g=m||v||h;var a=bl().isBoolean(t.resizable)?t.resizable:G.resizable||M,s={colid:d},l={},f=c.index,c=c._index,x=c;let b={$table:J,$grid:I,row:E,rowIndex:S,_rowIndex:S,$rowIndex:R,column:t,columnIndex:f,$columnIndex:e,_columnIndex:c,itemIndex:x,items:E,fixed:D,type:"footer",data:T},C=(_&&!g&&(h=g=!0),(m||v||u)&&(l.onMouseenter=e=>{m?xr(e.currentTarget,t):(v||u)&&J.triggerFooterTooltipEvent(e,b)}),(v||u)&&(l.onMouseleave=e=>{(v||u)&&J.handleTargetLeaveEvent(e)}),l.onClick=e=>{J.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},b),e)},!(l.onDblclick=e=>{J.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},b),e)}));if(j.length){f=U[S+":"+c];if(f){var{rowspan:x,colspan:f}=f;if(!x||!f)return null;1<x&&(C=!0,s.rowspan=x),1<f&&(C=!0,s.colspan=f)}}else if(L){var{rowspan:x=1,colspan:f=1}=L(b)||{};if(!x||!f)return null;1<x&&(s.rowspan=x),1<f&&(s.colspan=f)}x=e===y.length-1,f=!t.resizeWidth&&("auto"===t.minWidth||"auto"===t.width);let w=!1;C||_&&!t.fixed&&!q.immediate&&(c<W.visibleStartIndex-W.preloadSize||c>W.visibleEndIndex+W.preloadSize)&&(w=!0);c={};return g?c.height=Q+"px":c.minHeight=Q+"px",(0,El.h)("td",{class:["vxe-footer--column",t.id,{["col--"+o]:o,["col--"+r]:r,"col--last":x,"fixed--width":!f,"fixed--hidden":i,"is--padding":p,"col--ellipsis":g,"col--current":P===t},Et(n,b),Et(F,b)],...s,style:O?bl().isFunction(O)?O(b):O:null,...l,key:H||_||B||G.useKey||G.drag?t.id:e},[(0,El.h)("div",{class:["vxe-cell",{"c--title":m,"c--tooltip":v,"c--ellipsis":h}],style:c},w?[]:[(0,El.h)("div",{colid:d,class:"vxe-cell--wrapper"},t.renderFooter(b))]),!i&&a&&K?(0,El.h)("div",{class:["vxe-cell--col-resizable",{"is--line":!k||"none"===k}],onMousedown:e=>J.handleColResizeMousedownEvent(e,D,b),onDblclick:e=>J.handleColResizeDblclickEvent(e,b)}):Ce(J)])})};return(0,El.onMounted)(()=>{(0,El.nextTick)(()=>{var e=g.fixedType,t=C.elemStore,e=`${e||"main"}-footer-`;t[e+"wrapper"]=T,t[e+"scroll"]=E,t[e+"table"]=R,t[e+"colgroup"]=S,t[e+"list"]=I,t[e+"xSpace"]=D})}),(0,El.onUnmounted)(()=>{var e=g.fixedType,t=C.elemStore,e=`${e||"main"}-footer-`;t[e+"wrapper"]=null,t[e+"scroll"]=null,t[e+"table"]=null,t[e+"colgroup"]=null,t[e+"list"]=null,t[e+"xSpace"]=null}),()=>{let{fixedType:t,fixedColumn:e,tableColumn:r}=g;var{spanMethod:l,footerSpanMethod:o,showFooterOverflow:a}=x,{visibleColumn:n,fullColumnIdData:i}=C,{isGroup:s,isColLoading:d,overflowX:c,scrollXLoad:u,scrollYLoad:p,dragCol:h}=b;let m=r,v=!(u||p||a)||l||o?!1:!0;return d||!t&&c||(m=n),t&&v&&(m=e||[]),t||s||u&&h&&2<m.length&&(p=i[h.id])&&(a=p._index,l=m[0],o=m[m.length-1],d=i[l.id],c=i[o.id],d)&&c&&(n=d._index,s=c._index,a<n?m=[h].concat(m):s<a&&(m=m.concat([h]))),(0,El.h)("div",{ref:T,class:["vxe-table--footer-wrapper",t?`fixed-${t}--wrapper`:"body--wrapper"],xid:f},[(0,El.h)("div",{ref:E,class:"vxe-table--footer-inner-wrapper",onScroll(e){J.triggerFooterScrollEvent(e,t)}},[t?Ce(J):(0,El.h)("div",{ref:D,class:"vxe-body--x-space"}),(0,El.h)("table",{ref:R,class:"vxe-table--footer",xid:f,cellspacing:0,cellpadding:0,border:0},[(0,El.h)("colgroup",{ref:S},m.map((e,t)=>(0,El.h)("col",{name:e.id,key:t,style:{width:e.renderWidth+"px"}}))),(0,El.h)("tfoot",{ref:I},(o=>{let{fixedType:a,footerTableData:n}=g,{footerRowClassName:i,footerRowStyle:s}=x,{isColLoading:d,isDragColMove:c}=b,u=w.value,p=y.value;return n.map((e,t)=>{let r=t;var l={$table:J,row:e,_rowIndex:r,$rowIndex:t,fixed:a,type:"footer"};return!d&&u.drag&&p.animation?(0,El.h)(El.TransitionGroup,{key:t,name:"vxe-header--col-list"+(c?"":"-disabled"),tag:"tr",class:["vxe-footer--row",i?bl().isFunction(i)?i(l):i:""],style:s?bl().isFunction(s)?s(l):s:null},{default:()=>M(o,n,e,t,r)}):(0,El.h)("tr",{key:t,class:["vxe-footer--row",i?bl().isFunction(i)?i(l):i:""],style:s?bl().isFunction(s)?s(l):s:null},M(o,n,e,t,r))})})(m))])])])}}});let o=xl.VxeUI.getConfig;var ao={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>o().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>o().table.resizable},stripe:{type:Boolean,default:()=>o().table.stripe},border:{type:[Boolean,String],default:()=>o().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>o().table.round},size:{type:String,default:()=>o().table.size||o().size},fit:{type:Boolean,default:()=>o().table.fit},loading:Boolean,align:{type:String,default:()=>o().table.align},headerAlign:{type:String,default:()=>o().table.headerAlign},footerAlign:{type:String,default:()=>o().table.footerAlign},showHeader:{type:Boolean,default:()=>o().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>o().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>o().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>o().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>o().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>o().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>o().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>o().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>o().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>o().table.emptyText},keepSource:{type:Boolean,default:()=>o().table.keepSource},autoResize:{type:Boolean,default:()=>o().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>o().table.animat},delayHover:{type:Number,default:()=>o().table.delayHover},params:Object},Nr=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"];let{getI18n:de,getIcon:ce,renderEmptyElement:ue}=xl.VxeUI;var no=(0,El.defineComponent)({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(L){let V=xl.VxeUI.getComponent("VxeModal"),H=xl.VxeUI.getComponent("VxeDrawer"),$=xl.VxeUI.getComponent("VxeButton"),_=xl.VxeUI.getComponent("VxeNumberInput"),B=xl.VxeUI.getComponent("VxeRadioGroup"),N=(0,El.inject)("$xeTable",{}),{props:P,reactData:z,internalData:a}=N,{computeCustomOpts:j,computeColumnDragOpts:U,computeColumnOpts:ne,computeIsMaxFixedColumn:W,computeResizableOpts:ie}=N.getComputeMaps(),R=(0,El.ref)(),q=(0,El.ref)(),i=(0,El.ref)(),s=(0,El.ref)(),d=(0,El.ref)(),b,C=!1,w,S=e=>{var t=L.customStore;t.activeWrapper=!0,N.customOpenEvent(e)},I=e=>{let t=L.customStore;t.activeWrapper=!1,setTimeout(()=>{t.activeBtn||t.activeWrapper||N.customCloseEvent(e)},300)},X=({$event:e})=>{z.isCustomStatus=!0,N.saveCustom(),N.closeCustom(),N.emitCustomEvent("confirm",e)},K=({$event:e})=>{N.closeCustom(),N.emitCustomEvent("close",e)},G=({$event:e})=>{N.cancelCustom(),N.closeCustom(),N.emitCustomEvent("cancel",e)},r=e=>{N.resetCustom(!0),N.closeCustom(),N.emitCustomEvent("reset",e)},Y=({$event:t})=>{xl.VxeUI.modal?xl.VxeUI.modal.confirm({content:de("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(e=>{"confirm"===e&&r(t)}):r(t)},l=t=>{var e=z.customColumnList,e=bl().findTree(e,e=>e===t);e&&e.parent&&(e=e.parent,e.children)&&e.children.length&&(e.renderVisible=e.children.every(e=>e.renderVisible),e.halfVisible=!e.renderVisible&&e.children.some(e=>e.renderVisible||e.halfVisible),l(e))},Z=e=>{let t=!e.renderVisible;j.value.immediate?(bl().eachTree([e],e=>{e.visible=t,e.renderVisible=t,e.halfVisible=!1}),z.isCustomStatus=!0,N.handleCustom(),N.saveCustomStore("update:visible")):bl().eachTree([e],e=>{e.renderVisible=t,e.halfVisible=!1}),l(e),N.checkCustomStatus()},se=e=>{j.value.immediate&&e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth,z.isCustomStatus=!0,N.handleCustom(),N.saveCustomStore("update:width"))},Q=(e,t)=>{var r=W.value;j.value.immediate?(e.renderFixed===t?bl().eachTree([e],e=>{e.fixed="",e.renderFixed=""}):r&&!e.renderFixed||bl().eachTree([e],e=>{e.fixed=t,e.renderFixed=t}),z.isCustomStatus=!0,N.handleCustom(),N.saveCustomStore("update:fixed")):e.renderFixed===t?bl().eachTree([e],e=>{e.renderFixed=""}):r&&!e.renderFixed||bl().eachTree([e],e=>{e.renderFixed=t})},J=()=>{N.toggleCustomAllCheckbox()},c=(e,t,r,l)=>{var o,a,n=q.value;n&&(o=n.getBoundingClientRect(),t&&(a=i.value)&&(r?(t=t.getBoundingClientRect(),a.style.display="block",a.style.top=Math.max(1,t.y+n.scrollTop-o.y)+"px",a.style.height=t.height+"px",a.style.width=t.width+"px",a.setAttribute("drag-pos",l),a.setAttribute("drag-to-child",C?"y":"n")):a.style.display=""),t=s.value)&&(t.style.display="block",t.style.top=Math.min(n.clientHeight+n.scrollTop-t.clientHeight,e.clientY+n.scrollTop-o.y)+"px",t.style.left=Math.min(n.clientWidth+n.scrollLeft-t.clientWidth,e.clientX+n.scrollLeft-o.x)+"px",t.setAttribute("drag-status",r?C?"sub":"normal":"disabled"))},o=()=>{var e=s.value,t=i.value;e&&(e.style.display=""),t&&(t.style.display="")},ee=e=>{var e=e.currentTarget.parentElement.parentElement.parentElement,t=e.getAttribute("colid"),t=N.getColumnById(t);e.draggable=!0,d.value=t,Il(e,"active--drag-origin")},te=e=>{e=e.currentTarget.parentElement.parentElement.parentElement;o(),e.draggable=!1,d.value=null,Sl(e,"active--drag-origin")},re=e=>{e.dataTransfer&&e.dataTransfer.setDragImage(zl(),0,0)},le=c=>{let u=P.mouseConfig,p=z.customColumnList,h=a.collectColumn;let m=j.value.immediate;var e=c.currentTarget,t=d.value;let{isCrossDrag:v,isSelfToChildDrag:g,isToChildDrag:f,dragEndMethod:r}=U.value,x="bottom"===w?1:0;if(b&&t&&b!==t){let s=t,d=b;Promise.resolve(!r||r({oldColumn:s,newColumn:d,dragColumn:s,dragPos:w,dragToChild:!!C,offsetIndex:x})).then(o=>{if(o){let e=-1,t=-1,r={},l=(bl().eachTree([s],e=>{r[e.id]=e}),!1);if(m){if(s.parentId&&d.parentId){if(!v)return;if(r[d.id]&&(l=!0,!v||!g))return void(xl.VxeUI.modal&&xl.VxeUI.modal.message({status:"error",content:de("vxe.error.treeDragChild")}))}else if(s.parentId){if(!v)return}else if(d.parentId){if(!v)return;if(r[d.id]&&(l=!0,!v||!g))return void(xl.VxeUI.modal&&xl.VxeUI.modal.message({status:"error",content:de("vxe.error.treeDragChild")}))}var a,n,i,o=bl().findTree(h,e=>e.id===s.id),o=(l&&v&&g?o&&({items:a,index:i}=o,(n=s.children||[]).forEach(e=>{e.parentId=s.parentId}),a.splice(i,1,...n),s.children=[]):o&&({items:a,index:i,parent:n}=o,a.splice(i,1),n||(e=i)),bl().findTree(h,e=>e.id===d.id));o&&({items:a,index:n,parent:i}=o,v&&f&&C?(s.parentId=d.id,d.children=(d.children||[]).concat([s])):(s.parentId=d.parentId,a.splice(n+x,0,s)),i||(t=n)),bl().eachTree(h,(e,t,r,l,o)=>{o||(e.renderSortNumber=t+1)})}else e=bl().findIndexOf(p,e=>e.id===s.id),p.splice(e,1),t=bl().findIndexOf(p,e=>e.id===d.id),p.splice(t+x,0,s);z.isDragColMove=!0,u&&(N.clearSelected&&N.clearSelected(),N.clearCellAreas)&&(N.clearCellAreas(),N.clearCopyCellArea()),N.dispatchEvent("column-dragend",{oldColumn:s,newColumn:d,dragColumn:s,dragPos:w,offsetIndex:x,_index:{newIndex:t,oldIndex:e}},c),m&&(z.customColumnList=h.slice(0),N.handleColDragSwapColumn())}}).catch(()=>{})}o(),d.value=null,e.draggable=!1,e.removeAttribute("drag-pos"),Sl(e,"active--drag-target"),Sl(e,"active--drag-origin")},oe=e=>{var t,r=j.value.immediate,{isCrossDrag:l,isToChildDrag:o}=U.value,a=e.currentTarget,n=e.ctrlKey,i=a.getAttribute("colid"),i=N.getColumnById(i),s=d.value;i&&(l||1===i.level)&&(e.preventDefault(),t=e.clientY-a.getBoundingClientRect().y<a.clientHeight/2?"top":"bottom",s&&s.id===i.id||!l&&1<i.level||!r&&1<i.level||i.renderFixed?c(e,a,!1,t):(C=!!(l&&o&&n&&r),b=i,w=t,c(e,a,!0,t)))},ae=()=>{var e=d.value,t=U.value;return(0,El.h)("div",{},[(0,El.h)("div",{ref:i,class:["vxe-table-custom-popup--drag-line",{"is--guides":t.showGuidesStatus}]}),(0,El.h)("div",{ref:s,class:"vxe-table-custom-popup--drag-tip"},[(0,El.h)("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[(0,El.h)("div",{class:"vxe-table-custom-popup--drag-tip-status"},[(0,El.h)("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",ce().TABLE_DRAG_STATUS_ROW]}),(0,El.h)("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",ce().TABLE_DRAG_STATUS_SUB_ROW]}),(0,El.h)("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",ce().TABLE_DRAG_DISABLED]})]),(0,El.h)("div",{class:"vxe-table-custom-popup--drag-tip-content"},de("vxe.custom.cstmDragTarget",[e&&"html"!==e.type?e.getTitle():""]))])])])};return(0,El.nextTick)(()=>{var e=j.value.mode;V||tl("vxe.error.reqComp",["vxe-modal"]),H||"drawer"!==e||tl("vxe.error.reqComp",["vxe-drawer"]),$||tl("vxe.error.reqComp",["vxe-button"]),_||tl("vxe.error.reqComp",["vxe-number-input"]),B||tl("vxe.error.reqComp",["vxe-radio-group"])}),()=>{var e=j.value;return(["modal","drawer","popup"].includes(""+e.mode)?()=>{var e=N.xeGrid;let t=L.customStore,c=P.resizable,{isCustomStatus:r,customColumnList:l}=z,o=j.value,u=o.immediate;var a=U.value;let{mode:n,modalOptions:i,drawerOptions:s,allowVisible:p,allowSort:h,allowFixed:m,allowResizable:v,checkMethod:g,visibleMethod:f}=o,x=ne.value,d=x.maxFixedSize,{minWidth:b,maxWidth:C}=ie.value;var w=Object.assign({},i),y=Object.assign({},s);let T=W.value,E=a.isCrossDrag;a=o.slots||{};let R=a.header,S=a.top,I=a.bottom,D=a.default,M=a.footer,k=[],F=t.isAll,O=t.isIndeterminate,A={$table:N,$grid:e,columns:l,isAllChecked:F,isAllIndeterminate:O,isCustomStatus:r};bl().eachTree(l,(l,o,e,t,a)=>{if(!f||f({column:l})){let e=0,t=0;v&&(o={$table:N,column:l,columnIndex:o,$columnIndex:o,$rowIndex:-1},b&&(e=bl().toNumber(bl().isFunction(b)?b(o):b)),C)&&(t=bl().toNumber(bl().isFunction(C)?C(o):C));var o=l.renderVisible,n=l.halfVisible,i=yl(l.getTitle(),1),s=l.children&&l.children.length;let r=!!g&&!g({column:l});var d=!o;k.push((0,El.h)("tr",{key:l.id,colid:l.id,class:["vxe-table-custom-popup--row level--"+l.level,{"is--group":s}],onDragstart:re,onDragend:le,onDragover:oe},[p?(0,El.h)("td",{class:"vxe-table-custom-popup--column-item col--visible"},[(0,El.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":o,"is--indeterminate":n,"is--disabled":r}],title:de("vxe.custom.setting.colVisible"),onClick:()=>{r||Z(l)}},[(0,El.h)("span",{class:["vxe-checkbox--icon",n?ce().TABLE_CHECKBOX_INDETERMINATE:o?ce().TABLE_CHECKBOX_CHECKED:ce().TABLE_CHECKBOX_UNCHECKED]})])]):(0,El.createCommentVNode)(),(0,El.h)("td",{class:"vxe-table-custom-popup--column-item col--name"},[(0,El.h)("div",{class:"vxe-table-custom-popup--name"},[h?E&&u||1===l.level?(0,El.h)("div",{class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":r||d||l.renderFixed}],title:de("vxe.custom.setting.sortHelpTip"),...r||d||l.renderFixed?{}:{onMousedown:ee,onMouseup:te}},[(0,El.h)("i",{class:ce().TABLE_CUSTOM_SORT})]):(0,El.h)("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):(0,El.createCommentVNode)(),"html"===l.type?(0,El.h)("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:i}):(0,El.h)("div",{key:"0",class:"vxe-table-custom-popup--title",title:i},i)])]),v?(0,El.h)("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[l.children&&l.children.length||!(bl().isBoolean(l.resizable)?l.resizable:x.resizable||c)?(0,El.h)("span","-"):_?(0,El.h)(_,{type:"integer",immediate:!1,disabled:r||d,modelValue:l.renderResizeWidth,min:e||void 0,max:t||void 0,"onUpdate:modelValue"(e){e=Math.max(0,Number(e));l.renderResizeWidth=e},onChange(){se(l)}}):(0,El.createCommentVNode)()]):(0,El.createCommentVNode)(),m?(0,El.h)("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[a?(0,El.h)("span","-"):B?(0,El.h)(B,{modelValue:l.renderFixed||"",type:"button",size:"mini",disabled:r||d,options:[{label:de("vxe.custom.setting.fixedLeft"),value:"left",disabled:r||d||T},{label:de("vxe.custom.setting.fixedUnset"),value:"",disabled:r||d},{label:de("vxe.custom.setting.fixedRight"),value:"right",disabled:r||d||T}],"onUpdate:modelValue"(e){Q(l,e)}}):(0,El.createCommentVNode)()]):(0,El.createCommentVNode)()]))}});a={default:()=>D?N.callSlot(D,A):(0,El.h)("div",{ref:q,class:"vxe-table-custom-popup--body"},[S?(0,El.h)("div",{class:"vxe-table-custom-popup--table-top"},N.callSlot(S,A)):ue(N),(0,El.h)("div",{class:"vxe-table-custom-popup--table-wrapper"},[(0,El.h)("table",{},[(0,El.h)("colgroup",{},[p?(0,El.h)("col",{class:"vxe-table-custom-popup--table-col-seq"}):(0,El.createCommentVNode)(),(0,El.h)("col",{class:"vxe-table-custom-popup--table-col-title"}),v?(0,El.h)("col",{class:"vxe-table-custom-popup--table-col-width"}):(0,El.createCommentVNode)(),m?(0,El.h)("col",{class:"vxe-table-custom-popup--table-col-fixed"}):(0,El.createCommentVNode)()]),(0,El.h)("thead",{},[(0,El.h)("tr",{},[p?(0,El.h)("th",{},[(0,El.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":F,"is--indeterminate":O}],title:de("vxe.table.allTitle"),onClick:J},[(0,El.h)("span",{class:["vxe-checkbox--icon",O?ce().TABLE_CHECKBOX_INDETERMINATE:F?ce().TABLE_CHECKBOX_CHECKED:ce().TABLE_CHECKBOX_UNCHECKED]}),(0,El.h)("span",{class:"vxe-checkbox--label"},de("vxe.toolbar.customAll"))])]):(0,El.createCommentVNode)(),(0,El.h)("th",{},de("vxe.custom.setting.colTitle")),v?(0,El.h)("th",{},de("vxe.custom.setting.colResizable")):(0,El.createCommentVNode)(),m?(0,El.h)("th",{},de("vxe.custom.setting."+(d?"colFixedMax":"colFixed"),[d])):(0,El.createCommentVNode)()])]),(0,El.h)(El.TransitionGroup,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>k})])]),I?(0,El.h)("div",{class:"vxe-table-custom-popup--table-bottom"},N.callSlot(I,A)):ue(N),ae()]),footer:()=>M?N.callSlot(M,A):(0,El.h)("div",{class:"vxe-table-custom-popup--footer"},[$?(0,El.h)($,{content:o.resetButtonText||de("vxe.custom.cstmRestore"),disabled:!r,onClick:Y}):(0,El.createCommentVNode)(),u?$?(0,El.h)($,{content:o.closeButtonText||de("vxe.table.customClose"),onClick:K}):(0,El.createCommentVNode)():$?(0,El.h)($,{content:o.cancelButtonText||de("vxe.table.customCancel"),onClick:G}):(0,El.createCommentVNode)(),!u&&$?(0,El.h)($,{status:"primary",content:o.confirmButtonText||de("vxe.custom.cstmConfirm"),onClick:X}):(0,El.createCommentVNode)()])};return R&&(a.header=()=>N.callSlot(R,A)),"drawer"===n?H?(0,El.h)(H,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",y.className||""].join(" "),modelValue:t.visible,title:y.title||de("vxe.custom.cstmTitle"),width:y.width||Math.min(880,Math.floor(.6*document.documentElement.clientWidth)),position:y.position,resize:!!y.resize,escClosable:!!y.escClosable,maskClosable:!!y.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){t.visible=e}},a):(0,El.createCommentVNode)():V?(0,El.h)(V,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",w.className||""].join(" "),modelValue:t.visible,title:w.title||de("vxe.custom.cstmTitle"),width:w.width||Math.min(880,document.documentElement.clientWidth),minWidth:w.minWidth||700,height:w.height||Math.min(680,document.documentElement.clientHeight),minHeight:w.minHeight||400,showZoom:w.showZoom,showMaximize:w.showMaximize,showMinimize:w.showMinimize,mask:w.mask,lockView:w.lockView,resize:w.resize,escClosable:!!w.escClosable,maskClosable:!!w.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){t.visible=e}},a):(0,El.createCommentVNode)()}:()=>{var e=N.xeGrid,t=L.customStore,{isCustomStatus:r,customColumnList:l}=z,o=j.value;let c=o.immediate;var a=U.value,n=t.maxHeight;let{checkMethod:u,visibleMethod:p,allowVisible:h,allowSort:m,allowFixed:v,trigger:i,placement:s}=o,g=W.value,f=a.isCrossDrag;var a=o.slots||{},d=a.header,x=a.top,b=a.bottom,C=a.default,a=a.footer;let w=[];var y={},T=t.isAll,E=t.isIndeterminate,e=("hover"===i&&(y.onMouseenter=S,y.onMouseleave=I),{$table:N,$grid:e,columns:l,isAllChecked:T,isAllIndeterminate:E,isCustomStatus:r});return bl().eachTree(l,(t,e,r,l,o)=>{if(!p||p({column:t})){var a=t.renderVisible,n=t.halfVisible,i=t.children&&t.children.length,s=yl(t.getTitle(),1);let e=!!u&&!u({column:t});var d=!a;w.push((0,El.h)("li",{key:t.id,colid:t.id,class:["vxe-table-custom--option","level--"+t.level,{"is--hidden":e||d,"is--group":i}],onDragstart:re,onDragend:le,onDragover:oe},[h?(0,El.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":a,"is--indeterminate":n,"is--disabled":e}],title:de("vxe.custom.setting.colVisible"),onClick:()=>{e||Z(t)}},[(0,El.h)("span",{class:["vxe-checkbox--icon",n?ce().TABLE_CHECKBOX_INDETERMINATE:a?ce().TABLE_CHECKBOX_CHECKED:ce().TABLE_CHECKBOX_UNCHECKED]})]):(0,El.createCommentVNode)(),(0,El.h)("div",{class:"vxe-table-custom--name-option"},[m&&(f&&c||1===t.level)?(0,El.h)("div",{class:"vxe-table-custom--sort-option"},[(0,El.h)("span",{class:["vxe-table-custom--sort-btn",{"is--disabled":e||d||t.renderFixed}],title:de("vxe.custom.setting.sortHelpTip"),...e||d||t.renderFixed?{}:{onMousedown:ee,onMouseup:te}},[(0,El.h)("i",{class:ce().TABLE_CUSTOM_SORT})])]):(0,El.createCommentVNode)(),"html"===t.type?(0,El.h)("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:s}):(0,El.h)("div",{key:"0",class:"vxe-table-custom--checkbox-label"},s)]),!o&&v?(0,El.h)("div",{class:"vxe-table-custom--fixed-option"},[$?(0,El.h)($,{mode:"text",icon:"left"===t.renderFixed?ce().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:ce().TOOLBAR_TOOLS_FIXED_LEFT,status:"left"===t.renderFixed?"primary":"",disabled:e||d||g&&!t.renderFixed,title:de("left"===t.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{Q(t,"left")}}):(0,El.createCommentVNode)(),$?(0,El.h)($,{mode:"text",icon:"right"===t.renderFixed?ce().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:ce().TOOLBAR_TOOLS_FIXED_RIGHT,status:"right"===t.renderFixed?"primary":"",disabled:e||d||g&&!t.renderFixed,title:de("right"===t.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{Q(t,"right")}}):(0,El.createCommentVNode)()]):(0,El.createCommentVNode)()]))}}),(0,El.h)("div",{ref:R,key:"simple",class:["vxe-table-custom-wrapper","placement--"+s,{"is--active":t.visible}],style:n&&!["left","right"].includes(s)?{maxHeight:n+"px"}:{}},t.visible?[(0,El.h)("div",{class:"vxe-table-custom--header"},d?N.callSlot(d,e):[(0,El.h)("ul",{class:"vxe-table-custom--panel-list"},[(0,El.h)("li",{class:"vxe-table-custom--option"},[h?(0,El.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":T,"is--indeterminate":E}],title:de("vxe.table.allTitle"),onClick:J},[(0,El.h)("span",{class:["vxe-checkbox--icon",E?ce().TABLE_CHECKBOX_INDETERMINATE:T?ce().TABLE_CHECKBOX_CHECKED:ce().TABLE_CHECKBOX_UNCHECKED]}),(0,El.h)("span",{class:"vxe-checkbox--label"},de("vxe.toolbar.customAll"))]):(0,El.h)("span",{class:"vxe-checkbox--label"},de("vxe.table.customTitle"))])])]),(0,El.h)("div",{ref:q,class:"vxe-table-custom--body"},[x?(0,El.h)("div",{class:"vxe-table-custom--panel-top"},N.callSlot(x,e)):ue(N),C?(0,El.h)("div",{class:"vxe-table-custom--panel-body"},N.callSlot(C,e)):(0,El.h)(El.TransitionGroup,{class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul",...y},{default:()=>w}),b?(0,El.h)("div",{class:"vxe-table-custom--panel-bottom"},N.callSlot(b,e)):ue(N),ae()]),o.showFooter?(0,El.h)("div",{class:"vxe-table-custom--footer"},a?N.callSlot(a,e):[(0,El.h)("div",{class:"vxe-table-custom--footer-buttons"},[$?(0,El.h)($,{mode:"text",content:o.resetButtonText||de("vxe.table.customRestore"),disabled:!r,onClick:Y}):(0,El.createCommentVNode)(),c?$?(0,El.h)($,{mode:"text",content:o.closeButtonText||de("vxe.table.customClose"),onClick:K}):(0,El.createCommentVNode)():$?(0,El.h)($,{mode:"text",content:o.cancelButtonText||de("vxe.table.customCancel"),onClick:G}):(0,El.createCommentVNode)(),!c&&$?(0,El.h)($,{mode:"text",status:"primary",content:o.confirmButtonText||de("vxe.table.customConfirm"),onClick:X}):(0,El.createCommentVNode)()])]):null]:[])})()}}});let{getI18n:we,getIcon:S,renderer:ye}=xl.VxeUI;var io=(0,El.defineComponent)({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(h,e){var t=bl().uniqueId();let m=(0,El.inject)("$xeTable",{}),{reactData:v,internalData:g,getComputeMaps:r}=m,f=r().computeFilterOpts,x=(0,El.ref)(),l={refElem:x},b={xID:t,props:h,context:e,getRefMaps:()=>l},C=(0,El.computed)(()=>{var e=h.filterStore;return e&&e.options.some(e=>e.checked)}),o=(e,t)=>{var r=h.filterStore;r.options.forEach(e=>{e._checked=t,e.checked=t}),r.isAllSelected=t,r.isIndeterminate=!1},w=e=>{m.handleFilterConfirmFilter(e)};let y=e=>{m.handleFilterResetFilter(e)};let T=(e,t,r)=>{m.handleFilterChangeOption(e,t,r)},E=(e,t)=>{var r=h.filterStore;r.multiple?o(0,t):y(e)};t={changeRadioOption:(e,t,r)=>{m.handleFilterChangeRadioOption(e,t,r)},changeMultipleOption:(e,t,r)=>{m.handleFilterChangeMultipleOption(e,t,r)},changeAllOption:E,changeOption:T,confirmFilter:w,resetFilter:y};Object.assign(b,t);return b.renderVN=()=>{var e=h.filterStore,t=v.initStore,{visible:r,multiple:l,column:o}=e,a=o?o.filterRender:null,n=Cl(a)?ye.get(a.name):null,i=n?n.tableFilterClassName||n.filterClassName:"",s=Object.assign({},g._currFilterParams,{$panel:b,$table:m}),d=m.props,c=m.getComputeMaps().computeSize,c=c.value,{transfer:u,destroyOnClose:p}=f.value;return(0,El.h)(El.Teleport,{to:"body",disabled:!u},[(0,El.h)("div",{ref:x,class:["vxe-table--filter-wrapper","filter--prevent-default",Et(i,s),{["size--"+c]:c,"is--animat":d.animat,"is--multiple":l,"is--active":r}],style:e.style},t.filter&&(!p||r)&&o?((e,t)=>{let r=h.filterStore,{column:l,multiple:o,maxHeight:a}=r;var n=l?l.slots:null,n=n?n.filter:null,i=Object.assign({},g._currFilterParams,{$panel:b,$table:m}),t=t?t.renderTableFilter||t.renderFilter:null;return n?[(0,El.h)("div",{class:"vxe-table--filter-template",style:a?{maxHeight:a+"px"}:{}},m.callSlot(n,i))]:t?[(0,El.h)("div",{class:"vxe-table--filter-template",style:a?{maxHeight:a+"px"}:{}},$l(t(e,i)))]:(n=o?r.isAllSelected:!r.options.some(e=>e._checked),t=o&&r.isIndeterminate,[(0,El.h)("ul",{class:"vxe-table--filter-header"},[(0,El.h)("li",{class:["vxe-table--filter-option",{"is--checked":n,"is--indeterminate":t}],title:we(o?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{E(e,!r.isAllSelected)}},(o?[(0,El.h)("span",{class:["vxe-checkbox--icon",t?S().TABLE_CHECKBOX_INDETERMINATE:n?S().TABLE_CHECKBOX_CHECKED:S().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,El.h)("span",{class:"vxe-checkbox--label"},we("vxe.table.allFilter"))]))]),(0,El.h)("ul",{class:"vxe-table--filter-body",style:a?{maxHeight:a+"px"}:{}},r.options.map(t=>{var e=t._checked;return(0,El.h)("li",{class:["vxe-table--filter-option",{"is--checked":t._checked}],title:t.label,onClick:e=>{T(e,!t._checked,t)}},(o?[(0,El.h)("span",{class:["vxe-checkbox--icon",e?S().TABLE_CHECKBOX_CHECKED:S().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,El.h)("span",{class:"vxe-checkbox--label"},yl(t.label,1))]))}))])})(a,n).concat((()=>{var e=h.filterStore,{column:t,multiple:r}=e,l=f.value,o=C.value,t=t.filterRender,t=Cl(t)?ye.get(t.name):null,o=!o&&!e.isAllSelected&&!e.isIndeterminate;return r&&(!t||!1!==t.showTableFilterFooter&&!1!==t.showFilterFooter&&!1!==t.isFooter)?[(0,El.h)("div",{class:"vxe-table--filter-footer"},[(0,El.h)("button",{class:{"is--disabled":o},disabled:o,onClick:w},l.confirmButtonText||we("vxe.table.confirmFilter")),(0,El.h)("button",{onClick:y},l.resetButtonText||we("vxe.table.resetFilter"))])]:[]})()):[])])},b},render(){return this.renderVN()}});yt(2577);let{getI18n:I,getIcon:Te}=xl.VxeUI;var so=(0,El.defineComponent)({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(u){let p=xl.VxeUI.getComponent("VxeModal"),h=xl.VxeUI.getComponent("VxeButton"),m=xl.VxeUI.getComponent("VxeSelect"),v=(0,El.inject)("$xeTable",{}),l=v.getComputeMaps().computeImportOpts,g=(0,El.reactive)({loading:!1}),f=(0,El.ref)(),x=(0,El.computed)(()=>{var e=u.storeData;return e.filename+"."+e.type}),b=(0,El.computed)(()=>{var e=u.storeData;return e.file&&e.type}),C=(0,El.computed)(()=>{var e=u.storeData;let{type:t,typeList:r}=e;return t?(e=bl().find(r,e=>t===e.value))?e.label:"*.*":"*."+r.map(e=>e.value).join(", *.")}),w=()=>{var e=u.storeData;Object.assign(e,{filename:"",sheetName:"",type:""})},y=()=>{let{storeData:t,defaultOptions:e}=u;v.readFile(e).then(e=>{e=e.file;Object.assign(t,hr(e),{file:e})}).catch(e=>e)},T=()=>{(0,El.nextTick)(()=>{var e=f.value;e&&e.focus()})},E=()=>{var e=u.storeData;e.visible=!1},R=()=>{let{storeData:e,defaultOptions:t}=u;var r=l.value;g.loading=!0,v.importByFile(e.file,Object.assign({},r,t)).then(()=>{g.loading=!1,e.visible=!1}).catch(()=>{g.loading=!1})};return(0,El.nextTick)(()=>{p||tl("vxe.error.reqComp",["vxe-modal"]),h||tl("vxe.error.reqComp",["vxe-button"]),m||tl("vxe.error.reqComp",["vxe-select"])}),()=>{let t=v.xeGrid,{defaultOptions:r,storeData:l}=u,o=x.value,a=b.value,n=C.value;var e=r.slots||{};let i=e.top,s=e.bottom,d=e.default,c=e.footer;return p?(0,El.h)(p,{id:"VXE_IMPORT_MODAL",modelValue:l.visible,title:I("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:g.loading,"onUpdate:modelValue"(e){l.visible=e},onShow:T},{default:()=>{var e={$table:v,$grid:t,options:r,params:r.params};return(0,El.h)("div",{class:"vxe-table-export--panel"},[i?(0,El.h)("div",{class:"vxe-table-export--panel-top"},v.callSlot(i,e)):(0,El.createCommentVNode)(),(0,El.h)("div",{class:"vxe-table-export--panel-body"},d?v.callSlot(d,e):[(0,El.h)("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[(0,El.h)("tbody",[(0,El.h)("tr",[(0,El.h)("td",I("vxe.import.impFile")),(0,El.h)("td",[a?(0,El.h)("div",{class:"vxe-table-export--selected--file",title:o},[(0,El.h)("span",o),(0,El.h)("i",{class:Te().INPUT_CLEAR,onClick:w})]):(0,El.h)("button",{ref:f,class:"vxe-table-export--select--file",onClick:y},I("vxe.import.impSelect"))])]),(0,El.h)("tr",[(0,El.h)("td",I("vxe.import.impType")),(0,El.h)("td",n)]),(0,El.h)("tr",[(0,El.h)("td",I("vxe.import.impMode")),(0,El.h)("td",[m?(0,El.h)(m,{modelValue:r.mode,options:l.modeList,"onUpdate:modelValue"(e){r.mode=e}}):(0,El.createCommentVNode)()])])])])]),s?(0,El.h)("div",{class:"vxe-table-export--panel-bottom"},v.callSlot(s,e)):(0,El.createCommentVNode)()])},footer(){var e={$table:v,$grid:t,options:r,params:r.params};return(0,El.h)("div",{class:"vxe-table-export--panel-footer"},c?v.callSlot(c,e):[(0,El.h)("div",{class:"vxe-table-export--panel-btns"},[h?(0,El.h)(h,{content:I("vxe.import.impCancel"),onClick:E}):(0,El.createCommentVNode)(),h?(0,El.h)(h,{status:"primary",disabled:!a||g.loading,content:I("vxe.import.impConfirm"),onClick:R}):(0,El.createCommentVNode)()])])}}):(0,El.createCommentVNode)()}}});let{getI18n:j,getIcon:U}=xl.VxeUI;var co=(0,El.defineComponent)({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(y){let T=xl.VxeUI.getComponent("VxeModal"),E=xl.VxeUI.getComponent("VxeButton"),R=xl.VxeUI.getComponent("VxeSelect"),S=xl.VxeUI.getComponent("VxeInput"),I=xl.VxeUI.getComponent("VxeCheckbox"),D=(0,El.inject)("$xeTable",{}),{computeExportOpts:r,computePrintOpts:l}=D.getComputeMaps(),M=(0,El.reactive)({isAll:!1,isIndeterminate:!1,loading:!1}),k=(0,El.ref)(),F=(0,El.ref)(),O=(0,El.ref)(),A=(0,El.computed)(()=>{var e=y.storeData;return e.columns.every(e=>e.checked)}),L=(0,El.computed)(()=>{var e=y.defaultOptions;return-1<["html","xml","xlsx","pdf"].indexOf(e.type)}),V=(0,El.computed)(()=>{var{storeData:e,defaultOptions:t}=y;return!t.original&&"current"===t.mode&&(e.isPrint||-1<["html","xlsx"].indexOf(t.type))}),H=(0,El.computed)(()=>{var e=y.defaultOptions;return!e.original&&-1<["xlsx"].indexOf(e.type)}),$=t=>{var e=y.storeData,e=bl().findTree(e.columns,e=>e===t);e&&e.parent&&(e=e.parent,e.children)&&e.children.length&&(e.checked=e.children.every(e=>e.checked),e.halfChecked=!e.checked&&e.children.some(e=>e.checked||e.halfChecked),$(e))},_=()=>{var e=y.storeData,e=e.columns;M.isAll=e.every(e=>e.disabled||e.checked),M.isIndeterminate=!M.isAll&&e.some(e=>!e.disabled&&(e.checked||e.halfChecked))},B=()=>{var e=y.storeData;let t=!M.isAll;bl().eachTree(e.columns,e=>{e.disabled||(e.checked=t,e.halfChecked=!1)}),M.isAll=t,_()},N=()=>{(0,El.nextTick)(()=>{var e=F.value,t=O.value,r=k.value,e=e||t||r;e&&e.focus()}),_()},o=()=>{var{storeData:e,defaultOptions:t}=y,{hasMerge:e,columns:r}=e,l=A.value,o=V.value,r=bl().searchTree(r,e=>e.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},t,{columns:r,isMerge:!!(e&&o&&l)&&t.isMerge})},t=()=>{var e=y.storeData,t=l.value;e.visible=!1,D.print(Object.assign({},t,o()))},a=()=>{let e=y.storeData;var t=r.value;M.loading=!0,D.exportData(Object.assign({},t,o())).then(()=>{M.loading=!1,e.visible=!1}).catch(()=>{M.loading=!1})},P=()=>{var e=y.storeData;e.visible=!1},z=()=>{var e=y.storeData;(e.isPrint?t:a)()};return(0,El.nextTick)(()=>{T||tl("vxe.error.reqComp",["vxe-modal"]),E||tl("vxe.error.reqComp",["vxe-button"]),R||tl("vxe.error.reqComp",["vxe-select"]),S||tl("vxe.error.reqComp",["vxe-input"]),I||tl("vxe.error.reqComp",["vxe-checkbox"])}),()=>{let r=D.xeGrid,{defaultOptions:l,storeData:o}=y,{isAll:a,isIndeterminate:n}=M,{hasTree:i,hasMerge:s,isPrint:d,hasColgroup:c,columns:u}=o,p=l.isHeader,h=[],m=A.value,v=L.value,g=V.value,f=H.value;var e=l.slots||{};let x=e.top,b=e.bottom,C=e.default,t=e.footer,w=e.parameter;return bl().eachTree(u,e=>{var t=yl(e.getTitle(),1),r=e.children&&e.children.length,l=e.checked,o=e.halfChecked,a="html"===e.type;h.push((0,El.h)("li",{key:e.id,class:["vxe-table-export--panel-column-option","level--"+e.level,{"is--group":r,"is--checked":l,"is--indeterminate":o,"is--disabled":e.disabled}],title:a?"":t,onClick:()=>{e.disabled||(e=>{let t=!e.checked;bl().eachTree([e],e=>{e.checked=t,e.halfChecked=!1}),$(e),_()})(e)}},[(0,El.h)("span",{class:["vxe-checkbox--icon",o?U().TABLE_CHECKBOX_INDETERMINATE:l?U().TABLE_CHECKBOX_CHECKED:U().TABLE_CHECKBOX_UNCHECKED]}),a?(0,El.h)("span",{key:"1",class:"vxe-checkbox--label",innerHTML:t}):(0,El.h)("span",{key:"0",class:"vxe-checkbox--label"},t)]))}),T?(0,El.h)(T,{id:"VXE_EXPORT_MODAL",modelValue:o.visible,title:j(d?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:M.loading,"onUpdate:modelValue"(e){o.visible=e},onShow:N},{default:()=>{var e={$table:D,$grid:r,options:l,columns:u,params:l.params},t="empty"===l.mode;return(0,El.h)("div",{class:"vxe-table-export--panel"},[x?(0,El.h)("div",{class:"vxe-table-export--panel-top"},D.callSlot(x,e)):(0,El.createCommentVNode)(),(0,El.h)("div",{class:"vxe-table-export--panel-body"},C?D.callSlot(C,e):[(0,El.h)("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[(0,El.h)("tbody",[[d?(0,El.createCommentVNode)():(0,El.h)("tr",[(0,El.h)("td",j("vxe.export.expName")),(0,El.h)("td",[S?(0,El.h)(S,{ref:F,modelValue:l.filename,type:"text",clearable:!0,placeholder:j("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){l.filename=e}}):(0,El.createCommentVNode)()])]),d?(0,El.createCommentVNode)():(0,El.h)("tr",[(0,El.h)("td",j("vxe.export.expType")),(0,El.h)("td",[R?(0,El.h)(R,{modelValue:l.type,options:o.typeList,"onUpdate:modelValue"(e){l.type=e}}):(0,El.createCommentVNode)()])]),d||v?(0,El.h)("tr",[(0,El.h)("td",j("vxe.export.expSheetName")),(0,El.h)("td",[S?(0,El.h)(S,{ref:O,modelValue:l.sheetName,type:"text",clearable:!0,placeholder:j("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){l.sheetName=e}}):(0,El.createCommentVNode)()])]):(0,El.createCommentVNode)(),(0,El.h)("tr",[(0,El.h)("td",j("vxe.export.expMode")),(0,El.h)("td",[R?(0,El.h)(R,{modelValue:l.mode,options:o.modeList.map(e=>({value:e.value,label:j(e.label)})),"onUpdate:modelValue"(e){l.mode=e}}):(0,El.createCommentVNode)()])]),(0,El.h)("tr",[(0,El.h)("td",[j("vxe.export.expColumn")]),(0,El.h)("td",[(0,El.h)("div",{class:"vxe-table-export--panel-column"},[(0,El.h)("ul",{class:"vxe-table-export--panel-column-header"},[(0,El.h)("li",{class:["vxe-table-export--panel-column-option",{"is--checked":a,"is--indeterminate":n}],title:j("vxe.table.allTitle"),onClick:B},[(0,El.h)("span",{class:["vxe-checkbox--icon",n?U().TABLE_CHECKBOX_INDETERMINATE:a?U().TABLE_CHECKBOX_CHECKED:U().TABLE_CHECKBOX_UNCHECKED]}),(0,El.h)("span",{class:"vxe-checkbox--label"},j("vxe.export.expCurrentColumn"))])]),(0,El.h)("ul",{class:"vxe-table-export--panel-column-body"},h)])])]),(0,El.h)("tr",[(0,El.h)("td",j("vxe.export.expOpts")),w?(0,El.h)("td",[(0,El.h)("div",{class:"vxe-table-export--panel-option-row"},D.callSlot(w,e))]):(0,El.h)("td",[(0,El.h)("div",{class:"vxe-table-export--panel-option-row"},[I?(0,El.h)(I,{modelValue:t||p,disabled:t,title:j("vxe.export.expHeaderTitle"),content:j("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){l.isHeader=e}}):(0,El.createCommentVNode)(),I?(0,El.h)(I,{modelValue:!!p&&l.isTitle,disabled:!p,title:j("vxe.export.expTitleTitle"),content:j("vxe.export.expOptTitle"),"onUpdate:modelValue"(e){l.isTitle=e}}):(0,El.createCommentVNode)(),I?(0,El.h)(I,{modelValue:!!(p&&c&&g)&&l.isColgroup,title:j("vxe.export.expColgroupTitle"),disabled:!p||!c||!g,content:j("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){l.isColgroup=e}}):(0,El.createCommentVNode)()]),(0,El.h)("div",{class:"vxe-table-export--panel-option-row"},[I?(0,El.h)(I,{modelValue:!t&&l.original,disabled:t,title:j("vxe.export.expOriginalTitle"),content:j("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){l.original=e}}):(0,El.createCommentVNode)(),I?(0,El.h)(I,{modelValue:!!(s&&g&&m)&&l.isMerge,title:j("vxe.export.expMergeTitle"),disabled:t||!s||!g||!m,content:j("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){l.isMerge=e}}):(0,El.createCommentVNode)(),d||!I?(0,El.createCommentVNode)():(0,El.h)(I,{modelValue:!!f&&l.useStyle,disabled:!f,title:j("vxe.export.expUseStyleTitle"),content:j("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){l.useStyle=e}}),I?(0,El.h)(I,{modelValue:!!i&&l.isAllExpand,disabled:t||!i,title:j("vxe.export.expAllExpandTitle"),content:j("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){l.isAllExpand=e}}):(0,El.createCommentVNode)()]),(0,El.h)("div",{class:"vxe-table-export--panel-option-row"},[I?(0,El.h)(I,{modelValue:l.isFooter,disabled:!o.hasFooter,title:j("vxe.export.expFooterTitle"),content:j("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){l.isFooter=e}}):(0,El.createCommentVNode)()])])])]])])]),b?(0,El.h)("div",{class:"vxe-table-export--panel-bottom"},D.callSlot(b,e)):(0,El.createCommentVNode)()])},footer(){var e={$table:D,$grid:r,options:l,columns:u,params:l.params};return(0,El.h)("div",{class:"vxe-table-export--panel-footer"},t?D.callSlot(t,e):[(0,El.h)("div",{class:"vxe-table-export--panel-btns"},[E?(0,El.h)(E,{content:j("vxe.export.expCancel"),onClick:P}):(0,El.createCommentVNode)(),E?(0,El.h)(E,{ref:k,status:"primary",content:j(d?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:z}):(0,El.createCommentVNode)()])])}}):(0,El.createCommentVNode)()}}});let Ee=xl.VxeUI.getIcon;var uo=(0,El.defineComponent)({name:"VxeTableMenuPanel",setup(e,t){var r=bl().uniqueId();let s=(0,El.inject)("$xeTable",{}),l=s.reactData,o=(0,El.ref)(),a={refElem:o};r={xID:r,props:e,context:t,getRefMaps:()=>a};return r.renderVN=()=>{let i=l.ctxMenuStore;var e=s.getComputeMaps().computeMenuOpts,e=e.value;return(0,El.h)(El.Teleport,{to:"body",disabled:!1},[(0,El.h)("div",{ref:o,class:["vxe-table--context-menu-wrapper",e.className,{"is--visible":i.visible}],style:i.style},i.list.map((e,n)=>e.every(e=>!1===e.visible)?(0,El.createCommentVNode)():(0,El.h)("ul",{class:"vxe-context-menu--option-wrapper",key:n},e.map((o,a)=>{var e=o.children&&o.children.some(e=>!1!==e.visible),t=Object.assign({},o.prefixConfig),r=Object.assign({},o.suffixConfig);return!1===o.visible?null:(0,El.h)("li",{class:[o.className,{"link--disabled":o.disabled,"link--active":o===i.selected}],key:n+"_"+a},[(0,El.h)("a",{class:"vxe-context-menu--link",onClick(e){s.ctxMenuLinkEvent(e,o)},onMouseover(e){s.ctxMenuMouseoverEvent(e,o)},onMouseout(e){s.ctxMenuMouseoutEvent(e,o)}},[(0,El.h)("div",{class:["vxe-context-menu--link-prefix",t.className||""]},[(0,El.h)("i",{class:t.icon||o.prefixIcon}),t.content?(0,El.h)("span",{},""+t.content):(0,El.createCommentVNode)()]),(0,El.h)("div",{class:"vxe-context-menu--link-content"},wl(o.name)),(0,El.h)("div",{class:["vxe-context-menu--link-suffix",r.className||""]},[(0,El.h)("i",{class:r.icon||o.suffixIcon||(e?Ee().TABLE_MENU_OPTIONS:"")}),r.content?(0,El.h)("span",""+r.content):(0,El.createCommentVNode)()])]),e?(0,El.h)("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":o===i.selected&&i.showChild}]},o.children.map((t,e)=>{var r=Object.assign({},t.prefixConfig),l=Object.assign({},t.suffixConfig);return!1===t.visible?null:(0,El.h)("li",{class:[t.className,{"link--disabled":t.disabled,"link--active":t===i.selectChild}],key:n+`_${a}_`+e},[(0,El.h)("a",{class:"vxe-context-menu--link",onClick(e){s.ctxMenuLinkEvent(e,t)},onMouseover(e){s.ctxMenuMouseoverEvent(e,o,t)},onMouseout(e){s.ctxMenuMouseoutEvent(e,o)}},[(0,El.h)("div",{class:["vxe-context-menu--link-prefix",r.className||""]},[(0,El.h)("i",{class:r.icon||t.prefixIcon}),r.content?(0,El.h)("span",""+r.content):(0,El.createCommentVNode)()]),(0,El.h)("div",{class:"vxe-context-menu--link-content"},wl(t.name)),(0,El.h)("div",{class:["vxe-context-menu--link-suffix",l.className||""]},[(0,El.h)("i",{class:l.icon}),l.content?(0,El.h)("span",""+l.content):(0,El.createCommentVNode)()])])])})):null])}))))])},r},render(){return this.renderVN()}});let{getConfig:ll,getIcon:dl,getI18n:ol,renderer:cl,formats:ul,createEvent:pl,globalResize:hl,interceptor:ml,hooks:vl,globalEvents:al,GLOBAL_EVENT_KEYS:nl,useFns:gl,renderEmptyElement:il}=xl.VxeUI,fl="VXE_CUSTOM_STORE";var Pr=(0,El.defineComponent)({name:"VxeTable",props:ao,emits:Nr,setup(z,e){let{slots:se,emit:l}=e,de=bl().uniqueId(),ce=bl().browse(),ue=xl.VxeUI.getComponent("VxeLoading"),pe=xl.VxeUI.getComponent("VxeTooltip"),t=(0,El.inject)("$xeTabs",null),he=gl.useSize(z).computeSize,j=(0,El.reactive)({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isDragRowMove:!1,dragRow:null,isDragColMove:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),U={tZindex:0,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeBodyList:[],mergeBodyMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeBodyCellMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1},W={},q={},X=(0,El.ref)(),me=(0,El.ref)(),K=(0,El.ref)(),ve=(0,El.ref)(),ge=(0,El.ref)(),fe=(0,El.ref)(),xe=(0,El.ref)(),be=(0,El.ref)(),d=(0,El.ref)(),c=(0,El.ref)(),b=(0,El.ref)(),u=(0,El.ref)(),p=(0,El.ref)(),h=(0,El.ref)(),m=(0,El.ref)(),v=(0,El.ref)(),f=(0,El.ref)(),x=(0,El.ref)(),B=(0,El.ref)(),N=(0,El.ref)(),Ce=(0,El.ref)(),we=(0,El.ref)(),ye=(0,El.ref)(),Te=(0,El.ref)(),Ee=(0,El.ref)(),Re=(0,El.ref)(),P=(0,El.ref)(),V=(0,El.ref)(),Se=(0,El.ref)(),Ie=(0,El.ref)(),S=(0,El.ref)(),De=(0,El.ref)(),Me=(0,El.ref)(),I=(0,El.ref)(),ke=(0,El.ref)(),Fe=(0,El.ref)(),Oe=(0,El.ref)(),Ae=(0,El.ref)(),C=(0,El.ref)(),H=(0,El.ref)(),G=(0,El.inject)("$xeGrid",null),w,y=(0,El.computed)(()=>{var e=z.id;return e?bl().isFunction(e)?""+(e({$table:ne,$grid:G})||""):""+e:""}),Le=(0,El.computed)(()=>Object.assign({},ll().table.validConfig,z.validConfig));var r=(0,El.computed)(()=>R.value);let $=(0,El.computed)(()=>{var e=R.value.threshold;return e?bl().toNumber(e):0});var o=(0,El.computed)(()=>D.value);let R=(0,El.computed)(()=>Object.assign({},ll().table.scrollX,ll().table.virtualXConfig,z.scrollX,z.virtualXConfig)),D=(0,El.computed)(()=>Object.assign({},ll().table.scrollY,ll().table.virtualYConfig,z.scrollY,z.virtualYConfig)),_=(0,El.computed)(()=>Object.assign({},ll().table.scrollbarConfig,z.scrollbarConfig)),Ve=(0,El.computed)(()=>{var e=_.value;return!(!e.x||"top"!==e.x.position)}),He=(0,El.computed)(()=>{var e=_.value;return!(!e.y||"left"!==e.y.position)}),$e=(0,El.computed)(()=>{var e=D.value.threshold;return e?bl().toNumber(e):0}),a=(0,El.computed)(()=>j.rowHeightStore),E=(0,El.computed)(()=>{var e=he.value;return a.value[e||"default"]||18}),Y=(0,El.computed)(()=>Object.assign({},ll().table.columnConfig,z.columnConfig)),_e=(0,El.computed)(()=>Object.assign({},ll().table.currentColumnConfig,z.currentColumnConfig)),M=(0,El.computed)(()=>{var e=Object.assign({},ll().table.cellConfig,z.cellConfig);return e.height&&(e.height=bl().toNumber(e.height)),e});var n=(0,El.computed)(()=>{var e=Object.assign({},ll().table.headerCellConfig,z.headerCellConfig);return e.height&&(e.height=bl().toNumber(e.height)),e}),i=(0,El.computed)(()=>{var e=Object.assign({},ll().table.footerCellConfig,z.footerCellConfig);return e.height&&(e.height=bl().toNumber(e.height)),e});let Z=(0,El.computed)(()=>Object.assign({},ll().table.rowConfig,z.rowConfig)),Be=(0,El.computed)(()=>Object.assign({},ll().table.currentRowConfig,z.currentRowConfig)),Q=(0,El.computed)(()=>Object.assign({},ll().table.rowDragConfig,z.rowDragConfig)),J=(0,El.computed)(()=>Object.assign({},ll().table.columnDragConfig,z.columnDragConfig)),s=(0,El.computed)(()=>Object.assign({},ll().table.resizeConfig,z.resizeConfig)),Ne=(0,El.computed)(()=>Object.assign({},ll().table.resizableConfig,z.resizableConfig));var Pe=(0,El.computed)(()=>Object.assign({startIndex:0},ll().table.seqConfig,z.seqConfig));let k=(0,El.computed)(()=>Object.assign({},ll().table.radioConfig,z.radioConfig)),ee=(0,El.computed)(()=>Object.assign({},ll().table.checkboxConfig,z.checkboxConfig)),ze=(0,El.computed)(()=>Object.assign({},ll().tooltip,ll().table.tooltipConfig,z.tooltipConfig)),je=(0,El.computed)(()=>{var e=j.tooltipStore,t=ze.value;return Object.assign({},t,e.currOpts)}),Ue=(0,El.computed)(()=>{var e=ze.value;return Object.assign({},e)}),te=(0,El.computed)(()=>Object.assign({},ll().table.editConfig,z.editConfig)),T=(0,El.computed)(()=>Object.assign({orders:["asc","desc",null]},ll().table.sortConfig,z.sortConfig)),We=(0,El.computed)(()=>Object.assign({},ll().table.filterConfig,z.filterConfig)),re=(0,El.computed)(()=>Object.assign({},ll().table.mouseConfig,z.mouseConfig)),qe=(0,El.computed)(()=>Object.assign({},ll().table.areaConfig,z.areaConfig)),le=(0,El.computed)(()=>Object.assign({},ll().table.keyboardConfig,z.keyboardConfig));var Xe=(0,El.computed)(()=>Object.assign({},ll().table.clipConfig,z.clipConfig)),Ke=(0,El.computed)(()=>Object.assign({},ll().table.fnrConfig,z.fnrConfig));let Ge=(0,El.computed)(()=>Object.assign({},ll().table.menuConfig,z.menuConfig)),Ye=(0,El.computed)(()=>{var e=j.columnStore,t=e.leftList;let r=0;for(let e=0;e<t.length;e++){var l=t[e];r+=l.renderWidth}return r}),Ze=(0,El.computed)(()=>{var e=j.columnStore,t=e.rightList;let r=0;for(let e=0;e<t.length;e++){var l=t[e];r+=l.renderWidth}return r}),Qe=(0,El.computed)(()=>{var e=Ge.value.header;return e&&e.options?e.options:[]}),Je=(0,El.computed)(()=>{var e=Ge.value.body;return e&&e.options?e.options:[]}),et=(0,El.computed)(()=>{var e=Ge.value.footer;return e&&e.options?e.options:[]}),tt=(0,El.computed)(()=>{var e=Ge.value,t=Qe.value,r=Je.value,l=et.value;return!!(z.menuConfig&&Cl(e)&&(t.length||r.length||l.length))}),rt=(0,El.computed)(()=>{var e=j.ctxMenuStore;let t=[];return e.list.forEach(e=>{e.forEach(e=>{t.push(e)})}),t}),lt=(0,El.computed)(()=>Object.assign({},ll().table.exportConfig,z.exportConfig)),ot=(0,El.computed)(()=>Object.assign({},ll().table.importConfig,z.importConfig));var at=(0,El.computed)(()=>Object.assign({},ll().table.printConfig,z.printConfig));let oe=(0,El.computed)(()=>Object.assign({},ll().table.expandConfig,z.expandConfig)),ae=(0,El.computed)(()=>Object.assign({},ll().table.treeConfig,z.treeConfig)),nt=(0,El.computed)(()=>Object.assign({},ll().table.emptyRender,z.emptyRender)),it=(0,El.computed)(()=>Object.assign({},ll().table.loadingConfig,z.loadingConfig));var st=(0,El.computed)(()=>z.border?Math.max(2,Math.ceil(j.scrollbarWidth/j.tableColumn.length)):1);let F=(0,El.computed)(()=>Object.assign({},ll().table.customConfig,z.customConfig)),dt=(0,El.computed)(()=>{var e=z.treeConfig,{rowExpandedFlag:t,expandColumn:r}=j;let{visibleDataRowIdData:l,rowExpandedMaps:o}=U;var a=ae.value.transform;let n=[];if(r&&t){if(e&&!a)return bl().values(o);bl().each(o,(e,t)=>{l[t]&&n.push(e)})}return n}),ct=(0,El.computed)(()=>{var e=U.visibleColumn,t=j.tableColumn;return t.length||e.length?e.filter(e=>"auto"===e.width||"auto"===e.minWidth):[]}),ut=(0,El.computed)(()=>{var e=j.tableColumn,t=U.collectColumn;let r=0;return e.length&&t.length&&t.forEach(e=>{e.renderFixed&&r++}),r}),pt=(0,El.computed)(()=>{var e=ut.value,t=Y.value.maxFixedSize;return!!t&&t<=e}),ht=(0,El.computed)(()=>{var e=z.border;return!0===e?"full":e||"default"});var mt=(0,El.computed)(()=>{var{}=z,e=j.tableData,t=U.tableFullData;let{strict:r,checkMethod:l}=ee.value;return!!r&&(!e.length&&!t.length||!!l&&t.every(e=>!l({row:e})))}),vt=(0,El.computed)(()=>{var{overflowX:e,scrollXLoad:t,overflowY:r,scrollYLoad:l}=j;return{x:e&&t,y:r&&l}});let gt={refElem:X,refTooltip:K,refValidTooltip:ge,refTableFilter:xe,refTableCustom:be,refTableMenu:fe,refTableHeader:c,refTableBody:b,refTableFooter:u,refTableLeftHeader:p,refTableLeftBody:h,refTableLeftFooter:m,refTableRightHeader:v,refTableRightBody:f,refTableRightFooter:x,refLeftContainer:B,refRightContainer:N,refColResizeBar:Ce,refRowResizeBar:we,refScrollXVirtualElem:Se,refScrollYVirtualElem:Ie,refScrollXHandleElem:S,refScrollYHandleElem:I,refScrollXSpaceElem:C,refScrollYSpaceElem:H},ft={computeSize:he,computeTableId:y,computeValidOpts:Le,computeVirtualXOpts:R,computeVirtualYOpts:D,computeScrollbarOpts:_,computeScrollbarXToTop:Ve,computeScrollbarYToLeft:He,computeColumnOpts:Y,computeCurrentColumnOpts:_e,computeScrollXThreshold:$,computeScrollYThreshold:$e,computeRowHeightMaps:a,computeDefaultRowHeight:E,computeCellOpts:M,computeHeaderCellOpts:n,computeFooterCellOpts:i,computeRowOpts:Z,computeCurrentRowOpts:Be,computeRowDragOpts:Q,computeColumnDragOpts:J,computeResizeOpts:s,computeResizableOpts:Ne,computeSeqOpts:Pe,computeRadioOpts:k,computeCheckboxOpts:ee,computeTooltipOpts:ze,computeEditOpts:te,computeSortOpts:T,computeFilterOpts:We,computeMouseOpts:re,computeAreaOpts:qe,computeKeyboardOpts:le,computeClipOpts:Xe,computeFNROpts:Ke,computeHeaderMenu:Qe,computeBodyMenu:Je,computeFooterMenu:et,computeIsMenu:tt,computeMenuList:rt,computeMenuOpts:Ge,computeExportOpts:lt,computeImportOpts:ot,computePrintOpts:at,computeExpandOpts:oe,computeTreeOpts:ae,computeEmptyOpts:nt,computeLoadingOpts:it,computeCellOffsetWidth:st,computeCustomOpts:F,computeLeftFixedWidth:Ye,computeRightFixedWidth:Ze,computeFixedColumnSize:ut,computeIsMaxFixedColumn:pt,computeIsAllCheckboxDisabled:mt,computeVirtualScrollBars:vt,computeSXOpts:r,computeSYOpts:o},ne={xID:de,props:z,context:e,reactData:j,internalData:U,getRefMaps:()=>gt,getComputeMaps:()=>ft,xeGrid:G,xegrid:G},xt=(e,t,r)=>{e=bl().get(e,r),t=bl().get(t,r);return!(!Tl(e)||!Tl(t))||(bl().isString(e)||bl().isNumber(e)?""+e==""+t:bl().isEqual(e,t))},bt=e=>{var t=T.value.orders,e=e.order||null,e=t.indexOf(e)+1;return t[e<t.length?e:0]},Ct=e=>{var t=ll().version,r=bl().toStringJSON(localStorage.getItem(fl)||""),r=r&&r._v===t?r:{_v:t};return(e?r[e]:r)||{}},wt=e=>{let r=U.fullAllDataRowIdData,l={};return bl().each(e,(e,t)=>{r[t]&&(l[t]=e)}),l},yt=e=>{let r=U.fullDataRowIdData,l=[];return bl().each(e,(e,t)=>{r[t]&&-1===ne.findRowIndexOf(l,r[t].row)&&l.push(r[t].row)}),l},Tt=()=>{var{isScrollXBig:o,scrollXWidth:a}=j,{elemStore:n,visibleColumn:i,fullColumnIdData:s}=U,d=Ye.value,c=Ze.value,n=Hl(n["main-body-scroll"]);if(n){var u=n.clientWidth;let e=n.scrollLeft;var p=(e=o?Math.ceil((a-u)*Math.min(1,e/(5e6-u))):e)+d,h=e+u-c;let t=0,r=i.length;for(;t<r;){var m=Math.floor((t+r)/2);(s[i[m].id]||{}).oLeft<=p?t=m+1:r=m}let l=0;n=Math.max(0,t<i.length?t-2:0);for(let e=n,t=i.length;e<t;e++){var v=s[i[e].id]||{};if(l++,v.oLeft>h||60<=l)break}return{toVisibleIndex:Math.max(0,n),visibleSize:Math.max(1,l)}}return{toVisibleIndex:0,visibleSize:6}},Et=(e,t)=>{var r=j.rowHeightStore;t&&t.clientHeight&&(r[e]=t.clientHeight)},Rt=()=>{var t=j.isAllOverflow,r=c.value,l=b.value,l=l?l.$el:null,e=E.value;let o=0;if(t){if(l){t=r?r.$el:null;let e;(e=!(e=l.querySelector("tr"))&&t?t.querySelector("tr"):e)&&(o=e.clientHeight)}o=o||e}else o=e;return Math.max(18,o)},St=()=>{var{isAllOverflow:t,expandColumn:r,isScrollYBig:a,scrollYHeight:n}=j,{elemStore:i,isResizeCellHeight:s,afterFullData:d,fullAllDataRowIdData:c}=U,u=Z.value,p=M.value,h=E.value,i=Hl(i["main-body-scroll"]);if(i){var m=i.clientHeight;let e=i.scrollTop;var v=e=a?Math.ceil((n-m)*Math.min(1,e/(5e6-m))):e,g=e+m;let l=-1,o=0;if(s||p.height||u.height||r||!t){var f=Al(ne).handleGetRowId;let r=0,e=d.length;for(;r<e;){var x=Math.floor((r+e)/2);(c[f(d[x])]||{}).oTop<=v?r=x+1:e=x}for(let e=l=Math.max(0,r<d.length?r-2:0),t=d.length;e<t;e++){var b=c[f(d[e])]||{};if(o++,b.oTop>g||100<=o)break}}else l=Math.floor(v/h)-1,o=Math.ceil(m/h)+1;return{toVisibleIndex:Math.max(0,l),visibleSize:Math.max(6,o)}}return{toVisibleIndex:0,visibleSize:6}},It=(r,l,o)=>{for(let e=0,t=r.length;e<t;e++){var a=r[e],{startIndex:n,endIndex:i}=l,s=a[o],a=s+a[o+"span"];s<n&&n<a&&(l.startIndex=s),s<i&&i<a&&(l.endIndex=a),l.startIndex===n&&l.endIndex===i||(e=-1)}};function Dt(t){var r={};if(t&&t.length)for(let e=0;e<t.length;e++){var{row:l,col:o,rowspan:a,colspan:n}=t[e];for(let t=0;t<a;t++)for(let e=0;e<n;e++)r[l+t+":"+(o+e)]=t||e?{rowspan:0,colspan:0}:{rowspan:a,colspan:n}}return r}let Mt=(e,o,a)=>{let n=[];if(e){let l=U.visibleColumn;(e=bl().isArray(e)?e:[e]).forEach(e=>{let{row:t,col:r}=e;a&&bl().isNumber(t)&&(t=a[t]),bl().isNumber(r)&&(r=l[r]);var e=bl().findIndexOf(o,e=>!(e._row!==t&&Ol(ne,e._row)!==Ol(ne,t)||e._col.id!==r&&e._col.id!==r.id));-1<e&&(e=o.splice(e,1),n.push(e[0]))})}return n},kt=()=>{var e=U.tableFullColumn;e.forEach(e=>{e.order=null})},Ft=e=>{var t,r=j.parentHeight,e=z[e];let l=0;return l=e?"100%"===e||"auto"===e?r:(t=ne.getExcludeHeight(),l=Ul(e)?Math.floor((bl().toInteger(e)||1)/100*r):bl().toNumber(e),Math.max(40,l-t)):l},Ot=e=>{var t=U.collectColumn;let{resizableData:n,sortData:i,visibleData:s,fixedData:d}=e,c=!1;n||i||s||d?(bl().eachTree(t,(e,t,r,l,o)=>{var a=e.getKey();o||(d&&void 0!==d[a]&&(e.fixed=d[a]),i&&bl().isNumber(i[a])&&(c=!0,e.renderSortNumber=i[a])),n&&bl().isNumber(n[a])&&(e.resizeWidth=n[a]),s&&bl().isBoolean(s[a])&&(e.visible=s[a])}),c&&(t=bl().orderBy(t,"renderSortNumber"),U.collectColumn=t,U.tableFullColumn=dr(t)),j.isCustomStatus=!0):j.isCustomStatus=!1},At=()=>{var{tableFullColumn:e,collectColumn:t}=U;let c=U.fullColumnIdData={},u=U.fullColumnFieldData={};var r=re.value,l=oe.value;let p=Y.value;var o=J.value,a=D.value;let{isCrossDrag:h,isSelfToChildDrag:m}=o,v=F.value.storage;var o=Z.value,n=t.some(Nl);let g=!!z.showOverflow,f,x,b,C,w,y,i=(e,t,r,l,o)=>{var{id:a,field:n,fixed:i,type:s,treeNode:d}=e,t={$index:-1,_index:-1,column:e,colid:a,index:t,items:r,parent:o||null,width:0,oLeft:0};n?(u[n]&&tl("vxe.error.colRepet",["field",n]),u[n]=t):(v&&!s||p.drag&&(h||m))&&tl("vxe.error.reqProp",[`${e.getTitle()||s||""} -> column.field=?`]),!y&&i&&(y=i),w||"html"!==s||(w=e),d?(x&&el("vxe.error.colRepet",["tree-node",d]),x=x||e):"expand"===s&&(f&&el("vxe.error.colRepet",["type",s]),f=f||e),"checkbox"===s?(b&&el("vxe.error.colRepet",["type",s]),b=b||e):"radio"===s&&(C&&el("vxe.error.colRepet",["type",s]),C=C||e),g&&!1===e.showOverflow&&(g=!1),c[a]&&tl("vxe.error.colRepet",["colId",a]),c[a]=t};n?bl().eachTree(t,(e,t,r,l,o,a)=>{e.level=a.length,i(e,t,r,0,o)}):e.forEach(i),f&&"fixed"!==l.mode&&a.enabled&&el("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),f&&"fixed"!==l.mode&&r.area&&tl("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),w&&(p.useKey||tl("vxe.error.reqProp",["column-config.useKey & column.type=html"]),o.useKey||tl("vxe.error.reqProp",["row-config.useKey & column.type=html"])),j.isGroup=n,j.treeNodeColumn=x,j.expandColumn=f,j.isAllOverflow=g},Lt=()=>{U.customHeight=Ft("height"),U.customMinHeight=Ft("minHeight"),U.customMaxHeight=Ft("maxHeight")},Vt=(e,t)=>{var r=t.querySelectorAll(`.vxe-cell--wrapper[colid="${e.id}"]`);let l=0;var t=r[0];t&&t.parentElement&&(t=getComputedStyle(t.parentElement),l=Math.ceil(bl().toNumber(t.paddingLeft)+bl().toNumber(t.paddingRight)));let o=e.renderAutoWidth-l;for(let e=0;e<r.length;e++){var a=r[e];o=Math.max(o,a?Math.ceil(a.scrollWidth)+4:0)}return o+l},Ht=()=>{var e=ct.value;let l=U.fullColumnIdData,o=X.value;o&&(o.setAttribute("data-calc-col","Y"),e.forEach(e=>{var t=e.id,t=l[t],r=Vt(e,o);t&&(t.width=Math.max(r,t.width)),e.renderAutoWidth=r}),ne.analyColumnWidth(),o.removeAttribute("data-calc-col"))},$t=()=>{var e=U.elemStore,e=Hl(e["main-body-wrapper"]);if(e){var o=I.value;if(o)if(S.value){let r=0;o=e.clientWidth,e=o;let l=e/100;var t=z.fit,a=j.columnStore,{resizeList:a,pxMinList:n,autoMinList:i,pxList:s,scaleList:d,scaleMinList:c,autoList:u,remainList:p}=a;if(n.forEach(e=>{var t=bl().toInteger(e.minWidth);r+=t,e.renderWidth=t}),i.forEach(e=>{var t=Math.max(60,bl().toInteger(e.renderAutoWidth));r+=t,e.renderWidth=t}),c.forEach(e=>{var t=Math.floor(bl().toInteger(e.minWidth)*l);r+=t,e.renderWidth=t}),d.forEach(e=>{var t=Math.floor(bl().toInteger(e.width)*l);r+=t,e.renderWidth=t}),s.forEach(e=>{var t=bl().toInteger(e.width);r+=t,e.renderWidth=t}),u.forEach(e=>{var t=Math.max(60,bl().toInteger(e.renderAutoWidth));r+=t,e.renderWidth=t}),a.forEach(e=>{var t=bl().toInteger(e.resizeWidth);r+=t,e.renderWidth=t}),e-=r,l=0<e?Math.floor(e/(c.length+n.length+i.length+p.length)):0,t?0<e&&c.concat(n).concat(i).forEach(e=>{r+=l,e.renderWidth+=l}):l=40,p.forEach(e=>{var t=Math.max(l,40);e.renderWidth=t,r+=t}),t){var h=d.concat(c).concat(n).concat(i).concat(p);let t=h.length-1;if(0<t){let e=o-r;if(0<e){for(;0<e&&0<=t;)e--,h[t--].renderWidth++;r=o}}}j.scrollXWidth=r,j.resizeWidthFlag++,br(),Lt()}}},_t=(e,t)=>{var r=t.querySelectorAll(`.vxe-cell--wrapper[rowid="${e.rowid}"]`);let l=e.height;for(let e=0;e<r.length;e++){var o=r[e],a=o.parentElement,a=Math.ceil(bl().toNumber(a.style.paddingTop)+bl().toNumber(a.style.paddingBottom)),o=o?o.clientHeight:0;l=Math.max(l-a,Math.ceil(o))}return l},Bt=()=>{let{tableData:e,isAllOverflow:t,scrollYLoad:r,scrollXLoad:l}=j,o=U.fullAllDataRowIdData,a=E.value,n=X.value;if(!t&&r&&n){let r=Al(ne).handleGetRowId;n.setAttribute("data-calc-row","Y"),e.forEach(e=>{var t,e=r(e),e=o[e];e&&(t=_t(e,n),e.height=Math.max(a,l?Math.max(e.height,t):t)),n.removeAttribute("data-calc-row")}),j.calcCellHeightFlag++}},Nt=r=>{let{sortBy:l,sortType:o}=r;return e=>{let t;return t=l?bl().isFunction(l)?l({row:e,column:r}):bl().get(e,l):W.getCellLabel(e,r),o&&"auto"!==o?"number"===o?bl().toNumber(t):"string"===o?bl().toValueString(t):t:isNaN(t)?t:bl().toNumber(t)}},Pt=()=>{let a=z.treeConfig,{afterFullData:e,fullDataRowIdData:n,fullAllDataRowIdData:i}=U,s=Al(ne).handleGetRowId,d={};e.forEach((e,t)=>{var r=s(e),l=i[r],o=t+1;l?(a||(l.seq=o),l._index=t):(l={row:e,rowid:r,seq:o,index:-1,$index:-1,_index:t,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0},i[r]=l,n[r]=l),d[r]=e}),U.afterFullRowMaps=d},zt=()=>{var e=z.treeConfig;let{fullDataRowIdData:i,fullAllDataRowIdData:s,afterTreeFullData:t}=U;var r=ae.value,l=r.transform,o=r.children||r.childrenField;let d={};if(e){let n=Al(ne).handleGetRowId;bl().eachTree(t,(e,t,r,l)=>{var o=n(e),a=s[o],l=l.map((e,t)=>t%2==0?Number(e)+1:".").join("");a?(a.seq=l,a.treeIndex=t):(a={row:e,rowid:o,seq:l,index:-1,$index:-1,_index:-1,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0},s[o]=a,i[o]=a),d[o]=e},{children:l?r.mapChildrenField:o}),U.afterFullRowMaps=d}Pt()},jt=()=>{var e=z.treeConfig;let{fullAllDataRowIdData:c,treeExpandedMaps:u}=U;var t=ae.value,r=t.children||t.childrenField;if(e&&t.transform){let i=Al(ne).handleGetRowId,s=[],d={};return bl().eachTree(U.afterTreeFullData,(e,t,r,l,o)=>{var a=i(e),n=i(o);(!o||d[n]&&u[n])&&((o=c[a])&&(o._index=s.length),d[a]=1,s.push(e))},{children:r}),U.afterFullData=s,pr(s),s}return U.afterFullData},O=()=>{let{showHeaderOverflow:x,showFooterOverflow:b,mouseConfig:e,spanMethod:C,footerSpanMethod:w}=z,{isGroup:y,currentRow:t,tableColumn:T,scrollXLoad:E,scrollYLoad:R,overflowX:r,scrollbarWidth:l,overflowY:o,scrollbarHeight:a,scrollXWidth:S,columnStore:n,editStore:i,isAllOverflow:I,expandColumn:D}=j,{visibleColumn:M,tableHeight:k,headerHeight:F,footerHeight:O,elemStore:A,customHeight:L,customMinHeight:s,customMaxHeight:V}=U;var d=X.value;if(d){let p=o?l:0,h=r?a:0;var c=ye.value,u=re.value;let m=oe.value;var H=Hl(A["main-body-wrapper"]),$=Hl(A["main-body-table"]);c&&(c.style.top=F+"px",c.style.height=H?H.offsetHeight-h+"px":"");let v=0,g=0,f=s-F-O-h;V&&(g=Math.max(f,V-F-O-h)),(v=L?L-F-O-h:v)||$&&(v=$.clientHeight),v&&(g&&(v=Math.min(g,v)),v=Math.max(f,v));var c=Ve.value,H=De.value,$=Me.value,_=Se.value,_=(_&&(_.style.height=h+"px",_.style.visibility=r?"visible":"hidden"),Fe.value),_=(_&&(_.style.left=c?p+"px":"",_.style.width=d.clientWidth-p+"px"),H&&(H.style.width=c?p+"px":"",H.style.display=c&&r&&h?"block":""),$&&($.style.width=c?"":p+"px",$.style.display=!c&&r&&h?"block":""),Ie.value),d=(_&&(_.style.width=p+"px",_.style.height=v+F+O+"px",_.style.visibility=o?"visible":"hidden"),ke.value),H=(d&&(d.style.height=F+"px",d.style.display=o&&F?"block":""),Oe.value),$=(H&&(H.style.height=v+"px",H.style.top=F+"px"),Ae.value),c=($&&($.style.height=O+"px",$.style.top=F+v+"px",$.style.display=o&&O?"block":""),P.value);return c&&(c.style.height=v+"px",c.style.top=F+"px"),["main","left","right"].forEach((s,e)=>{let d=0<e?s:"";e="left"===d;let c=[],u;d&&(c=e?n.leftList:n.rightList,u=(e?B:N).value),["header","body","footer"].forEach(r=>{var l=Hl(A[s+`-${r}-wrapper`]),o=Hl(A[s+`-${r}-scroll`]),a=Hl(A[s+`-${r}-table`]);if("header"===r){let e=T,t=!1;y?e=M:(!(E||R||x)||C||w||(t=!0),d&&(e=M,t)&&(e=c||[]));var n=e.reduce((e,t)=>e+t.renderWidth,0);d&&(!y&&t?l&&(l.style.width=n?n+"px":""):l&&(l.style.width=S?S+"px":"")),o&&(o.style.height=F+"px"),a&&(a.style.width=n?n+"px":"")}else if("body"===r){o&&(o.style.maxHeight=V?g+"px":"",o.style.height=L?v+"px":"",o.style.minHeight=f+"px"),u&&(l&&(l.style.top=F+"px"),u.style.height=`${0<L?L:k+F+O+h}px`,u.style.width=c.reduce((e,t)=>e+t.renderWidth,0)+"px");let e=T,t=!1;!(E||R||I)||D&&"fixed"!==m.mode||C||w||(t=!0);var n=(e=d&&(e=M,t)?c||[]:e).reduce((e,t)=>e+t.renderWidth,0),i=(d&&(t?l&&(l.style.width=n?n+"px":""):l&&(l.style.width=S?S+"px":"")),a&&(a.style.width=n?n+"px":"",a.style.paddingRight=p&&d&&(ce["-moz"]||ce.safari)?p+"px":""),Hl(A[s+`-${r}-emptyBlock`]));i&&(i.style.width=n?n+"px":"")}else if("footer"===r){let e=T,t=!1;!(E||R||b)||C||w||(t=!0);i=(e=d&&(e=M,t)?c||[]:e).reduce((e,t)=>e+t.renderWidth,0);d&&(t?l&&(l.style.width=i?i+"px":""):l&&(l.style.width=S?S+"px":"")),o&&(o.style.height=O+"px",u)&&l&&(l.style.top=`${0<L?L-O-h:k+F}px`),a&&(a.style.width=i?i+"px":"")}})}),t&&ne.setCurrentRow(t),e&&u.selected&&i.selected.row&&i.selected.column&&ne.addCellSelectedClass(),(0,El.nextTick)()}},Ut=e=>ne.triggerValidate?ne.triggerValidate(e):(0,El.nextTick)(),Wt=(e,t)=>{Ut("blur").catch(e=>e).then(()=>{ne.handleEdit(t,e).then(()=>Ut("change")).catch(e=>e)})},qt=e=>{k.value.reserve&&(U.radioReserveRow=e)},Xt=(e,t)=>{var r,l=U.checkboxReserveRowMap;ee.value.reserve&&(r=Ol(ne,e),t?l[r]=e:l[r]&&delete l[r])},Kt=(e,t)=>{var r=k.value.checkMethod;return e&&(t||!r||r({row:e}))&&(j.selectRadioRow=e,qt(e)),(0,El.nextTick)()},g=(e,t,r)=>(e&&!bl().isArray(e)&&(e=[e]),ne.handleBatchSelectRows(e,!!t,r),ne.checkSelectionStatus(),(0,El.nextTick)()),Gt=(t,r)=>{let l=z.treeConfig,{afterFullData:e,checkboxReserveRowMap:o,selectCheckboxMaps:a}=U;var n=ae.value,n=n.children||n.childrenField,i=ee.value;let{checkField:s,reserve:d,checkMethod:c}=i,u=Al(ne).handleGetRowId,p=i.indeterminateField||i.halfField,h={};return s?(i=e=>{!r&&c&&!c({row:e})||(t&&(h[u(e)]=e),bl().set(e,s,t)),l&&p&&bl().set(e,p,!1)},l?bl().eachTree(e,i,{children:n}):e.forEach(i)):l?t?bl().eachTree(e,e=>{var t;!r&&c&&!c({row:e})||(t=u(e),h[t]=e)},{children:n}):!r&&c&&bl().eachTree(e,e=>{var t=u(e);!c({row:e})&&a[t]&&(h[t]=e)},{children:n}):t?!r&&c?e.forEach(e=>{var t=u(e);(a[t]||c({row:e}))&&(h[t]=e)}):e.forEach(e=>{var t=u(e);h[t]=e}):!r&&c&&e.forEach(e=>{var t=u(e);!c({row:e})&&a[t]&&(h[t]=e)}),d&&(t?bl().each(h,(e,t)=>{o[t]=e}):e.forEach(e=>Xt(e,!1))),j.updateCheckboxFlag++,U.selectCheckboxMaps=s?{}:h,j.isAllSelected=t,j.isIndeterminate=!1,U.treeIndeterminateRowMaps={},ne.checkSelectionStatus(),(0,El.nextTick)()},Yt=a=>{var e=ae.value,t=ee.value;let{transform:n,loadMethod:i}=e,s=t.checkStrictly;return new Promise(o=>{if(i){let{fullAllDataRowIdData:e,treeExpandLazyLoadedMaps:t}=U,r=Ol(ne,a),l=e[r];t[r]=a,Promise.resolve(i({$table:ne,row:a})).then(e=>{if(l&&(l.treeLoaded=!0),t[r]&&delete t[r],e=bl().isArray(e)?e:[])return ne.loadTreeChildren(a,e).then(e=>{var t=U.treeExpandedMaps;return e.length&&!t[r]&&(t[r]=a),j.treeExpandedFlag++,!s&&ne.isCheckedByCheckboxRow(a)&&g(e,!0),(0,El.nextTick)().then(()=>{if(n)return ne.handleTableData(),zt(),(0,El.nextTick)()})})}).catch(()=>{var e=U.treeExpandLazyLoadedMaps;l&&(l.treeLoaded=!1),e[r]&&delete e[r]}).finally(()=>{j.treeExpandedFlag++,(0,El.nextTick)().then(()=>ne.recalculate()).then(()=>o())})}else o()})},Zt=(e,t)=>{var r,l=U.treeExpandedReserveRowMap;ae.value.reserve&&(r=Ol(ne,e),t?l[r]=e:l[r]&&delete l[r])},Qt=n=>new Promise(l=>{var e=oe.value.loadMethod;if(e){var{fullAllDataRowIdData:o,rowExpandLazyLoadedMaps:a}=U;let t=Ol(ne,n),r=o[t];a[t]=n,e({$table:ne,row:n,rowIndex:ne.getRowIndex(n),$rowIndex:ne.getVMRowIndex(n)}).then(()=>{var e=U.rowExpandedMaps;r&&(r.expandLoaded=!0),e[t]=n,j.rowExpandedFlag++}).catch(()=>{r&&(r.expandLoaded=!1)}).finally(()=>{var e=U.rowExpandLazyLoadedMaps;e[t]&&delete e[t],j.rowExpandedFlag++,(0,El.nextTick)().then(()=>ne.recalculate()).then(()=>ne.updateCellAreas()).then(()=>l())})}else l()}),Jt=(e,t)=>{var r,l=U.rowExpandedReserveRowMap;oe.value.reserve&&(r=Ol(ne,e),t?l[r]=e:l[r]&&delete l[r])},er=()=>(0,El.nextTick)().then(()=>{var e,{scrollXLoad:t,scrollYLoad:r}=j,{scrollXStore:l,scrollYStore:o}=U,a=D.value,n=R.value,n=(t?({toVisibleIndex:t,visibleSize:e}=Tt(),i=Math.max(0,n.oSize?bl().toNumber(n.oSize):0),l.preloadSize=bl().toNumber(n.preSize),l.offsetSize=i,l.visibleSize=e,l.endIndex=Math.max(l.startIndex+l.visibleSize+i,l.endIndex),l.visibleStartIndex=Math.max(l.startIndex,t),l.visibleEndIndex=Math.min(l.endIndex,t+e),ne.updateScrollXData().then(()=>{sr()})):ne.updateScrollXSpace(),Rt()),{toVisibleIndex:i,visibleSize:l}=(o.rowHeight=n,j.rowHeight=n,St());r?(t=Math.max(0,a.oSize?bl().toNumber(a.oSize):0),o.preloadSize=bl().toNumber(a.preSize),o.offsetSize=t,o.visibleSize=l,o.endIndex=Math.max(o.startIndex+l+t,o.endIndex),o.visibleStartIndex=Math.max(o.startIndex,i),o.visibleEndIndex=Math.min(o.endIndex,i+l),ne.updateScrollYData().then(()=>{vr()})):ne.updateScrollYSpace()}),tr=()=>{var{scrollXWidth:e,scrollYHeight:t}=j,r=U.elemStore,l=_.value,o=Hl(r["main-body-wrapper"]),a=Hl(r["main-header-table"]),r=Hl(r["main-footer-table"]),n=S.value,i=I.value;let s=!1;o&&(t=t>o.clientHeight,i&&(j.scrollbarWidth=Math.max(l.width||0,i.offsetWidth-i.clientWidth)),j.overflowY=t,s=e>o.clientWidth,n&&(j.scrollbarHeight=Math.max(l.height||0,n.offsetHeight-n.clientHeight)),i=a?a.clientHeight:0,t=r?r.clientHeight:0,U.tableHeight=o.offsetHeight,U.headerHeight=i,U.footerHeight=t,j.overflowX=s,j.parentHeight=Math.max(U.headerHeight+t+20,ne.getParentHeight())),s&&ne.checkScrolling()},rr=e=>{var t,r,l,o=X.value;return U.rceRunTime=Date.now(),o&&o.clientWidth?((o=me.value)&&([o,t,r,l]=o.children,Et("default",o),Et("medium",t),Et("small",r),Et("mini",l)),Ht(),$t(),tr(),O(),L(),er().then(()=>{if(Ht(),e&&$t(),tr(),O(),e&&A(),L(),e)return er()})):(0,El.nextTick)()},lr=(e,t)=>{var{keepSource:r,treeConfig:l}=z;let a=j.scrollYLoad,{scrollYStore:o,scrollXStore:n,lastScrollLeft:i,lastScrollTop:s}=U;var d=ae.value;let c=oe.value;var u=d.transform,p=d.children||d.childrenField;let h=[],m=(0,El.reactive)(e?e.slice(0):[]),v=(5e6<m.length&&tl("vxe.error.errMaxRow",[5e6]),l&&(u?(d.rowField||tl("vxe.error.reqProp",["tree-config.rowField"]),d.parentField||tl("vxe.error.reqProp",["tree-config.parentField"]),p||tl("vxe.error.reqProp",["tree-config.childrenField"]),d.mapChildrenField||tl("vxe.error.reqProp",["tree-config.mapChildrenField"]),p===d.mapChildrenField&&tl("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),h=bl().toArrayTree(m,{key:d.rowField,parentKey:d.parentField,children:p,mapChildren:d.mapChildrenField}),m=h.slice(0)):h=m.slice(0)),o.startIndex=0,o.endIndex=1,n.startIndex=0,n.endIndex=1,j.isRowLoading=!0,j.scrollVMLoading=!1,U.insertRowMaps={},U.removeRowMaps={},pr(m));return j.isDragColMove=!1,j.isDragRowMove=!1,U.tableFullData=m,U.tableFullTreeData=h,ne.cacheRowMap(t),U.tableSynchData=e,t&&(U.isResizeCellHeight=!1),r&&ne.cacheSourceMap(m),ne.clearCellAreas&&z.mouseConfig&&(ne.clearCellAreas(),ne.clearCopyCellArea()),ne.clearMergeCells(),ne.clearMergeFooterItems(),ne.handleTableData(!0),ne.updateFooter(),ne.handleUpdateBodyMerge(),(0,El.nextTick)().then(()=>{Lt(),O()}).then(()=>{er()}).then(()=>(v&&(o.endIndex=o.visibleSize),v&&(j.expandColumn&&"fixed"!==c.mode&&tl("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),z.height||z.maxHeight||tl("vxe.error.reqProp",["table.height | table.max-height | table.scroll-y={enabled: false}"]),z.spanMethod)&&tl("vxe.error.scrollErrProp",["table.span-method"]),(()=>{var e=z.treeConfig,{expandColumn:t,currentRow:r,selectRadioRow:l}=j,{fullDataRowIdData:o,fullAllDataRowIdData:a,radioReserveRow:n,selectCheckboxMaps:i,treeExpandedMaps:s,rowExpandedMaps:d}=U,c=oe.value,u=ae.value,p=k.value,h=ee.value;l&&!a[Ol(ne,l)]&&(j.selectRadioRow=null),p.reserve&&n&&o[l=Ol(ne,n)]&&Kt(o[l].row,!0),U.selectCheckboxMaps=wt(i),j.updateCheckboxFlag++,h.reserve&&g(yt(U.checkboxReserveRowMap),!0,!0),r&&!a[Ol(ne,r)]&&(j.currentRow=null),U.rowExpandedMaps=t?wt(d):{},j.rowExpandedFlag++,t&&c.reserve&&ne.setRowExpand(yt(U.rowExpandedReserveRowMap),!0),U.treeExpandedMaps=e?wt(s):{},j.treeExpandedFlag++,e&&u.reserve&&ne.setTreeExpand(yt(U.treeExpandedReserveRowMap),!0)})(),ne.checkSelectionStatus(),new Promise(o=>{(0,El.nextTick)().then(()=>rr(!1)).then(()=>(Bt(),A(),rr(!1))).then(()=>{let e=i,t=s;var r=R.value,l=D.value;r.scrollToLeftOnChange&&(e=0),l.scrollToTopOnChange&&(t=0),j.isRowLoading=!1,rr(!1),a===v?Kl(ne,e,t).then(()=>{o()}):setTimeout(()=>{Kl(ne,e,t).then(()=>{o()})})})})))},or=()=>{var e,t,r;(()=>{var e=z.checkboxConfig;if(e){let r=U.fullDataRowIdData;var{checkAll:e,checkRowKeys:l}=ee.value;if(e)Gt(!0,!0);else if(l){let t=[];l.forEach(e=>{r[e]&&t.push(r[e].row)}),g(t,!0,!0)}}})(),(r=z.radioConfig)&&(r=U.fullDataRowIdData,{checkRowKey:e,reserve:t}=k.value,e)&&(r[e]&&Kt(r[e].row,!0),t)&&(r=Fl(ne),U.radioReserveRow={[r]:e}),(()=>{var e=z.expandConfig;if(e){let r=U.fullDataRowIdData;var{expandAll:e,expandRowKeys:l}=oe.value;if(e)ne.setAllRowExpand(!0);else if(l){let t=[];l.forEach(e=>{r[e]&&t.push(r[e].row)}),ne.setRowExpand(t,!0)}}})(),(()=>{var e=z.treeConfig;if(e){let o=U.tableFullData;var e=ae.value,{expandAll:t,expandRowKeys:n}=e;let a=e.children||e.childrenField;if(t)ne.setAllTreeExpand(!0);else if(n){let r=[],l=Fl(ne);n.forEach(t=>{var e=bl().findTree(o,e=>t===bl().get(e,l),{children:a});e&&r.push(e.item)}),ne.setTreeExpand(r,!0)}}})(),(t=z.mergeCells)&&ne.setMergeCells(t),(r=z.mergeFooterItems)&&ne.setMergeFooterItems(r),(0,El.nextTick)(()=>setTimeout(()=>ne.recalculate()))},ar=()=>{(()=>{var t=z.sortConfig;if(t){var r=T.value;let e=r.defaultSort;e&&(e=bl().isArray(e)?e:[e]).length&&((t.multiple?e:e.slice(0,1)).forEach((e,t)=>{var{field:e,order:r}=e;e&&r&&(e=ne.getColumnByField(e))&&e.sortable&&(e.order=r,e.sortTime=Date.now()+t)}),r.remote||ne.handleTableData(!0).then(O))}})()},nr=()=>{var e=j.scrollXLoad;let{visibleColumn:t,scrollXStore:r,fullColumnIdData:l}=U;e=e?t.slice(r.startIndex,r.endIndex):t.slice(0);e.forEach((e,t)=>{e=e.id,e=l[e];e&&(e.$index=t)}),j.tableColumn=e},ir=()=>{var e=bl().orderBy(U.collectColumn,"renderSortNumber"),e=(U.collectColumn=e,dr(e));U.tableFullColumn=e,At()},sr=()=>{var e=j.isScrollXBig,{mergeBodyList:t,mergeFooterList:r,scrollXStore:l}=U,{preloadSize:o,startIndex:a,endIndex:n,offsetSize:i}=l,{toVisibleIndex:s,visibleSize:d}=Tt(),e={startIndex:Math.max(0,e?s-1:s-1-i-o),endIndex:e?s+d:s+d+i+o},{startIndex:i,endIndex:o}=(l.visibleStartIndex=s-1,l.visibleEndIndex=s+d+1,It(t.concat(r),e,"col"),e);!(s<=a||n-d-1<=s)||a===i&&n===o||(l.startIndex=i,l.endIndex=o,ne.updateScrollXData()),ne.closeTooltip()},dr=e=>{let t=[];return e.forEach(e=>{t.push(...e.children&&e.children.length?dr(e.children):[e])}),t},cr=e=>{let n=[],i=[],s=[];var{isGroup:t,columnStore:r}=j,l=R.value;let{collectColumn:o,tableFullColumn:a,scrollXStore:d,fullColumnIdData:c}=U;if(t){let t=[],r=[],l=[];bl().eachTree(o,(e,t,r,l,o)=>{var a=Nl(e);o&&o.fixed&&(e.fixed=o.fixed),o&&e.fixed!==o.fixed&&tl("vxe.error.groupFixed"),a?e.visible=!!bl().findTree(e.children,e=>!Nl(e)&&e.visible):e.visible&&("left"===e.fixed?n:"right"===e.fixed?s:i).push(e)}),o.forEach(e=>{e.visible&&("left"===e.fixed?t:"right"===e.fixed?l:r).push(e)}),j.tableGroupColumn=t.concat(r).concat(l)}else a.forEach(e=>{e.visible&&("left"===e.fixed?n:"right"===e.fixed?s:i).push(e)});let u=n.concat(i).concat(s);t=!!l.enabled&&-1<l.gt&&(0===l.gt||l.gt<a.length);return j.hasFixedColumn=0<n.length||0<s.length,Object.assign(r,{leftList:n,centerList:i,rightList:s}),t&&(z.spanMethod&&el("vxe.error.scrollErrProp",["span-method"]),z.footerSpanMethod&&el("vxe.error.scrollErrProp",["footer-span-method"]),e)&&(l=Tt().visibleSize,d.startIndex=0,d.endIndex=l,d.visibleSize=l,d.visibleStartIndex=0,d.visibleEndIndex=l),u.length===U.visibleColumn.length&&U.visibleColumn.every((e,t)=>e===u[t])||(ne.clearMergeCells(),ne.clearMergeFooterItems()),j.scrollXLoad=t,u.forEach((e,t)=>{e=e.id,e=c[e];e&&(e._index=t)}),U.visibleColumn=u,nr(),e?(br(),ne.updateFooter().then(()=>ne.recalculate()).then(()=>(ne.updateCellAreas(),ne.recalculate()))):ne.updateFooter()},ur=e=>{let l=oe.value;U.collectColumn=e;e=dr(e);return U.tableFullColumn=e,j.isColLoading=!0,j.isDragColMove=!1,U.collectColumn.forEach((e,t)=>{t+=1;e.sortNumber=t,e.renderSortNumber=t}),Promise.resolve((()=>{var e=z.customConfig,t=y.value,r=F.value,{storage:l,restoreStore:o}=r,a=!0===l,l=a?{}:Object.assign({},l||{}),n=a||l.resizable,i=a||l.visible,s=a||l.fixed,a=a||l.sort;if((e?Cl(r):r.enabled)&&(n||i||s||a)){if(t)return l=Ct(t),o?Promise.resolve(o({id:t,type:"restore",storeData:l})).then(e=>{if(e)return Ot(e)}).catch(e=>e):Ot(l);tl("vxe.error.reqProp",["id"])}})()).then(()=>{var{scrollXLoad:e,scrollYLoad:t,expandColumn:r}=j;return At(),cr(!0).then(()=>{j.scrollXLoad&&sr()}),ne.clearMergeCells(),ne.clearMergeFooterItems(),ne.handleTableData(!0),(e||t)&&r&&"fixed"!==l.mode&&el("vxe.error.scrollErrProp",["column.type=expand"]),(0,El.nextTick)().then(()=>(w&&w.syncUpdate({collectColumn:U.collectColumn,$table:ne}),ne.handleUpdateCustomColumn&&ne.handleUpdateCustomColumn(),j.isColLoading=!1,ne.recalculate()))})},pr=e=>{var t=z.treeConfig,r=D.value,l=ae.value.transform,e=e||U.tableFullData,l=(l||!t)&&!!r.enabled&&-1<r.gt&&(0===r.gt||r.gt<e.length);return j.scrollYLoad=l},hr=(e,t)=>{let r=j.treeNodeColumn,{fullAllDataRowIdData:l,tableFullData:o,treeExpandedMaps:a,treeExpandLazyLoadedMaps:n}=U;var i=ae.value;let{reserve:s,lazy:d,accordion:c,toggleMethod:u}=i,p=i.children||i.childrenField,h=i.hasChild||i.hasChildField,m=[],v=ne.getColumnIndex(r),g=ne.getVMColumnIndex(r),f=Al(ne).handleGetRowId,x=u?e.filter(e=>u({$table:ne,expanded:t,column:r,columnIndex:v,$columnIndex:g,row:e})):e;return c&&(x=x.length?[x[x.length-1]]:[],i=bl().findTree(o,e=>e===x[0],{children:p}))&&i.items.forEach(e=>{e=f(e);a[e]&&delete a[e]}),t?x.forEach(e=>{var t,r=f(e);a[r]||(t=l[r])&&(d&&e[h]&&!t.treeLoaded&&!n[r]?m.push(Yt(e)):e[p]&&e[p].length&&(a[r]=e))}):x.forEach(e=>{e=f(e);a[e]&&delete a[e]}),s&&x.forEach(e=>Zt(e,t)),j.treeExpandedFlag++,Promise.all(m).then(()=>ne.recalculate())},mr=(e,t)=>{Gt(t),e&&ie("checkbox-all",{records:()=>ne.getCheckboxRecords(),reserves:()=>ne.getCheckboxReserveRecords(),indeterminates:()=>ne.getCheckboxIndeterminateRecords(),checked:t},e)},vr=()=>{var{isAllOverflow:e,isScrollYBig:t}=j,{mergeBodyList:r,scrollYStore:l}=U,{preloadSize:o,startIndex:a,endIndex:n,offsetSize:i}=l,e=e?i:i+1,{toVisibleIndex:s,visibleSize:d}=St(),i={startIndex:Math.max(0,t?s-1:s-1-i-o),endIndex:t?s+d:s+d+e+o},{startIndex:t,endIndex:e}=(l.visibleStartIndex=s-1,l.visibleEndIndex=s+d+1,It(r,i,"row"),i);!(s<=a||n-d-1<=s)||a===t&&n===e||(l.startIndex=t,l.endIndex=e,ne.updateScrollYData())};n=r=>{let l=Al(ne).handleGetRowId;return function(e){var t=U.fullAllDataRowIdData;if(e){t=t[l(e)];if(t)return t[r]}return-1}},i=r=>function(e){var t=U.fullColumnIdData;if(e){t=t[e.id];if(t)return t[r]}return-1};let ie=(e,t,r)=>{l(e,pl(r,{$table:ne,$grid:G},t))},gr=()=>{var e=X.value;e&&e.clientWidth&&e.clientHeight&&W.recalculate()},fr=(e,t)=>{ne.analyColumnWidth(),ne.recalculate().then(()=>{ne.saveCustomStore("update:width"),ne.updateCellAreas(),ne.dispatchEvent("column-resizable-change",t,e),ne.dispatchEvent("resizable-change",t,e),setTimeout(()=>ne.recalculate(!0),300)})},xr=(e,t)=>{j.resizeHeightFlag++,ne.recalculate().then(()=>{ne.updateCellAreas(),ne.dispatchEvent("row-resizable-change",t,e),setTimeout(()=>ne.recalculate(!0),300)})},br=()=>{var{visibleColumn:r,fullColumnIdData:l}=U;let o=0;for(let e=0,t=r.length;e<t;e++){var a=r[e];l[a.id].oLeft=o,o+=a.renderWidth}},A=()=>{var r=j.expandColumn,{afterFullData:l,fullAllDataRowIdData:o,rowExpandedMaps:a}=U,n=oe.value,i=Z.value,s=M.value,d=E.value,c=Al(ne).handleGetRowId;let u=0;for(let e=0,t=l.length;e<t;e++){var p=c(l[e]),h=o[p]||{};h.oTop=u,u+=h.resizeHeight||s.height||i.height||h.height||d,r&&a[p]&&(u+=h.expandHeight||n.height||0)}},L=()=>{let{expandColumn:e,scrollYLoad:s,scrollYTop:d,isScrollYBig:c}=j;var t=oe.value;let u=Z.value,p=M.value,h=E.value;t=t.mode;if(e&&"fixed"===t){let{elemStore:e,fullAllDataRowIdData:n}=U;t=P.value;let i=Hl(e["main-body-scroll"]);if(t&&i){let a=!1;bl().arrayEach(t.children,t=>{var r=t.getAttribute("rowid")||"",l=n[r];if(l){var o=t.offsetHeight+1,r=i.querySelector(`.vxe-body--row[rowid="${r}"]`);let e=0;s?e=c&&r?r.offsetTop+r.offsetHeight:l.oTop+(l.resizeHeight||p.height||u.height||l.height||h):r&&(e=r.offsetTop+r.offsetHeight),c&&(e+=d),t.style.top=Wl(e),a||l.expandHeight!==o&&(a=!0),l.expandHeight=o}}),a&&(j.rowExpandHeightFlag++,(0,El.nextTick)(()=>{A()}))}}},Cr=()=>{var e=U.elemStore,t=P.value,e=Hl(e["main-body-scroll"]);t&&e&&(t.scrollTop=e.scrollTop)},wr=(W={dispatchEvent:ie,getEl(){return X.value},clearAll(){var e=ne,{props:t,internalData:r}=(e.clearFilter&&e.clearFilter(),e);return r.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()},syncData(){return tl("vxe.error.delFunc",["syncData","getData"]),(0,El.nextTick)().then(()=>(j.tableData=[],l("update:data",U.tableFullData),(0,El.nextTick)()))},updateData(){let{scrollXLoad:e,scrollYLoad:t}=j;return q.handleTableData(!0).then(()=>{if(W.updateFooter(),e||t)return e&&q.updateScrollXSpace(),t&&q.updateScrollYSpace(),W.refreshScroll()}).then(()=>(W.updateCellAreas(),W.recalculate(!0))).then(()=>{setTimeout(()=>ne.recalculate(),50)})},loadData(e){let t=U.initStatus;return lr(e,!1).then(()=>(U.inited=!0,U.initStatus=!0,t||or(),W.recalculate()))},reloadData(e){return W.clearAll().then(()=>(U.inited=!0,U.initStatus=!0,lr(e,!0))).then(()=>(or(),W.recalculate()))},setRow(t,o){if(t&&o){let e=t,l=(bl().isArray(t)||(e=[t]),Fl(ne));e.forEach(e=>{var t=Ol(ne,e),r=bl().clone(Object.assign({},o),!0);bl().set(r,l,t),Object.assign(e,r)})}return(0,El.nextTick)()},reloadRow(e,t,r){var l=z.keepSource,o=j.tableData,a=U.tableSourceData;return l?((l=a[W.getRowIndex(e)])&&e&&(r?(a=bl().clone(bl().get(t||e,r),!0),bl().set(e,r,a),bl().set(l,r,a)):(r=Fl(ne),a=Ol(ne,e),t=bl().clone(Object.assign({},t),!0),bl().set(t,r,a),bl().destructuring(l,Object.assign(e,t)))),j.tableData=o.slice(0)):el("vxe.error.reqProp",["keep-source"]),(0,El.nextTick)()},getParams(){return z.params},loadTreeChildren(l,e){let t=z.keepSource,{tableSourceData:o,fullDataRowIdData:i,fullAllDataRowIdData:s,sourceDataRowIdData:a}=U;var r=ae.value;let{transform:n,mapChildrenField:d}=r,c=r.children||r.childrenField,u=s[Ol(ne,l)],p=u?u.level:0;return W.createData(e).then(e=>{if(t){let t=Ol(ne,l);var r=bl().findTree(o,e=>t===Ol(ne,e),{children:c});r&&(r.item[c]=bl().clone(e,!0)),e.forEach(e=>{var t=Ol(ne,e);a[t]=bl().clone(e,!0)})}return bl().eachTree(e,(e,t,r,l,o,a)=>{var n=Ol(ne,e),e={row:e,rowid:n,seq:-1,index:t,_index:-1,$index:-1,treeIndex:-1,items:r,parent:o||u.row,level:p+a.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};i[n]=e,s[n]=e},{children:c}),l[c]=e,n&&(l[d]=bl().clone(e,!1)),zt(),e})},loadColumn(e){e=bl().mapTree(e,e=>(0,El.reactive)(to.createColumn(ne,e)));return ur(e)},reloadColumn(e){return W.clearAll().then(()=>W.loadColumn(e))},getRowNode(e){if(e){var t=U.fullAllDataRowIdData,e=e.getAttribute("rowid");if(e){t=t[e];if(t)return{rowid:t.rowid,item:t.row,index:t.index,items:t.items,parent:t.parent}}}return null},getColumnNode(e){if(e){var t=U.fullColumnIdData,e=e.getAttribute("colid");if(e){t=t[e];if(t)return{colid:t.colid,item:t.column,index:t.index,items:t.items,parent:t.parent}}}return null},getRowSeq:n("seq"),getRowIndex:n("index"),getVTRowIndex:n("_index"),getVMRowIndex:n("$index"),getColumnIndex:i("index"),getVTColumnIndex:i("_index"),getVMColumnIndex:i("$index"),createData(e){return(0,El.nextTick)().then(()=>(0,El.reactive)(q.defineField(e)))},createRow(e){let t=bl().isArray(e);return t||(e=[e||{}]),W.createData(e).then(e=>t?e:e[0])},revertData(e,l){var{keepSource:t,treeConfig:r}=z;let{fullAllDataRowIdData:o,fullDataRowIdData:a,tableSourceData:n,sourceDataRowIdData:i,tableFullData:s,afterFullData:d,removeRowMaps:c}=U;var u=ae.value.transform;let p=Al(ne).handleGetRowId;if(!t)return tl("vxe.error.reqProp",["keep-source"]),(0,El.nextTick)();let h=e,m=(e?bl().isArray(e)||(h=[e]):h=bl().toArray(ne.getUpdateRecords()),!1);return h.length&&h.forEach(e=>{var t,e=p(e),r=o[e];r&&(r=r.row,ne.isInsertByRow(r)||(t=i[e])&&r&&(l?bl().set(r,l,bl().clone(bl().get(t,l),!0)):bl().destructuring(r,bl().clone(t,!0)),!a[e])&&ne.isRemoveByRow(r)&&(c[e]&&delete c[e],s.unshift(r),d.unshift(r),m=!0))}),e?(m&&(j.removeRowFlag++,ne.updateFooter(),ne.cacheRowMap(!1),ne.handleTableData(r&&u),r&&u||ne.updateAfterDataIndex(),ne.checkSelectionStatus(),j.scrollYLoad)&&ne.updateScrollYSpace(),(0,El.nextTick)().then(()=>(ne.updateCellAreas(),ne.recalculate()))):ne.reloadData(n)},clearData(e,t){let{tableFullData:r,visibleColumn:l}=U;return arguments.length?e&&!bl().isArray(e)&&(e=[e]):e=r,t?e.forEach(e=>bl().set(e,t,null)):e.forEach(t=>{l.forEach(e=>{e.field&&Vl(t,e,null)})}),(0,El.nextTick)()},getCellElement(e,t){var r=U.elemStore,t=rl(ne,t);if(!t)return null;var e=Ol(ne,e),l=Hl(r["main-body-scroll"]),o=Hl(r["left-body-scroll"]),r=Hl(r["right-body-scroll"]);let a;return t&&(t.fixed&&("left"===t.fixed?o&&(a=o):r&&(a=r)),a=a||l)?a.querySelector(`.vxe-body--row[rowid="${e}"] .`+t.id):null},getCellLabel(t,r){r=rl(ne,r);if(!r)return null;var l=r.formatter,o=Ll(t,r);let a=o;if(l){let e;var n=U.fullAllDataRowIdData,i=Ol(ne,t),s=r.id,d=n[i];if(d&&(e=(e=d.formatData)||(n[i].formatData={}),d)&&e[s]&&e[s].value===o)return e[s].label;n={cellValue:o,row:t,rowIndex:W.getRowIndex(t),column:r,columnIndex:W.getColumnIndex(r)};a=bl().isString(l)?(d=(i=ul.get(l))?i.tableCellFormatMethod||i.cellFormatMethod:null)?d(n):"":bl().isArray(l)?(r=(t=ul.get(l[0]))?t.tableCellFormatMethod||t.cellFormatMethod:null)?r(n,...l.slice(1)):"":l(n),e&&(e[s]={value:o,label:a})}return a},isInsertByRow(e){e=Ol(ne,e);return!!j.insertRowFlag&&!!U.insertRowMaps[e]},isRemoveByRow(e){e=Ol(ne,e);return!!j.removeRowFlag&&!!U.removeRowMaps[e]},removeInsertRow(){return U.insertRowMaps={},ne.remove(ne.getInsertRecords())},isUpdateByRow(e,t){var r=z.keepSource,{tableFullColumn:l,fullDataRowIdData:o,sourceDataRowIdData:a}=U;if(r){r=bl().isString(e)||bl().isNumber(e)?e:Ol(ne,e),e=o[r];if(!e)return!1;var n=e.row,i=a[r];if(i){if(1<arguments.length)return!xt(i,n,t);for(let e=0,t=l.length;e<t;e++){var s=l[e].field;if(s&&!xt(i,n,s))return!0}}}return!1},getColumns(e){var t=U.visibleColumn;return bl().isUndefined(e)?t.slice(0):t[e]},getColid(e){e=rl(ne,e);return e?e.id:null},getColumnById(e){var t=U.fullColumnIdData;return e&&t[e]?t[e].column:null},getColumnByField(e){var t=U.fullColumnFieldData;return e&&t[e]?t[e].column:null},getParentColumn(e){var t=U.fullColumnIdData,e=rl(ne,e);return e&&e.parentId&&t[e.parentId]?t[e.parentId].column:null},getTableColumn(){return{collectColumn:U.collectColumn.slice(0),fullColumn:U.tableFullColumn.slice(0),visibleColumn:U.visibleColumn.slice(0),tableColumn:j.tableColumn.slice(0)}},moveColumnTo(e,r,t){var{fullColumnIdData:l,visibleColumn:o}=U,{dragToChild:t,dragPos:a,isCrossDrag:n}=Object.assign({},t),e=rl(ne,e);let i=null;var s=e?l[e.id]:null;let d="left";if(bl().isNumber(r)){if(s&&r){let e=s.items,t=s._index+r;n&&(e=o,t=s._index+r),0<t&&t<e.length-1&&(i=e[t]),0<r&&(d="right")}}else{n=(i=rl(ne,r))?l[i.id]:null;s&&n&&n._index>s._index&&(d="right")}return ne.handleColDragSwapEvent(null,!0,e,i,a||d,!0===t)},moveRowTo(e,r,t){var l=z.treeConfig,{fullAllDataRowIdData:o,afterFullData:a}=U,{dragToChild:t,dragPos:n,isCrossDrag:i}=Object.assign({},t),s=ae.value,e=sl(ne,e);let d=null,c="top";var u=e?o[Ol(ne,e)]:null;if(bl().isNumber(r)){if(u&&r){let e=a,t=u._index+r;l&&(e=u.items,s.transform)&&(t=u.treeIndex+r,i)&&(e=a,t=u._index+r),0<=t&&t<=e.length-1&&(d=e[t]),0<r&&(c="bottom")}}else{l=(d=sl(ne,r))?o[Ol(ne,d)]:null;u&&l&&l._index>u._index&&(c="bottom")}return ne.handleRowDragSwapEvent(null,!0,e,d,n||c,!0===t)},getFullColumns(){var e=U.collectColumn;return e.slice(0)},getData(e){var t=z.data||U.tableSynchData;return bl().isUndefined(e)?t.slice(0):t[e]},getCheckboxRecords(r){var e=z.treeConfig,t=j.updateCheckboxFlag;let{tableFullData:l,afterFullData:o,afterTreeFullData:a,tableFullTreeData:n,fullDataRowIdData:i,afterFullRowMaps:s,selectCheckboxMaps:d}=U;var c=ae.value,{transform:u,mapChildrenField:p}=c;let h=ee.value.checkField;c=c.children||c.childrenField;let m=[];return t&&(h?m=e?(t=r?u?n:l:u?a:o,bl().filterTree(t,e=>bl().get(e,h),{children:u?p:c})):(r?l:o).filter(e=>bl().get(e,h)):bl().each(d,(e,t)=>{r?i[t]&&m.push(i[t].row):s[t]&&m.push(s[t])})),m},getTreeRowChildren(t){var r=z.treeConfig,l=U.fullAllDataRowIdData,o=ae.value,{transform:a,mapChildrenField:n}=o,o=o.children||o.childrenField;if(t&&r){let e;if(e=bl().isString(t)?t:Ol(ne,t)){r=l[e],t=r?r.row:null;if(t)return t[a?n:o]||[]}}return[]},getTreeParentRow(t){var r=z.treeConfig,l=U.fullAllDataRowIdData;if(t&&r){let e;if(e=bl().isString(t)?t:Ol(ne,t))return(r=l[e])?r.parent:null}return null},getParentRow(e){return el("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),ne.getTreeParentRow(e)},getRowById(e){var t=U.fullAllDataRowIdData,e=bl().eqNull(e)?"":encodeURIComponent(e||"");return t[e]?t[e].row:null},getRowid(e){return Ol(ne,e)},getTableData(){var{tableData:e,footerTableData:t}=j,{tableFullData:r,afterFullData:l,tableFullTreeData:o}=U;return{fullData:(z.treeConfig?o:r).slice(0),visibleData:l.slice(0),tableData:e.slice(0),footerData:t.slice(0)}},getFullData(){var e,t,r,l,o=z.treeConfig,{tableFullData:a,tableFullTreeData:n}=U;return o?({transform:e,mapChildrenField:t,rowField:r,parentField:l}=o=ae.value,o=o.children||o.childrenField,e?bl().toArrayTree(bl().toTreeArray(n,{children:t}),{key:r,parentKey:l,children:o,mapChildren:t}):n.slice(0)):a.slice(0)},setColumnFixed(e,t){let r=!1;var l=bl().isArray(e)?e:[e],o=Y.value,a=pt.value;for(let e=0;e<l.length;e++){var n=l[e],n=rl(ne,n),n=Ql(ne,n);if(n&&n.fixed!==t){if(!n.fixed&&a)return xl.VxeUI.modal&&xl.VxeUI.modal.message({status:"error",content:ol("vxe.table.maxFixedCol",[o.maxFixedSize])}),(0,El.nextTick)();bl().eachTree([n],e=>{e.fixed=t}),q.saveCustomStore("update:fixed"),r=r||!0}}return r?W.refreshColumn():(0,El.nextTick)()},clearColumnFixed(e){let t=!1;return(bl().isArray(e)?e:[e]).forEach(e=>{e=rl(ne,e),e=Ql(ne,e);e&&e.fixed&&(bl().eachTree([e],e=>{e.fixed=null}),q.saveCustomStore("update:fixed"),t=t||!0)}),t?W.refreshColumn():(0,El.nextTick)()},hideColumn(e){let t=!1;return(bl().isArray(e)?e:[e]).forEach(e=>{e=rl(ne,e);e&&e.visible&&(e.visible=!1,t=t||!0)}),t?q.handleCustom():(0,El.nextTick)()},showColumn(e){let t=!1;return(bl().isArray(e)?e:[e]).forEach(e=>{e=rl(ne,e);e&&!e.visible&&(e.visible=!0,t=t||!0)}),t?q.handleCustom():(0,El.nextTick)()},setColumnWidth(e,t){var r=U.elemStore;let l=!1;e=bl().isArray(e)?e:[e];let o=bl().toInteger(t);return Ul(t)&&(r=(t=Hl(r["main-body-scroll"]))?t.clientWidth-1:0,o=Math.floor(o*r)),(o&&(e.forEach(e=>{e=rl(ne,e);e&&(e.resizeWidth=o,l=l||!0)}),l)?ne.refreshColumn():(0,El.nextTick)()).then(()=>({status:l}))},getColumnWidth(e){e=rl(ne,e);return e?e.renderWidth:0},resetColumn(e){return el("vxe.error.delFunc",["resetColumn","resetCustom"]),ne.resetCustom(e)},refreshColumn(e){return e&&ir(),cr(!0).then(()=>W.refreshScroll()).then(()=>W.recalculate())},setRowHeightConf(e){let r=U.fullAllDataRowIdData,l=!1;return e&&(bl().each(e,(e,t)=>{t=r[t];t&&(e=bl().toInteger(e))&&(t.resizeHeight=e,l=l||!0)}),l)&&(U.isResizeCellHeight=!0,j.resizeHeightFlag++),(0,El.nextTick)().then(()=>(A(),{status:l}))},getRowHeightConf(l){let{fullAllDataRowIdData:o,afterFullData:e}=U,a=Al(ne).handleGetRowId,n=Z.value,i=M.value,s=E.value,d={};return e.forEach(e=>{var t,e=a(e),r=o[e];r&&((t=r.resizeHeight)||l)&&(t=t||i.height||n.height||r.height||s,d[e]=t)}),d},setRowHeight(e,t){let r=U.fullAllDataRowIdData,l=!1;e=bl().isArray(e)?e:[e];let o=bl().toInteger(t);if(Ul(t)&&(t=(t=(t=b.value)?t.$el:null)?t.clientHeight-1:0,o=Math.floor(o*t)),o){let t=Al(ne).handleGetRowId;e.forEach(e=>{e=bl().isString(e)||bl().isNumber(e)?e:t(e),e=r[e];e&&(e.resizeHeight=o,l=l||!0)}),l&&(U.isResizeCellHeight=!0,j.resizeHeightFlag++)}return(0,El.nextTick)().then(()=>({status:l}))},getRowHeight(e){var t=U.fullAllDataRowIdData,r=Z.value,l=M.value,o=E.value,t=t[bl().isString(e)||bl().isNumber(e)?e:Ol(ne,e)];return t?t.resizeHeight||l.height||r.height||t.height||o:0},refreshScroll(){let{elemStore:e,lastScrollLeft:t,lastScrollTop:r}=U,l=Hl(e["main-header-scroll"]),o=Hl(e["main-body-scroll"]),a=Hl(e["main-footer-scroll"]),n=Hl(e["left-body-scroll"]),i=Hl(e["right-body-scroll"]),s=S.value,d=I.value;return new Promise(e=>{if(t||r)return Kl(ne,t,r).then().then(()=>{setTimeout(e,10)});U.intoRunScroll=!0,Dl(d,r),Dl(o,r),Dl(n,r),Dl(i,r),Ml(s,t),Ml(o,t),Ml(l,t),Ml(a,t),setTimeout(()=>{U.intoRunScroll=!1,e()},10)})},recalculate(a){return new Promise(e=>{var{rceTimeout:t,rceRunTime:r}=U,l=s.value.refreshDelay||20,o=X.value;o&&o.clientWidth&&($t(),L()),!t||(clearTimeout(t),r&&r+(l-5)<Date.now())?e(rr(!!a)):(0,El.nextTick)(()=>{e()}),U.rceTimeout=setTimeout(()=>{U.rceTimeout=void 0,rr(!!a)},l)})},openTooltip(e,t){var r=ve.value;return r&&r.open?r.open(e,t):(0,El.nextTick)()},closeTooltip(){var e=j.tooltipStore,t=K.value,r=ve.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1,currOpts:{}}),t)&&t.close&&t.close(),r&&r.close&&r.close(),(0,El.nextTick)()},isAllCheckboxChecked(){return j.isAllSelected},isAllCheckboxIndeterminate(){return!j.isAllSelected&&j.isIndeterminate},getCheckboxIndeterminateRecords(e){var t=z.treeConfig;let{fullDataRowIdData:o,treeIndeterminateRowMaps:a}=U;if(t){let r=[],l=[];return bl().each(a,(e,t)=>{e&&(r.push(e),o[t])&&l.push(e)}),e?r:l}return[]},setCheckboxRow(e,t){return e&&!bl().isArray(e)&&(e=[e]),g(e,t,!0)},setCheckboxRowKey(e,t){let r=U.fullAllDataRowIdData,l=(bl().isArray(e)||(e=[e]),[]);return e.forEach(e=>{e=r[e];e&&l.push(e.row)}),g(l,t,!0)},isCheckedByCheckboxRow(e){var t=j.updateCheckboxFlag,r=U.selectCheckboxMaps,l=ee.value.checkField;return l?bl().get(e,l):!!t&&!!r[Ol(ne,e)]},isCheckedByCheckboxRowKey(e){var t=j.updateCheckboxFlag,{fullAllDataRowIdData:r,selectCheckboxMaps:l}=U,o=ee.value.checkField;return o?!!(r=r[e])&&bl().get(r.row,o):!!t&&!!l[e]},isIndeterminateByCheckboxRow(e){var t=U.treeIndeterminateRowMaps;return!!t[Ol(ne,e)]&&!ne.isCheckedByCheckboxRow(e)},isIndeterminateByCheckboxRowKey(e){var t=U.treeIndeterminateRowMaps;return!!t[e]&&!ne.isCheckedByCheckboxRowKey(e)},toggleCheckboxRow(e){var t=U.selectCheckboxMaps,r=ee.value.checkField,r=r?!bl().get(e,r):!t[Ol(ne,e)];return q.handleBatchSelectRows([e],r,!0),q.checkSelectionStatus(),(0,El.nextTick)()},setAllCheckboxRow(e){return Gt(e,!0)},getRadioReserveRecord(e){var l=z.treeConfig,{fullDataRowIdData:t,radioReserveRow:o,afterFullData:a}=U,r=k.value,n=ae.value,n=n.children||n.childrenField;if(r.reserve&&o){let r=Ol(ne,o);if(e){if(!t[r])return o}else{let t=Fl(ne);if(l){if(bl().findTree(a,e=>r===bl().get(e,t),{children:n}))return o}else if(!a.some(e=>r===bl().get(e,t)))return o}}return null},clearRadioReserve(){return(U.radioReserveRow=null,El.nextTick)()},getCheckboxReserveRecords(l){var e=z.treeConfig;let{afterFullData:o,fullDataRowIdData:a,checkboxReserveRowMap:n}=U;var t=ee.value,i=ae.value,i=i.children||i.childrenField;let s=[];if(t.reserve){let t=Al(ne).handleGetRowId,r={};e?bl().eachTree(o,e=>{r[t(e)]=1},{children:i}):o.forEach(e=>{r[t(e)]=1}),bl().each(n,(e,t)=>{e&&(l?a[t]||s.push(e):r[t]||s.push(e))})}return s},clearCheckboxReserve(){return U.checkboxReserveRowMap={},(0,El.nextTick)()},toggleAllCheckboxRow(){return mr(null,!j.isAllSelected),(0,El.nextTick)()},clearCheckboxRow(){let t=z.treeConfig;var e=U.tableFullData,r=ae.value,r=r.children||r.childrenField,l=ee.value;let{checkField:o,reserve:a}=l,n=l.indeterminateField||l.halfField;return o&&(l=e=>{t&&n&&bl().set(e,n,!1),bl().set(e,o,!1)},t?bl().eachTree(e,l,{children:r}):e.forEach(l)),a&&e.forEach(e=>Xt(e,!1)),j.isAllSelected=!1,j.isIndeterminate=!1,U.selectCheckboxMaps={},U.treeIndeterminateRowMaps={},j.updateCheckboxFlag++,(0,El.nextTick)()},setCurrentRow(e){var t=Z.value,r=X.value;return W.clearCurrentRow(),j.currentRow=e,(t.isCurrent||z.highlightCurrentRow)&&r&&bl().arrayEach(r.querySelectorAll(`[rowid="${Ol(ne,e)}"]`),e=>Il(e,"row--current")),(0,El.nextTick)()},isCheckedByRadioRow(e){var t=j.selectRadioRow;return!(!e||!t)&&ne.eqRow(t,e)},isCheckedByRadioRowKey(e){var t=j.selectRadioRow;return!!t&&e===Ol(ne,t)},setRadioRow(e){return Kt(e,!0)},setRadioRowKey(e){var t=U.fullAllDataRowIdData,t=t[e];return t?Kt(t.row,!0):(0,El.nextTick)()},clearCurrentRow(){var e=X.value;return j.currentRow=null,U.hoverRow=null,e&&bl().arrayEach(e.querySelectorAll(".row--current"),e=>Sl(e,"row--current")),(0,El.nextTick)()},clearRadioRow(){return(j.selectRadioRow=null,El.nextTick)()},getCurrentRecord(){return Z.value.isCurrent||z.highlightCurrentRow?j.currentRow:null},getRadioRecord(e){var{fullDataRowIdData:t,afterFullRowMaps:r}=U,l=j.selectRadioRow;if(l){var o=Ol(ne,l);if(e){if(t[o])return l}else if(r[o])return l}return null},getCurrentColumn(){return Y.value.isCurrent||z.highlightCurrentColumn?j.currentColumn:null},setCurrentColumn(e){var t=z.mouseConfig,r=re.value;let l=t&&r.selected;t=rl(ne,e);return t&&(ne.clearCurrentColumn(),j.currentColumn=t),(0,El.nextTick)().then(()=>{l&&ne.addCellSelectedClass()})},clearCurrentColumn(){return(j.currentColumn=null,El.nextTick)()},setPendingRow(e,t){let r=Al(ne).handleGetRowId,l=U.pendingRowMaps;return e&&!bl().isArray(e)&&(e=[e]),t?e.forEach(e=>{var t=r(e);t&&!l[t]&&(l[t]=e)}):e.forEach(e=>{e=r(e);e&&l[e]&&delete l[e]}),j.pendingRowFlag++,(0,El.nextTick)()},togglePendingRow(e){let r=Al(ne).handleGetRowId,l=U.pendingRowMaps;return(e=e&&!bl().isArray(e)?[e]:e).forEach(e=>{var t=r(e);t&&(l[t]?delete l[t]:l[t]=e)}),j.pendingRowFlag++,(0,El.nextTick)()},hasPendingByRow(e){return W.isPendingByRow(e)},isPendingByRow(e){var t=U.pendingRowMaps;return!!t[Ol(ne,e)]},getPendingRecords(){let{fullAllDataRowIdData:r,pendingRowMaps:e}=U,l=[];return bl().each(e,(e,t)=>{r[t]&&l.push(e)}),l},clearPendingRow(){return U.pendingRowMaps={},j.pendingRowFlag++,(0,El.nextTick)()},sort(e,t){let{multiple:r,remote:l,orders:a}=T.value;return e&&bl().isString(e)&&(e=[{field:e,order:t}]),(e=bl().isArray(e)?e:[e]).length?(r||kt(),(r?e:[e[0]]).forEach((e,t)=>{let{field:r,order:l}=e,o=r;(o=bl().isString(r)?W.getColumnByField(r):o)&&o.sortable&&(-1===a.indexOf(l)&&(l=bt(o)),o.order!==l&&(o.order=l),o.sortTime=Date.now()+t)}),l||q.handleTableData(!0),(0,El.nextTick)().then(()=>(W.updateCellAreas(),O()))):(0,El.nextTick)()},setSort(e,t){let{multiple:r,remote:l,orders:n}=T.value;if((e=bl().isArray(e)?e:[e])&&e.length){r||(e=[e[0]],kt());let a=null;return e.forEach((e,t)=>{let{field:r,order:l}=e,o=r;bl().isString(r)&&(o=W.getColumnByField(r)),a=a||o,o&&o.sortable&&(-1===n.indexOf(l)&&(l=bt(o)),o.order!==l&&(o.order=l),o.sortTime=Date.now()+t)}),t&&(l||q.handleTableData(!0),ne.handleColumnSortEvent(new Event("click"),a)),(0,El.nextTick)().then(()=>(W.updateCellAreas(),O()))}return(0,El.nextTick)()},clearSort(e){var t=T.value;return e?(e=rl(ne,e))&&(e.order=null):kt(),t.remote||q.handleTableData(!0),(0,El.nextTick)().then(O)},isSort(e){return e?!!(e=rl(ne,e))&&e.sortable&&!!e.order:0<W.getSortColumns().length},getSortColumns(){var{multiple:e,chronological:t}=T.value;let l=[];var r=U.tableFullColumn;return r.forEach(e=>{var{field:t,order:r}=e;e.sortable&&r&&l.push({column:e,field:t,property:t,order:r,sortTime:e.sortTime})}),e&&t&&1<l.length?bl().orderBy(l,"sortTime"):l},closeFilter(){var e=j.filterStore,{column:t,visible:r}=e;return e.isAllSelected=!1,e.isIndeterminate=!1,e.options=[],e.visible=!1,r&&ie("filter-visible",{column:t,property:t.field,field:t.field,filterList:()=>ne.getCheckedFilters(),visible:!1},null),(0,El.nextTick)()},isActiveFilterByColumn(e){e=rl(ne,e);return e?e.filters&&e.filters.some(e=>e.checked):0<ne.getCheckedFilters().length},isFilter(e){return W.isActiveFilterByColumn(e)},isRowExpandLoaded(e){var t=U.fullAllDataRowIdData,t=t[Ol(ne,e)];return t&&!!t.expandLoaded},clearRowExpandLoaded(e){var{fullAllDataRowIdData:t,rowExpandLazyLoadedMaps:r}=U,l=oe.value.lazy,e=Ol(ne,e),t=t[e];return l&&t&&(t.expandLoaded=!1,delete r[e]),j.rowExpandedFlag++,(0,El.nextTick)()},reloadRowExpand(e){var t=U.rowExpandLazyLoadedMaps,r=oe.value.lazy,l=Ol(ne,e);return r&&!t[l]&&ne.clearRowExpandLoaded(e).then(()=>Qt(e)),(0,El.nextTick)()},reloadExpandContent(e){return el("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),ne.reloadRowExpand(e)},toggleRowExpand(e){return ne.setRowExpand(e,!ne.isRowExpandByRow(e))},setAllRowExpand(e){var t=ae.value,{tableFullData:r,tableFullTreeData:l}=U,t=t.children||t.childrenField;let o=[];return z.treeConfig?bl().eachTree(l,e=>{o.push(e)},{children:t}):o=r,W.setRowExpand(o,e)},setRowExpand(e,t){let r=j.expandColumn,{fullAllDataRowIdData:l,rowExpandedMaps:o,rowExpandLazyLoadedMaps:a}=U,n=Al(ne).handleGetRowId;let{reserve:i,lazy:s,accordion:d,toggleMethod:c}=oe.value,u=[],p=ne.getColumnIndex(r),h=ne.getVMColumnIndex(r);return e&&(bl().isArray(e)||(e=[e]),d&&(o={},U.rowExpandedMaps=o,e=e.slice(e.length-1,e.length)),e=c?e.filter(e=>c({$table:ne,expanded:t,column:r,columnIndex:p,$columnIndex:h,row:e,rowIndex:ne.getRowIndex(e),$rowIndex:ne.getVMRowIndex(e)})):e,t?e.forEach(e=>{var t,r=n(e);o[r]||(t=l[r],s&&!t.expandLoaded&&!a[r]?u.push(Qt(e)):o[r]=e)}):e.forEach(e=>{e=n(e);o[e]&&delete o[e]}),i)&&e.forEach(e=>Jt(e,t)),j.rowExpandedFlag++,Promise.all(u).then(()=>(0,El.nextTick)()).then(()=>ne.recalculate(!0)).then(()=>(A(),L(),Cr(),ne.updateCellAreas()))},isRowExpandByRow(e){var t=j.rowExpandedFlag,r=U.rowExpandedMaps,e=Ol(ne,e);return!!t&&!!r[e]},isExpandByRow(e){return el("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),W.isRowExpandByRow(e)},clearRowExpand(){var e=U.tableFullData,t=oe.value.reserve;let r=ne.getRowExpandRecords();return U.rowExpandedMaps={},j.rowExpandedFlag++,t&&e.forEach(e=>Jt(e,!1)),(0,El.nextTick)().then(()=>{if(r.length)return ne.recalculate(!0)}).then(()=>(A(),L(),Cr(),ne.updateCellAreas()))},clearRowExpandReserve(){return U.rowExpandedReserveRowMap={},(0,El.nextTick)()},getRowExpandRecords(){let t=[];return bl().each(U.rowExpandedMaps,e=>{e&&t.push(e)}),t},getTreeExpandRecords(){let t=[];return bl().each(U.treeExpandedMaps,e=>{e&&t.push(e)}),t},isTreeExpandLoaded(e){var t=U.fullAllDataRowIdData,t=t[Ol(ne,e)];return t&&!!t.treeLoaded},clearTreeExpandLoaded(e){let{fullAllDataRowIdData:r,treeExpandedMaps:l}=U;var t=ae.value.transform;return e?(e=bl().isArray(e)?e:[e]).forEach(e=>{var e=Ol(ne,e),t=r[e];t&&(t.treeLoaded=!1,l[e])&&delete l[e]}):bl().each(r,e=>{e.treeLoaded=!1}),U.treeExpandedMaps={},j.treeExpandedFlag++,t?(jt(),ne.handleTableData()):(0,El.nextTick)()},reloadTreeExpand(e){var t=U.treeExpandLazyLoadedMaps,r=ae.value,l=r.hasChild||r.hasChildField;let{transform:o,lazy:a}=r;r=Ol(ne,e);return a&&e[l]&&!t[r]?W.clearTreeExpandLoaded(e).then(()=>Yt(e)).then(()=>{if(o)return jt(),q.handleTableData()}).then(()=>W.recalculate()):(0,El.nextTick)()},reloadTreeChilds(e){return el("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),W.reloadTreeExpand(e)},toggleTreeExpand(e){return W.setTreeExpand(e,!W.isTreeExpandByRow(e))},setAllTreeExpand(e){var t=U.tableFullData,r=ae.value;let{transform:l,lazy:o}=r,a=r.children||r.childrenField,n=[];return bl().eachTree(t,e=>{var t=e[a];(o||t&&t.length)&&n.push(e)},{children:a}),W.setTreeExpand(n,e).then(()=>{if(l)return jt(),W.recalculate()})},setTreeExpand(e,t){var r,l=ae.value.transform;return e&&(e=bl().isArray(e)?e:[e]).length?l?(l=e,r=t,hr(l,r).then(()=>(jt(),ne.handleTableData(),zt(),(0,El.nextTick)())).then(()=>ne.recalculate(!0)).then(()=>{setTimeout(()=>{ne.updateCellAreas()},30)})):hr(e,t):(0,El.nextTick)()},isTreeExpandByRow(e){var t=j.treeExpandedFlag,r=U.treeExpandedMaps;return!!t&&!!r[Ol(ne,e)]},clearTreeExpand(){var e=U.tableFullTreeData,t=ae.value,r=t.children||t.childrenField;let{transform:l,reserve:o}=t,a=ne.getTreeExpandRecords();return U.treeExpandedMaps={},j.treeExpandedFlag++,o&&bl().eachTree(e,e=>Zt(e,!1),{children:r}),ne.handleTableData().then(()=>{if(l)return jt(),ne.handleTableData()}).then(()=>{if(a.length)return ne.recalculate()})},clearTreeExpandReserve(){return U.treeExpandedReserveRowMap={},(0,El.nextTick)()},getScroll(){var{scrollXLoad:e,scrollYLoad:t}=j,r=U.elemStore,r=Hl(r["main-body-scroll"]);return{virtualX:e,virtualY:t,scrollTop:r?r.scrollTop:0,scrollLeft:r?r.scrollLeft:0}},scrollTo(e,t){var r=U.elemStore,l=Hl(r["main-header-scroll"]),o=Hl(r["main-body-scroll"]),a=Hl(r["main-footer-scroll"]),n=Hl(r["left-body-scroll"]),r=Hl(r["right-body-scroll"]),i=S.value,s=I.value;return U.intoRunScroll=!0,bl().isNumber(e)&&(Ml(i,e),Ml(o,e),Ml(l,e),Ml(a,e)),bl().isNumber(t)&&(Dl(s,t),Dl(o,t),Dl(n,t),Dl(r,t)),j.scrollXLoad||j.scrollYLoad?new Promise(e=>{setTimeout(()=>{(0,El.nextTick)(()=>{U.intoRunScroll=!1,e()})},30)}):(0,El.nextTick)()},scrollToRow(e,t){let{isAllOverflow:r,scrollYLoad:l,scrollXLoad:o}=j;var a,n,i=[];return e&&(z.treeConfig?i.push(q.scrollToTreeRow(e)):i.push(Jl(ne,e))),t&&i.push((t=t,a=e,n=U.fullColumnIdData,(t=rl(ne,t))&&n[t.id]?eo(ne,t,a):(0,El.nextTick)())),Promise.all(i).then(()=>{if(e)return r||!l&&!o||(Bt(),Ht()),(0,El.nextTick)()})},scrollToColumn(e){var t=U.fullColumnIdData,e=rl(ne,e);return e&&t[e.id]?eo(ne,e):(0,El.nextTick)()},clearScroll(){var{elemStore:e,scrollXStore:t,scrollYStore:r}=U,l=Hl(e["main-header-scroll"]),o=Hl(e["main-body-scroll"]),a=Hl(e["main-footer-scroll"]),n=Hl(e["left-body-scroll"]),e=Hl(e["right-body-scroll"]),i=S.value,s=I.value;return U.intoRunScroll=!0,Ml(i,0),Ml(o,0),Ml(l,0),Ml(a,0),Dl(s,0),Dl(o,0),Dl(n,0),Dl(e,0),t.startIndex=0,t.visibleStartIndex=0,t.endIndex=t.visibleSize,t.visibleEndIndex=t.visibleSize,r.startIndex=0,r.visibleStartIndex=0,r.endIndex=r.visibleSize,r.visibleEndIndex=r.visibleSize,(0,El.nextTick)().then(()=>{U.intoRunScroll=!1})},updateFooter(){var{showFooter:e,footerData:t,footerMethod:r}=z,{visibleColumn:l,afterFullData:o}=U;let a=[];return e&&t&&t.length?a=t.slice(0):e&&r&&(a=l.length?r({columns:l,data:o,$table:ne,$grid:G}):[]),j.footerTableData=a,ne.handleUpdateFooterMerge(),(0,El.nextTick)()},updateStatus(t,r){return(0,El.nextTick)().then(()=>{var e=z.editRules;if(t&&e)return ne.handleCellRuleUpdateStatus("change",t,r)})},setMergeCells(e){return z.spanMethod&&tl("vxe.error.errConflicts",["merge-cells","span-method"]),(t=>{let{fullAllDataRowIdData:i,fullColumnIdData:s,visibleColumn:d,afterFullData:c,mergeBodyList:u,mergeBodyMaps:p}=U;if(t){let e=Al(ne).handleGetRowId;(t=bl().isArray(t)?t:[t]).forEach(t=>{var{row:t,col:r,rowspan:l,colspan:o}=t;let a=-1,n=-1;if(bl().isNumber(t)?a=t:(t=(t=t?e(t):null)?i[t]:null)&&(a=t._index),bl().isNumber(r)?n=r:(r=(t=r?r.id:null)?s[t]:null)&&(n=r._index),-1<a&&-1<n&&(l||o)&&(l=bl().toNumber(l)||1,o=bl().toNumber(o)||1,1<l||1<o)){t=c[a],r=d[n];let e=p[a+":"+n];e?(e.rowspan=l,e.colspan=o,e._rowspan=l,e._colspan=o):(e={row:a,col:n,rowspan:l,colspan:o,_row:t,_col:r,_rowspan:l,_colspan:o},p[a+":"+n]=e,u.push(e))}})}})(e),ne.handleUpdateBodyMerge(),(0,El.nextTick)().then(()=>(ne.updateCellAreas(),O()))},removeMergeCells(e){z.spanMethod&&tl("vxe.error.errConflicts",["merge-cells","span-method"]);let t=Mt(e,U.mergeBodyList,U.afterFullData);return(0,El.nextTick)().then(()=>(ne.updateCellAreas(),O(),t))},getMergeCells(){return U.mergeBodyList.slice(0)},clearMergeCells(){return U.mergeBodyList=[],U.mergeBodyMaps={},U.mergeBodyCellMaps={},(0,El.nextTick)().then(()=>O())},setMergeFooterItems(e){return z.footerSpanMethod&&tl("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),(e=>{let s=j.footerTableData,{mergeFooterList:d,mergeFooterMaps:c}=U;if(e){let i=U.visibleColumn;(e=bl().isArray(e)?e:[e]).forEach(t=>{var{row:t,col:r,rowspan:l,colspan:o}=t,t=bl().isNumber(t)?t:-1;let a=-1;if(bl().isNumber(r)&&(a=r),-1<t&&-1<a&&(l||o)&&(l=bl().toNumber(l)||1,o=bl().toNumber(o)||1,1<l||1<o)){var r=s[t],n=i[a];let e=c[t+":"+a];e?(e.rowspan=l,e.colspan=o,e._rowspan=l,e._colspan=o):(e={row:t,col:a,rowspan:l,colspan:o,_row:r,_col:n,_rowspan:l,_colspan:o},c[t+":"+a]=e,d.push(e))}})}})(e),ne.handleUpdateFooterMerge(),(0,El.nextTick)().then(()=>(W.updateCellAreas(),O()))},removeMergeFooterItems(e){z.footerSpanMethod&&tl("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);let t=Mt(e,U.mergeFooterList);return(0,El.nextTick)().then(()=>(W.updateCellAreas(),O(),t))},getMergeFooterItems(){return U.mergeFooterList.slice(0)},clearMergeFooterItems(){return U.mergeFooterList=[],U.mergeFooterMaps={},U.mergeFooterCellMaps={},(0,El.nextTick)().then(()=>O())},updateCellAreas(){var e=z.mouseConfig,t=re.value;return e&&t.area&&ne.handleRecalculateCellAreaEvent?ne.handleRecalculateCellAreaEvent():(0,El.nextTick)()},getCustomStoreData(){var e=z.id,t=F.value,r=U.collectColumn;let{storage:l,checkMethod:c}=t;var t=!0===l,o=t?{}:Object.assign({},l||{});let u=t||o.resizable,p=t||o.visible,h=t||o.fixed,m=t||o.sort,v={},g={},f={},x={};t={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(e){let n=0,i=0,s=0,d=0;bl().eachTree(r,(e,t,r,l,o)=>{var a=e.getKey();a?(o||(m&&(i=1,g[a]=e.renderSortNumber),h&&e.fixed!==e.defaultFixed&&(s=1,x[a]=e.fixed)),u&&e.resizeWidth&&(n=1,v[a]=e.renderWidth),!p||c&&!c({column:e})||(!e.visible&&e.defaultVisible?(d=1,f[a]=!1):e.visible&&!e.defaultVisible&&(d=1,f[a]=!0))):tl("vxe.error.reqProp",[`${e.getTitle()||e.type||""} -> column.field=?`])}),n&&(t.resizableData=v),i&&(t.sortData=g),s&&(t.fixedData=x),d&&(t.visibleData=f)}else tl("vxe.error.reqProp",["id"]);return t},focus(){return U.isActivated=!0,(0,El.nextTick)()},blur(){return(U.isActivated=!1,El.nextTick)()},connect(e){return e?(w=e).syncUpdate({collectColumn:U.collectColumn,$table:ne}):tl("vxe.error.barUnableLink"),(0,El.nextTick)()}},r=>{var{editStore:e,ctxMenuStore:t,filterStore:l,customStore:o}=j;let{mouseConfig:a,editRules:n}=z,i=X.value,s=te.value,d=Le.value;var c=qe.value;let u=e.actived;var e=ge.value,p=xe.value,h=be.value,m=fe.value;if(!p||kl(r,i,"vxe-cell--filter").flag||kl(r,p.getRefMaps().refElem.value).flag||kl(r,document.body,"vxe-table--ignore-clear").flag||q.preventEvent(r,"event.clearFilter",l.args,W.closeFilter),!h||o.btnEl===r.target||kl(r,document.body,"vxe-toolbar-custom-target").flag||kl(r,h.$el).flag||kl(r,document.body,"vxe-table--ignore-clear").flag||q.preventEvent(r,"event.clearCustom",{},()=>{ne.closeCustom&&ne.closeCustom()}),u.row)!1===s.autoClear||(p=u.args.cell)&&kl(r,p).flag||e&&kl(r,e.$el).flag||U._lastCallTime&&!(U._lastCallTime+50<Date.now())||kl(r,document.body,"vxe-table--ignore-clear").flag||q.preventEvent(r,"event.clearEdit",u.args,()=>{let e;var t;(e=(e=(e="row"===s.mode?!!(t=(t=kl(r,i,"vxe-body--row")).flag?W.getRowNode(t.targetElem):null)&&!ne.eqRow(t.item,u.args.row):!kl(r,i,"col--edit").flag)||kl(r,i,"vxe-header--row").flag)||kl(r,i,"vxe-footer--row").flag)||!z.height||j.overflowY||Rl(t=r.target,"vxe-table--body-wrapper")&&(e=r.offsetY<t.clientHeight),!e&&kl(r,i).flag||setTimeout(()=>{ne.handleClearEdit(r).then(()=>{!U.isActivated&&n&&d.autoClear&&(j.validErrorMaps={})})})});else if(a&&!(kl(r,i).flag||G&&kl(r,G.getRefMaps().refElem.value).flag||m&&kl(r,m.getRefMaps().refElem.value).flag||w&&kl(r,w.getRefMaps().refElem.value).flag)&&(ne.clearSelected&&ne.clearSelected(),c.autoClear)&&ne.getCellAreas){let e=ne.getCellAreas();e&&e.length&&!kl(r,document.body,"vxe-table--ignore-areas-clear").flag&&q.preventEvent(r,"event.clearAreas",{},()=>{ne.clearCellAreas(),ne.clearCopyCellArea(),ie("clear-cell-area-selection",{cellAreas:e},r)})}ne.closeMenu&&t.visible&&m&&!kl(r,m.getRefMaps().refElem.value).flag&&ne.closeMenu();l=kl(r,G?G.getRefMaps().refElem.value:i).flag;!l&&n&&d.autoClear&&(j.validErrorMaps={}),U.isActivated=l}),yr=()=>{W.closeFilter(),ne.closeMenu&&ne.closeMenu()},Tr=()=>{W.closeTooltip(),ne.closeMenu&&ne.closeMenu()},Er=t=>{let{mouseConfig:e,keyboardConfig:r}=z,{filterStore:l,ctxMenuStore:o,editStore:a}=j,n=re.value,i=le.value,s=a.actived;al.hasKey(t,nl.ESCAPE)&&q.preventEvent(t,"event.keydown",null,()=>{if(ie("keydown-start",{},t),r&&e&&n.area&&ne.handleKeyboardCellAreaEvent)ne.handleKeyboardCellAreaEvent(t);else if((s.row||l.visible||o.visible)&&(t.stopPropagation(),ne.closeMenu&&ne.closeMenu(),W.closeFilter(),r)&&i.isEsc&&s.row){let e=s.args;ne.handleClearEdit(t),n.selected&&(0,El.nextTick)(()=>ne.handleSelected(e,t))}ie("keydown",{},t),ie("keydown-end",{},t)})},Rr=P=>{U.isActivated&&ne.preventEvent(P,"event.keydown",null,()=>{var{mouseConfig:e,keyboardConfig:t,treeConfig:r,editConfig:l,highlightCurrentRow:o,highlightCurrentColumn:a}=z;let{ctxMenuStore:n,editStore:H,currentRow:i}=j;var s=U.afterFullData,d=tt.value,c=Je.value,u=le.value,p=re.value,h=te.value,m=ae.value,v=rt.value,g=Z.value,$=Y.value,{selected:f,actived:x}=H,m=m.children||m.childrenField,b=P.keyCode,C=al.hasKey(P,nl.ESCAPE),w=al.hasKey(P,nl.BACKSPACE),_=al.hasKey(P,nl.TAB),y=al.hasKey(P,nl.ENTER),T=al.hasKey(P,nl.SPACEBAR),E=al.hasKey(P,nl.ARROW_LEFT),R=al.hasKey(P,nl.ARROW_UP),S=al.hasKey(P,nl.ARROW_RIGHT),I=al.hasKey(P,nl.ARROW_DOWN),B=al.hasKey(P,nl.DELETE),D=al.hasKey(P,nl.F2),M=al.hasKey(P,nl.CONTEXT_MENU),N=P.metaKey,k=P.ctrlKey,F=P.shiftKey,O=P.altKey,A=E||R||S||I,d=d&&n.visible&&(y||T||A),L=Cl(l)&&x.column&&x.row;let V=h.beforeEditMethod||h.activeMethod;if(d)P.preventDefault(),n.showChild&&Nl(n.selected)?ne.moveCtxMenu(P,n,"selectChild",E,!1,n.selected.children):ne.moveCtxMenu(P,n,"selected",S,!0,v);else if(t&&e&&p.area&&ne.handleKeyboardCellAreaEvent)ne.handleKeyboardCellAreaEvent(P);else if(C){if(ne.closeMenu&&ne.closeMenu(),ne.closeFilter(),t&&u.isEsc&&x.row){let e=x.args;ne.handleClearEdit(P),p.selected&&(0,El.nextTick)(()=>ne.handleSelected(e,P))}}else if(T&&t&&u.isChecked&&f.row&&f.column&&("checkbox"===f.column.type||"radio"===f.column.type))P.preventDefault(),"checkbox"===f.column.type?q.handleToggleCheckRowEvent(P,f.args):q.triggerRadioRowEvent(P,f.args);else if(D&&Cl(l))L||f.row&&f.column&&(P.preventDefault(),ne.handleEdit(f.args,P));else if(M)U._keyCtx=f.row&&f.column&&c.length,clearTimeout(U.keyCtxTimeout),U.keyCtxTimeout=setTimeout(()=>{U._keyCtx=!1},1e3);else if(y&&!O&&t&&u.isEnter&&(f.row||x.row||r&&(g.isCurrent||o)&&i)){var{isLastEnterAppendRow:d,beforeEnterMethod:v,enterMethod:e}=u;if(k){if(x.row){let e=x.args;ne.handleClearEdit(P),p.selected&&(0,El.nextTick)(()=>{ne.handleSelected(e,P)})}}else if(f.row||x.row){let r=(f.row?f:x).args;if(F)u.enterToTab?ne.moveTabSelected(r,F,P):ne.moveEnterSelected(r,E,!0,S,!1,P);else if(u.enterToTab)ne.moveTabSelected(r,F,P);else{var C=f.row||x.row;let t=f.column||x.column;D=ne.getVTRowIndex(C),M={row:C,rowIndex:ne.getRowIndex(C),$rowIndex:ne.getVMRowIndex(C),_rowIndex:D,column:t,columnIndex:ne.getColumnIndex(t),$columnIndex:ne.getVMColumnIndex(t),_columnIndex:ne.getVTColumnIndex(t),$table:ne};if(!v||!1!==v(M)){if(d&&D>=s.length-1)return ne.insertAt({},-1).then(({row:e})=>{ne.scrollToRow(e,t),ne.handleSelected({...r,row:e},P)}),void ne.dispatchEvent("enter-append-row",M,P);ne.moveEnterSelected(r,E,!1,S,!0,P),e&&e(M)}}}else if(r&&(g.isCurrent||o)&&i){c=i[m];if(c&&c.length){P.preventDefault();let e=c[0],t={$table:ne,row:e,rowIndex:ne.getRowIndex(e),$rowIndex:ne.getVMRowIndex(e)};ne.setTreeExpand(i,!0).then(()=>ne.scrollToRow(e)).then(()=>ne.triggerCurrentRowEvent(P,t))}}}else if(A&&t&&u.isArrow)L||(p.selected&&f.row&&f.column?ne.moveArrowSelected(f.args,E,R,S,I,P):((R||I)&&(g.isCurrent||o)&&ne.moveCurrentRow(R,I,P),(E||S)&&($.isCurrent||a)&&ne.moveCurrentColumn(E,S,P)));else if(_&&t&&u.isTab)f.row||f.column?ne.moveTabSelected(f.args,F,P):(x.row||x.column)&&ne.moveTabSelected(x.args,F,P);else if(t&&u.isDel&&B&&Cl(l)&&(f.row||f.column))L||(y=u.delMethod,O={row:f.row,rowIndex:W.getRowIndex(f.row),column:f.column,columnIndex:W.getColumnIndex(f.column),$table:ne,$grid:G},V&&!V(O))||(y?y(O):Vl(f.row,f.column,null),W.updateFooter(),ie("cell-delete-value",O,P));else if(w&&t&&u.isBack&&Cl(l)&&(f.row||f.column))L||(C=u.backMethod,u.isDel&&Cl(l)&&(f.row||f.column)&&(v={row:f.row,rowIndex:ne.getRowIndex(f.row),column:f.column,columnIndex:ne.getColumnIndex(f.column),$table:ne,$grid:G},V&&!V(v)||(C?C(v):(Vl(f.row,f.column,null),ne.handleEdit(f.args,P)),ie("cell-backspace-value",v,P))));else if(w&&t&&r&&u.isBack&&(g.isCurrent||o)&&i){let t=bl().findTree(U.afterTreeFullData,e=>e===i,{children:m}).parent;if(t){P.preventDefault();let e={row:t,rowIndex:ne.getRowIndex(t),$rowIndex:ne.getVMRowIndex(t),$table:ne,$grid:G};ne.setTreeExpand(t,!1).then(()=>ne.scrollToRow(t)).then(()=>ne.triggerCurrentRowEvent(P,e))}}else if(t&&Cl(l)&&u.isEdit&&!k&&!N&&(T||48<=b&&b<=57||65<=b&&b<=90||96<=b&&b<=111||186<=b&&b<=192||219<=b&&b<=222)){var{editMode:d,editMethod:D}=u;if(f.column&&f.row&&Cl(f.column.editRender)){let e=h.beforeEditMethod||h.activeMethod;s={row:f.row,rowIndex:ne.getRowIndex(f.row),column:f.column,columnIndex:ne.getColumnIndex(f.column),$table:ne,$grid:G};e&&!e({...f.args,$table:ne,$grid:G})||(D?D(s):("insert"!==d&&Vl(f.row,f.column,null),ne.handleEdit(f.args,P)))}}ie("keydown",{},P)})},Sr=e=>{var{keyboardConfig:t,mouseConfig:r}=z,{editStore:l,filterStore:o}=j,a=U.isActivated,n=re.value,i=le.value,l=l.actived;a&&!o.visible&&(l.row||l.column||t&&i.isClip&&r&&n.area&&ne.handlePasteCellAreaEvent&&ne.handlePasteCellAreaEvent(e),ie("paste",{},e))},Ir=e=>{var{keyboardConfig:t,mouseConfig:r}=z,{editStore:l,filterStore:o}=j,a=U.isActivated,n=re.value,i=le.value,l=l.actived;a&&!o.visible&&(l.row||l.column||t&&i.isClip&&r&&n.area&&ne.handleCopyCellAreaEvent&&ne.handleCopyCellAreaEvent(e),ie("copy",{},e))},Dr=e=>{var{keyboardConfig:t,mouseConfig:r}=z,{editStore:l,filterStore:o}=j,a=U.isActivated,n=re.value,i=le.value,l=l.actived;a&&!o.visible&&(l.row||l.column||t&&i.isClip&&r&&n.area&&ne.handleCutCellAreaEvent&&ne.handleCutCellAreaEvent(e),ie("cut",{},e))},Mr=()=>{ne.closeMenu&&ne.closeMenu();var e=X.value;if(!e||!e.clientWidth)return(0,El.nextTick)();W.recalculate(!0),W.updateCellAreas()},kr=e=>{var t=K.value;clearTimeout(U.tooltipTimeout),e?W.closeTooltip():t&&t.setActived&&t.setActived(!0)},Fr=()=>{var{dragRow:e,dragCol:t}=j;(e||t)&&(Ar(),Or(),Vr(),j.dragRow=null,j.dragCol=null,j.isDragColMove=!1,j.isDragRowMove=!1)},Or=()=>{var e=X.value;if(e){let t="row--drag-origin";bl().arrayEach(e.querySelectorAll("."+t),e=>{e.draggable=!1,Sl(e,t)})}},Ar=()=>{var e=X.value;if(e){let t="col--drag-origin";bl().arrayEach(e.querySelectorAll("."+t),e=>{e.draggable=!1,Sl(e,t)})}},Lr=(e,r,l,t,o)=>{var a=X.value;if(a){var{overflowX:n,scrollbarWidth:i,overflowY:s,scrollbarHeight:d}=j,c=U.prevDragToChild,u=a.getBoundingClientRect(),s=s?i:0,i=n?d:0,n=a.clientWidth,d=a.clientHeight;if(r){var p=Ee.value;if(p)if(t){var h=He.value,m=r.getBoundingClientRect();let e=r.clientHeight;r=Math.max(1,m.y-u.y);r+e>d-i&&(e=d-r-i),p.style.display="block",p.style.left=`${h?s:0}px`,p.style.top=r+"px",p.style.height=e+"px",p.style.width=n-s+"px",p.setAttribute("drag-pos",o),p.setAttribute("drag-to-child",c?"y":"n")}else p.style.display=""}else if(l){m=Re.value;if(m)if(t){var h=Ve.value,r=B.value,p=r?r.clientWidth:0,r=N.value,r=r?r.clientWidth:0,v=l.getBoundingClientRect();let e=l.clientWidth;l=Math.max(0,v.y-u.y);let t=v.x-u.x;t<p&&(e-=p-t,t=p);p=n-r-(r?0:s);t+e>p&&(e=p-t),m.style.display="block",m.style.top=l+"px",m.style.left=t+"px",m.style.width=e+"px",m.style.height=c?v.height+"px":d-l-(h?0:i)+"px",m.setAttribute("drag-pos",o),m.setAttribute("drag-to-child",c?"y":"n")}else m.style.display=""}n=Te.value;n&&(n.style.display="block",n.style.top=Math.min(a.clientHeight-a.scrollTop-n.clientHeight,e.clientY-u.y)+"px",n.style.left=Math.min(a.clientWidth-a.scrollLeft-n.clientWidth-16,e.clientX-u.x)+"px",n.setAttribute("drag-status",t?c?"sub":"normal":"disabled"))}},Vr=()=>{var e=Te.value,t=Ee.value,r=Re.value;e&&(e.style.display=""),t&&(t.style.display=""),r&&(r.style.display="")},Hr=(e,l,o,a,n)=>{let i=o||l;if(i){n.cell=l;var o=j.tooltipStore,{column:l,row:s}=n,{showAll:d,contentMethod:c}=ze.value,n=c?c(n):null,c=c&&!bl().eqNull(n);let t=c?n:bl().toString("html"===l.type?i.innerText:i.textContent).trim(),r=i.scrollWidth>i.clientWidth;t&&(d||c||r)&&(Object.assign(o,{row:s,column:l,visible:!0,currOpts:{}}),(0,El.nextTick)(()=>{var e=K.value;e&&e.open&&e.open(r?i:a,yl(t))}))}return(0,El.nextTick)()},$r=(e,t)=>{if(e){if(G)return G.callSlot(e,t);if(bl().isFunction(e))return $l(e(t))}return[]},_r=(q={getSetupOptions(){return ll()},updateAfterDataIndex:zt,callSlot:$r,getParentElem(){var e,t=X.value;return G?(e=G.getRefMaps().refElem.value)?e.parentNode:null:t?t.parentNode:null},getParentHeight(){var t=z.height,r=X.value;if(r){r=r.parentNode,t="100%"===t||"auto"===t?ql(r):0;let e=0;return r&&(e=G&&Rl(r,"vxe-grid--table-wrapper")?G.getParentHeight():r.clientHeight),Math.floor(e-t)}return 0},getExcludeHeight(){return G?G.getExcludeHeight():0},defineField(e){let t=z.treeConfig,r=oe.value,l=ae.value,a=k.value,n=ee.value,i=l.children||l.childrenField,s=Fl(ne);return(e=bl().isArray(e)?e:[e]).map(o=>(U.tableFullColumn.forEach(t=>{var{field:r,editRender:l}=t;if(r&&!bl().has(o,r)&&!o[r]){let e=null;l&&(l=l.defaultValue,bl().isFunction(l)?e=l({column:t}):bl().isUndefined(l)||(e=l)),bl().set(o,r,e)}}),[a.labelField,n.checkField,n.labelField,r.labelField].forEach(e=>{e&&Tl(bl().get(o,e))&&bl().set(o,e,null)}),t&&l.lazy&&bl().isUndefined(o[i])&&(o[i]=null),Tl(bl().get(o,s))&&bl().set(o,s,Gl()),o))},handleTableData(e){var t=j.scrollYLoad;let{scrollYStore:r,fullDataRowIdData:o}=U,l=U.afterFullData;e&&((()=>{var e=z.treeConfig,{tableFullColumn:t,tableFullData:r,tableFullTreeData:l}=U,o=We.value,i=T.value,s=ae.value,d=s.children||s.childrenField,{transform:c,rowField:u,parentField:p,mapChildrenField:h}=s;let{isEvery:m,remote:v,filterMethod:g}=o,{remote:f,sortMethod:x,multiple:b,chronological:C}=i,w=[],y=[];if(v&&f)e&&c?(y=bl().searchTree(l,()=>!0,{original:!0,isEvery:m,children:s.mapChildrenField,mapChildren:d}),w=y):(w=(e?l:r).slice(0),y=w);else{let a=[],n=[];t.forEach(e=>{var{field:t,sortable:r,order:l,filters:o}=e;if(!v&&o&&o.length){let t=[],r=[];o.forEach(e=>{e.checked&&(r.push(e),t.push(e.value))}),r.length&&a.push({column:e,valueList:t,itemList:r})}!f&&r&&l&&n.push({column:e,field:t,property:t,order:l,sortTime:e.sortTime})}),b&&C&&1<n.length&&(n=bl().orderBy(n,"sortTime")),!v&&a.length?(o=d=>a.every(({column:t,valueList:e,itemList:r})=>{let{filterMethod:l,filterRender:o}=t;var a=Cl(o)?cl.get(o.name):null;let n=a?a.tableFilterMethod||a.filterMethod:null,i=a?a.tableFilterDefaultMethod||a.defaultTableFilterMethod||a.defaultFilterMethod:null,s=Ll(d,t);return l?r.some(e=>l({value:e.value,option:e,cellValue:s,row:d,column:t,$table:ne})):n?r.some(e=>n({value:e.value,option:e,cellValue:s,row:d,column:t,$table:ne})):g?g({options:r,values:e,cellValue:s,row:d,column:t}):i?r.some(e=>i({value:e.value,option:e,cellValue:s,row:d,column:t,$table:ne})):-1<e.indexOf(bl().get(d,t.field))}),e&&c?(y=bl().searchTree(l,o,{original:!0,isEvery:m,children:h,mapChildren:d}),w=y):(w=(e?l:r).filter(o),y=w)):e&&c?(y=bl().searchTree(l,()=>!0,{original:!0,isEvery:m,children:h,mapChildren:d}),w=y):(w=(e?l:r).slice(0),y=w),!f&&n.length&&(e&&c?(y=x?(i=x({data:y,sortList:n,$table:ne}),bl().isArray(i)?i:y):(s=bl().toTreeArray(y,{children:h}),bl().toArrayTree(bl().orderBy(s,n.map(({column:e,order:t})=>[Nt(e),t])),{key:u,parentKey:p,children:d,mapChildren:h})),w=y):(w=x?(t=x({data:w,sortList:n,$table:ne}),bl().isArray(t)?t:w):bl().orderBy(w,n.map(({column:e,order:t})=>[Nt(e),t])),y=w))}U.afterFullData=w,U.afterTreeFullData=y,zt()})(),l=jt());e=t?l.slice(r.startIndex,r.endIndex):l.slice(0);let a={};return e.forEach((e,t)=>{var r=Ol(ne,e),l=o[r];l&&(l.$index=t),a[r]=e}),j.tableData=e,U.visibleDataRowIdData=a,(0,El.nextTick)()},cacheRowMap(e){let i=z.treeConfig,{fullAllDataRowIdData:t,tableFullData:r,tableFullTreeData:l,treeExpandedMaps:s}=U;var o=ae.value;let d=o.children||o.childrenField,c=o.hasChild||o.hasChildField,u=o.lazy,p=e?{}:{...t},h={},m=Yl(ne).handleUpdateRowId,v=(e,t,r,l,o,a,n,i)=>{let s=p[a];s||(s={row:e,rowid:a,seq:i,index:-1,_index:-1,$index:-1,treeIndex:t,items:r,parent:o,level:n,height:0,resizeHeight:0,oTop:0,expandHeight:0},h[a]=s,p[a]=s),s.treeLoaded=!1,s.expandLoaded=!1,s.row=e,s.items=r,s.parent=o,s.level=n,s.index=l,s.treeIndex=t,h[a]=s,p[a]=s};i?bl().eachTree(l,(e,t,r,l,o,a)=>{var n=m(e);i&&u&&(e[c]&&void 0===e[d]&&(e[d]=null),!s[n]||e[d]&&e[d].length||delete s[n]),v(e,t,r,o?-1:t,o,n,a.length-1,l.map((e,t)=>t%2==0?Number(e)+1:".").join(""))},{children:d}):r.forEach((e,t,r)=>{v(e,t,r,t,null,m(e),0,t+1)}),U.fullDataRowIdData=h,U.fullAllDataRowIdData=p,j.treeExpandedFlag++},cacheSourceMap(e){var t=z.treeConfig,r=ae.value,e=bl().clone(e,!0);let l=Yl(ne).handleUpdateRowId,o={};var a=e=>{var t=l(e);o[t]=e};t?(t=r.children||r.childrenField,bl().eachTree(e,a,{children:r.transform?r.mapChildrenField:t})):e.forEach(a),U.sourceDataRowIdData=o,U.tableSourceData=e},analyColumnWidth(){var e=U.tableFullColumn;let{width:t,minWidth:r}=Y.value,l=[],o=[],a=[],n=[],i=[],s=[],d=[],c=[];e.forEach(e=>{t&&!e.width&&(e.width=t),r&&!e.minWidth&&(e.minWidth=r),e.visible&&(e.resizeWidth?l:"auto"===e.width?d:jl(e.width)?o:Ul(e.width)?i:jl(e.minWidth)?a:"auto"===e.minWidth?n:Ul(e.minWidth)?s:c).push(e)}),Object.assign(j.columnStore,{resizeList:l,pxList:o,pxMinList:a,autoMinList:n,scaleList:i,scaleMinList:s,autoList:d,remainList:c})},handleColResizeMousedownEvent(e,T,l){e.stopPropagation(),e.preventDefault();var t=l.column,{overflowX:r,scrollbarHeight:o}=j;let{elemStore:a,visibleColumn:n}=U,E=Ne.value,R=r?o:0,S=X.value,I=B.value,D=N.value,M=Ce.value;if(M){let v=M.firstElementChild,g=Ve.value,f=e.clientX,x=X.value;r=e.target;let b=t,C=(t.children&&t.children.length&&bl().eachTree(t.children,e=>{b=e}),r.parentNode);o=Object.assign(l,{cell:C});let w=0,y=Hl(a["main-body-scroll"]);if(y){var t=Xl(r,x),r=r.clientWidth,i=Math.floor(r/2);let d=Zl(o)-i,c=t.left-C.clientWidth+r+d,u=t.left+i,p="left"===T,h="right"===T,m=0;if(p||h){var s=p?"nextElementSibling":"previousElementSibling";let e=C[s];for(;e&&!Rl(e,"fixed--hidden");)Rl(e,"col--group")||(m+=e.offsetWidth),e=e[s];h&&D&&(u=D.offsetLeft+m)}o=t=>{t.stopPropagation(),t.preventDefault();var r=S.clientHeight,l=t.clientX-f;let e=u+l;l=T?0:y.scrollLeft,p?e=Math.min(e,(D?D.offsetLeft:y.clientWidth)-m-d):h?(c=(I?I.clientWidth:0)+m+d,e=Math.min(e,u+C.clientWidth-d)):c=Math.max(y.scrollLeft,c),w=Math.max(e,c),l=Math.max(1,w-l);if(M.style.left=l+"px",M.style.top=`${g?R:0}px`,M.style.height=`${g?r-R:r}px`,E.showDragTip&&v){v.textContent=ol("vxe.table.resizeColTip",[b.renderWidth+(h?u-w:w-u)]);var o=S.clientWidth,a=x.getBoundingClientRect(),n=M.clientWidth,i=v.clientWidth,s=v.clientHeight;let e=-i;l<i+n?e=0:o<l&&(e+=o-l),v.style.left=e+"px",v.style.top=Math.min(r-s,Math.max(0,t.clientY-a.y-s/2))+"px"}j.isDragResize=!0};j.isDragResize=!0,Il(S,"col-drag--resize"),M.style.display="block",document.onmousemove=o,document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,M.style.display="none",U._lastResizeTime=Date.now(),setTimeout(()=>{j.isDragResize=!1},50);var t=b.renderWidth+(h?u-w:w-u),r={...l,resizeWidth:t,resizeColumn:b};"fixed"===E.dragMode&&n.forEach(e=>{e.id===b.id||e.resizeWidth||(e.resizeWidth=e.renderWidth)}),ne.handleColResizeCellAreaEvent?ne.handleColResizeCellAreaEvent(e,r):(b.resizeWidth=t,fr(e,r)),Sl(S,"col-drag--resize")},o(e),ne.closeMenu&&ne.closeMenu()}}},handleColResizeDblclickEvent(r,l){var o=Ne.value.isDblclickAutoWidth,a=X.value;if(o&&a){r.stopPropagation(),r.preventDefault();var o=U.fullColumnIdData,n=l.column;let t=n;n.children&&n.children.length&&bl().eachTree(n.children,e=>{t=e});n=o[t.id],o=r.target.parentNode,o=Zl(Object.assign(l,{cell:o}));a.setAttribute("data-calc-col","Y");let e=Vt(t,a);a.removeAttribute("data-calc-col"),n&&(e=Math.max(e,n.width)),e=Math.max(o,e);a={...l,resizeWidth:e,resizeColumn:t};j.isDragResize=!1,U._lastResizeTime=Date.now(),ne.handleColResizeDblclickCellAreaEvent?ne.handleColResizeDblclickCellAreaEvent(r,a):(t.resizeWidth=e,fr(r,a))}},handleRowResizeMousedownEvent(l,o){l.stopPropagation(),l.preventDefault();let a=o.row;var{overflowX:n,scrollbarWidth:i,overflowY:m,scrollbarHeight:v}=j,{elemStore:g,fullAllDataRowIdData:f}=U;let x=m?i:0,b=n?v:0,C=He.value,w=Ne.value;m=Z.value,i=M.value;let y=X.value,T=we.value;if(T){let p=l.clientY,h=T.firstElementChild;n=l.currentTarget.parentNode,v=n.parentNode;if(Hl(g["main-body-scroll"])){let r=f[Ol(ne,a)];if(r){g=E.value;let s=r.resizeHeight||i.height||m.height||r.height||g,d=y.getBoundingClientRect();f=v.getBoundingClientRect();let e=p-f.y-v.clientHeight,c=s;i=n.querySelector(".vxe-cell");let t=0,u=(i&&(m=getComputedStyle(i),t=Math.max(1,Math.ceil(bl().toNumber(m.paddingTop)+bl().toNumber(m.paddingBottom)))),f.y-d.y+t);g=r=>{r.stopPropagation(),r.preventDefault();var l=y.clientWidth-x,o=y.clientHeight-b;let a=r.clientY-d.y-e;if(a<u?a=u:c=Math.max(t,s+r.clientY-p),T.style.left=`${C?x:0}px`,T.style.top=a+"px",T.style.width=l+"px",w.showDragTip&&h){h.textContent=ol("vxe.table.resizeRowTip",[c]);var n=h.clientWidth,i=h.clientHeight;let e=Math.max(2,r.clientX-d.x),t=0;e+n>=l-2&&(e=l-n-2),a+i>=o&&(t=o-(a+i)),h.style.left=e+"px",h.style.top=t+"px"}j.isDragResize=!0};j.isDragResize=!0,Il(y,"row-drag--resize"),T.style.display="block",document.onmousemove=g,document.onmouseup=function(e){var t;document.onmousemove=null,document.onmouseup=null,T.style.display="none",U._lastResizeTime=Date.now(),setTimeout(()=>{j.isDragResize=!1},50),c!==s&&(t={...o,resizeHeight:c,resizeRow:a},U.isResizeCellHeight=!0,ne.handleRowResizeCellAreaEvent?ne.handleRowResizeCellAreaEvent(e,t):(r.resizeHeight=c,xr(e,t),A())),Sl(y,"row-drag--resize")},g(l)}}}},handleRowResizeDblclickEvent(o,a){var e=Ne.value.isDblclickAutoHeight;let n=X.value;if(e&&n){o.stopPropagation(),o.preventDefault();var e=j.editStore,t=U.fullAllDataRowIdData,e=e.actived;let r=a.row,l=t[Ol(ne,r)];l&&(t=()=>{n.setAttribute("data-calc-row","Y");var e=_t(l,n),t=(n.removeAttribute("data-calc-row"),{...a,resizeHeight:e,resizeRow:r});j.isDragResize=!1,U._lastResizeTime=Date.now(),ne.handleRowResizeDblclickCellAreaEvent?ne.handleRowResizeDblclickCellAreaEvent(o,t):(l.resizeHeight=e,xr(o,t))},e.row||e.column?ne.clearEdit().then(t):t())}},saveCustomStore(e){var t=z.customConfig,r=y.value,l=F.value,{updateStore:o,storage:a}=l,n=!0===a,a=n?{}:Object.assign({},a||{}),i=n||a.resizable,s=n||a.visible,d=n||a.fixed,n=n||a.sort;if("reset"!==e&&(j.isCustomStatus=!0),(t?Cl(l):l.enabled)&&(i||s||d||n)){if(!r)return tl("vxe.error.reqProp",["id"]),(0,El.nextTick)();a="reset"===e?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:W.getCustomStoreData();if(o)return o({id:r,type:e,storeData:a});t=r,l="reset"===e?null:a,i=ll().version,(s=Ct())[t]=l||void 0,s._v=i,localStorage.setItem(fl,bl().toJSONString(s))}return(0,El.nextTick)()},handleCustom(){var e=z.mouseConfig;return e&&(ne.clearSelected&&ne.clearSelected(),ne.clearCellAreas)&&(ne.clearCellAreas(),ne.clearCopyCellArea()),q.analyColumnWidth(),W.refreshColumn(!0)},handleUpdateDataQueue(){j.upDataFlag++},handleRefreshColumnQueue(){j.reColumnFlag++},preventEvent(t,e,r,l,o){let a=ml.get(e),n=(a.length||"event.clearEdit"!==e||(a=ml.get("event.clearActived")).length&&el("vxe.error.delEvent",["event.clearActived","event.clearEdit"]),null),i=!1;for(let e=0;e<a.length;e++){var s=(0,a[e])(Object.assign({$grid:G,$table:ne,$event:t},r));if(!1===s){i=!0;break}if(s&&!1===s.status){n=s.result,i=!0;break}}return i||l&&(n=l()),o&&o(),n},updateCheckboxStatus(){var e=z.treeConfig;let{selectCheckboxMaps:s,treeIndeterminateRowMaps:d}=U;var t=ae.value;let{transform:a,mapChildrenField:n}=t,c=t.children||t.childrenField,{checkField:u,checkStrictly:r,checkMethod:p}=ee.value;t=U.afterTreeFullData;if(!r){if(e){let i=Al(ne).handleGetRowId,l={},o=[];bl().eachTree(t,e=>{var t=i(e),r=e[a?n:c];r&&r.length&&!l[t]&&(l[t]=1,o.unshift([e,t,r]))},{children:a?n:c}),o.forEach(e=>{var t=e[0],r=e[1];let l=0,o=0,a=0;e[2].forEach(p?e=>{var t=i(e),r=u?bl().get(e,u):s[t];p({row:e})?(r?l++:d[t]&&o++,a++):r?l++:d[t]&&o++}:e=>{var t=i(e);(u?bl().get(e,u):s[t])?l++:d[t]&&o++,a++});var e=l>=a,n=!e&&(1<=l||1<=o);u&&bl().set(t,u,e),e?(u||(s[r]=t),d[r]&&delete d[r]):(u||s[r]&&delete s[r],n?d[r]=t:d[r]&&delete d[r])})}j.updateCheckboxFlag++}},updateAllCheckboxStatus(){var e=z.treeConfig;let{afterFullData:t,afterTreeFullData:r,checkboxReserveRowMap:l,selectCheckboxMaps:o,treeIndeterminateRowMaps:a}=U,{checkField:n,checkMethod:i,showReserveStatus:s}=ee.value,d=Al(ne).handleGetRowId,c=0,u=0,p=0;e=e?r:t,e.forEach(i?e=>{var t=d(e),r=n?bl().get(e,n):o[t];i({row:e})?(r?c++:a[t]&&u++,p++):r?c++:a[t]&&u++}:e=>{var t=d(e);(n?bl().get(e,n):o[t])?c++:a[t]&&u++,p++}),e=0<e.length&&(0<p?c>=p:c>=e.length);let h=!e&&(1<=c||1<=u);e||h||!s||(h=!bl().isEmpty(l)),j.isAllSelected=e,j.isIndeterminate=h},checkSelectionStatus(){ne.updateCheckboxStatus(),ne.updateAllCheckboxStatus()},handleBatchSelectRows(e,r,l){var t=z.treeConfig;let o=U.selectCheckboxMaps;var a=ae.value,{transform:n,mapChildrenField:i}=a,a=a.children||a.childrenField,s=ee.value;let{checkField:d,checkStrictly:c,checkMethod:u}=s,p=Al(ne).handleGetRowId,h=s.indeterminateField||s.halfField;d?(t&&!c?bl().eachTree(e,e=>{!l&&u&&!u({row:e})||(bl().set(e,d,r),h&&bl().set(e,h,!1),Xt(e,r))},{children:n?i:a}):e.forEach(e=>{!l&&u&&!u({row:e})||(bl().set(e,d,r),Xt(e,r))}),j.updateCheckboxFlag++):t&&!c?(bl().eachTree(e,e=>{var t=p(e);!l&&u&&!u({row:e})||(r?o[t]=e:o[t]&&delete o[t],Xt(e,r))},{children:n?i:a}),j.updateCheckboxFlag++):e.forEach(e=>{var t=p(e);!l&&u&&!u({row:e})||(r?o[t]||(o[t]=e):o[t]&&delete o[t],Xt(e,r),j.updateCheckboxFlag++)})},handleSelectRow({row:e},t,r){ne.handleBatchSelectRows([e],t,r)},handleUpdateBodyMerge(){var e=U.mergeBodyList;U.mergeBodyCellMaps=Dt(e),j.mergeBodyFlag++},handleUpdateFooterMerge(){var e=U.mergeFooterList;U.mergeFooterCellMaps=Dt(e),j.mergeFootFlag++},triggerHeaderTitleEvent(r,e,l){var o=e.content||e.message;if(o){var a=j.tooltipStore,l=l.column;let t=wl(o);kr(!0),a.row=null,a.column=l,a.visible=!0,a.currOpts=e,(0,El.nextTick)(()=>{var e=K.value;e&&e.open&&e.open(r.currentTarget,t)})}},triggerHeaderTooltipEvent(e,t){var r,l=j.tooltipStore,o=t.column,e=(kr(!0),e.currentTarget);!e||!(e=e.parentElement)||!(r=e.parentElement)||l.column===o&&l.visible||Hr(0,r,r.querySelector(".vxe-cell--wrapper"),r.querySelector(".vxe-cell--title")||e,t)},triggerBodyTooltipEvent(e,t){var r=z.editConfig,l=j.editStore,o=j.tooltipStore,a=te.value,l=l.actived,{row:n,column:i}=t,e=e.currentTarget;if(kr(o.column!==i||o.row!==n),i.editRender&&Cl(r)){if("row"===a.mode&&l.row===n)return;if(l.row===n&&l.column===i)return}o.column===i&&o.row===n&&o.visible||Hr(0,e,e.querySelector(".vxe-cell--wrapper"),e.querySelector(".vxe-cell--label")||e.querySelector(".vxe-cell--wrapper"),t)},triggerFooterTooltipEvent(e,t){var r=t.column,l=j.tooltipStore,e=e.currentTarget;kr(l.column!==r||!!l.row),l.column===r&&l.visible||Hr(0,e,e.querySelector(".vxe-cell--wrapper"),e.querySelector(".vxe-cell--label")||e.querySelector(".vxe-cell--wrapper"),t)},handleTargetLeaveEvent(){var e=ze.value;let t=K.value;t&&t.setActived&&t.setActived(!1),e.enterable?U.tooltipTimeout=setTimeout(()=>{(t=K.value)&&t.isActived&&!t.isActived()&&ne.closeTooltip()},e.leaveDelay):ne.closeTooltip()},triggerHeaderCellClickEvent(e,t){var r=U._lastResizeTime,l=T.value,o=Y.value,a=_e.value,n=t.column,i=e.currentTarget,r=r&&r>Date.now()-300,s=kl(e,i,"vxe-cell--sort").flag,d=kl(e,i,"vxe-cell--filter").flag;"cell"!==l.trigger||r||s||d||ne.triggerSortEvent(e,n,bt(n)),ie("header-cell-click",Object.assign({triggerResizable:r,triggerSort:s,triggerFilter:d,cell:i},t),e),!o.isCurrent&&!z.highlightCurrentColumn||a.trigger&&!["header","default"].includes(a.trigger)||ne.triggerCurrentColumnEvent(e,t)},triggerHeaderCellDblclickEvent(e,t){ie("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(e,t){var r,l,o,a,n,i,s,d,c,u,p,h,m,v,g,f,x,b,C,w,{highlightCurrentRow:y,highlightCurrentColumn:T,editConfig:E}=z,{editStore:R,isDragResize:S}=j;S||(S=oe.value,r=te.value,l=ae.value,o=k.value,a=ee.value,n=le.value,i=Z.value,s=Y.value,d=_e.value,{actived:R,focused:c}=R,{row:u,column:p}=t,{type:m,treeNode:h}=p,v="checkbox"===m,g="expand"===m,f=e.currentTarget,x=(m="radio"===m)&&kl(e,f,"vxe-cell--radio").flag,b=v&&kl(e,f,"vxe-cell--checkbox").flag,C=h&&kl(e,f,"vxe-tree--btn-wrapper").flag,w=g&&kl(e,f,"vxe-table--expanded").flag,t=Object.assign({cell:f,triggerRadio:x,triggerCheckbox:b,triggerTreeNode:C,triggerExpandNode:w},t),!b&&!x&&(!w&&("row"===S.trigger||g&&"cell"===S.trigger)&&ne.triggerRowExpandEvent(e,t),"row"===l.trigger||h&&"cell"===l.trigger)&&ne.triggerTreeExpandEvent(e,t),C||(w||(!i.isCurrent&&!y||b||x||ne.triggerCurrentRowEvent(e,t),!s.isCurrent&&!T||d.trigger&&!["cell","default"].includes(d.trigger)||b||x||ne.triggerCurrentColumnEvent(e,t),!x&&("row"===o.trigger||m&&"cell"===o.trigger)&&ne.triggerRadioRowEvent(e,t),!b&&("row"===a.trigger||v&&"cell"===a.trigger)&&ne.handleToggleCheckRowEvent(e,t)),Cl(E)&&(n.arrowCursorLock&&e&&"cell"===r.mode&&e.target&&/^input|textarea$/i.test(e.target.tagName)&&(c.column=p,c.row=u),"manual"===r.trigger?R.args&&R.row===u&&p!==R.column&&Wt(e,t):R.args&&u===R.row&&p===R.column||("click"===r.trigger||"dblclick"===r.trigger&&"row"===r.mode&&R.row===u)&&Wt(e,t))),Cl(E)&&"dblclick"===r.trigger&&R.row&&R.column&&("row"===r.mode?ne.eqRow(R.row,u)||ne.handleClearEdit(e):"cell"!==r.mode||ne.eqRow(R.row,u)&&R.column.id===p.id||ne.handleClearEdit(e)),ie("cell-click",t,e))},triggerCellDblclickEvent(e,t){var r,l=z.editConfig,{editStore:o,isDragResize:a}=j;a||(a=te.value,o=o.actived,r=e.currentTarget,t=Object.assign({cell:r},t),!Cl(l)||"dblclick"!==a.trigger||o.args&&e.currentTarget===o.args.cell||("row"===a.mode?Ut("blur").catch(e=>e).then(()=>{ne.handleEdit(t,e).then(()=>Ut("change")).catch(e=>e)}):"cell"===a.mode&&ne.handleEdit(t,e).then(()=>Ut("change")).catch(e=>e)),ie("cell-dblclick",t,e))},handleToggleCheckRowEvent(t,r){var l=U.selectCheckboxMaps,{checkField:o,trigger:e}=ee.value,a=r.row;if("manual"!==e){let e=!1;e=o?!bl().get(a,o):!l[Ol(ne,a)],t?ne.triggerCheckRowEvent(t,r,e):(ne.handleBatchSelectRows([a],e),ne.checkSelectionStatus())}},triggerCheckRowEvent(t,r,e){var l=r.row,o=U.afterFullData,a=ee.value,{checkMethod:n,trigger:i}=a;if("manual"!==i){if(t.stopPropagation(),a.isShiftKey&&t.shiftKey&&!z.treeConfig){i=ne.getCheckboxRecords();if(i.length){a=i[0],i=ne.getVTRowIndex(l),a=ne.getVTRowIndex(a);if(i!==a){ne.setAllCheckboxRow(!1);let e=i<a?o.slice(i,a+1):o.slice(a,i+1);return(0,El.nextTick)(()=>{g(e,!0,!1)}),void ie("checkbox-range-select",Object.assign({rangeRecords:e},r),t)}}}n&&!n({row:l})||(ne.handleBatchSelectRows([l],e),ne.checkSelectionStatus(),ie("checkbox-change",Object.assign({records:()=>ne.getCheckboxRecords(),reserves:()=>ne.getCheckboxReserveRecords(),indeterminates:()=>ne.getCheckboxIndeterminateRecords(),checked:e},r),t))}},triggerCheckAllEvent(e,t){var r=ee.value.trigger;"manual"!==r&&(e&&e.stopPropagation(),mr(e,t))},triggerRadioRowEvent(r,l){var o=j.selectRadioRow,a=l.row,n=k.value,e=n.trigger;if("manual"!==e){r.stopPropagation();let e=a,t=o!==e;t?Kt(e):n.strict||(t=o===e)&&(e=null,ne.clearRadioRow()),t&&ie("radio-change",{oldValue:o,newValue:e,...l},r)}},triggerCurrentColumnEvent(e,t){var r=j.currentColumn,l=Y.value,o=_e.value,l=o.beforeSelectMethod||l.currentMethod,a=t.column,o=o.trigger;"manual"!==o&&(o=r!==a,!l||l({column:a,$table:ne})?(ne.setCurrentColumn(a),o&&ie("current-column-change",{oldValue:r,newValue:a,...t},e)):ie("current-column-disabled",t,e))},triggerCurrentRowEvent(e,t){var r=j.currentRow,l=Z.value,o=Be.value,l=o.beforeSelectMethod||l.currentMethod,a=t.row,o=o.trigger;"manual"!==o&&(o=r!==a,!l||l({row:a,$table:ne})?(ne.setCurrentRow(a),o&&(ie("current-row-change",{oldValue:r,newValue:a,...t},e),ie("current-change",{oldValue:r,newValue:a,...t},e))):ie("current-row-disabled",t,e))},triggerRowExpandEvent(e,t){var r=j.expandColumn,l=U.rowExpandLazyLoadedMaps,t=t.row,{lazy:o,trigger:a}=oe.value;"manual"===a||(e.stopPropagation(),a=Ol(ne,t),o&&l[a])||(o=!ne.isRowExpandByRow(t),l=ne.getColumnIndex(r),a=ne.getVMColumnIndex(r),ne.setRowExpand(t,o),ie("toggle-row-expand",{expanded:o,column:r,columnIndex:l,$columnIndex:a,row:t,rowIndex:ne.getRowIndex(t),$rowIndex:ne.getVMRowIndex(t)},e))},triggerTreeExpandEvent(e,t){var{treeExpandLazyLoadedMaps:r,treeEATime:l}=U,o=ae.value;let{row:a,column:n}=t,{lazy:i,trigger:s,accordion:d}=o;"manual"===s||(e.stopPropagation(),t=Ol(ne,a),i&&r[t])||(o=!ne.isTreeExpandByRow(a),r=ne.getColumnIndex(n),t=ne.getVMColumnIndex(n),l&&clearTimeout(l),ne.setTreeExpand(a,o).then(()=>{d&&(U.treeEATime=setTimeout(()=>{U.treeEATime=void 0,ne.scrollToRow(a)},30))}),ie("toggle-tree-expand",{expanded:o,column:n,columnIndex:r,$columnIndex:t,row:a},e))},handleColumnSortEvent(e,t){var r=z.mouseConfig,l=re.value,{field:o,sortable:a}=t;a&&(a={$table:ne,$event:e,column:t,field:o,property:o,order:t.order,sortList:W.getSortColumns(),sortTime:t.sortTime},r&&l.area&&ne.handleSortEvent&&ne.handleSortEvent(e,a),ie("sort-change",a,e))},triggerSortEvent(e,t,r){var{multiple:l,allowClear:o}=T.value,{field:a,sortable:n}=t;n&&(r&&t.order!==r?W.sort({field:a,order:r}):o&&W.clearSort(l?t:null),ne.handleColumnSortEvent(e,t))},handleCellRuleUpdateStatus(e,t,l){let o=j.validStore,{row:a,column:n}=t;if(ne.hasCellRules&&ne.hasCellRules(e,a,n)){let r=ne.getCellElement(a,n);if(r){let t=!bl().isUndefined(l);return ne.validCellRules(e,a,n,l).then(()=>{t&&o.visible&&Vl(a,n,l),ne.clearValidate(a,n)}).catch(({rule:e})=>{t&&Vl(a,n,l),ne.showValidTooltip({rule:e,row:a,column:n,cell:r})})}}return(0,El.nextTick)()},triggerHeaderCellMousedownEvent(e,t){var r=z.mouseConfig,l=re.value,o=Y.value,{trigger:a,isCrossDrag:n,isPeerDrag:i,disabledMethod:s}=J.value,d=e.currentTarget,c=d&&d.tagName&&"input"===d.tagName.toLowerCase(),u=kl(e,d,"vxe-cell--checkbox").flag,p=kl(e,d,"vxe-cell--sort").flag,h=kl(e,d,"vxe-cell--filter").flag;let m=!1;o=o.drag&&"cell"===a;c||u||p||h||(a=t.column,!o)||a.fixed||!n&&!i&&a.parentId||s&&s(t)||(m=!0,ne.handleHeaderCellDragMousedownEvent(e,t)),!m&&r&&l.area&&ne.handleHeaderCellAreaEvent&&ne.handleHeaderCellAreaEvent(e,Object.assign({cell:d,triggerSort:p,triggerFilter:h},t)),ne.focus(),ne.closeMenu&&ne.closeMenu()},triggerCellMousedownEvent(e,t){var r=t.column,{type:l,treeNode:o}=r,a="radio"===l,n="checkbox"===l,l="expand"===l,i=Z.value,{trigger:s,isCrossDrag:d,isPeerDrag:c,disabledMethod:u}=Q.value,p=e.currentTarget,h=(t.cell=p)&&p.tagName&&"input"===p.tagName.toLowerCase(),a=a&&kl(e,p,"vxe-cell--radio").flag,n=n&&kl(e,p,"vxe-cell--checkbox").flag,o=o&&kl(e,p,"vxe-tree--btn-wrapper").flag,l=l&&kl(e,p,"vxe-table--expanded").flag;let m=!1,v=(i.drag&&(m="row"===s||r.dragSort&&"cell"===s),!1);h||a||n||o||l||!m||!d&&!c&&t.level||u&&u(t)||(v=!0,ne.handleCellDragMousedownEvent(e,t)),!v&&ne.handleCellMousedownEvent&&ne.handleCellMousedownEvent(e,t),ne.focus(),ne.closeFilter(),ne.closeMenu&&ne.closeMenu()},triggerCellMouseupEvent(){Fr()},handleRowDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(zl(),0,0)},handleRowDragSwapEvent(s,e,d,c,u,t){let{treeConfig:p,dragConfig:r}=z;var l=Q.value;let{afterFullData:h,tableFullData:m,fullAllDataRowIdData:v}=U,{isPeerDrag:g,isCrossDrag:f,isSelfToChildDrag:x,dragEndMethod:o,dragToChildMethod:a}=l;l=ae.value;let{transform:b,rowField:C,mapChildrenField:w,parentField:y}=l,T=l.children||l.childrenField;l=o||(r?r.dragEndMethod:null);let E="bottom"===u?1:0,R={status:!1};if(c&&d&&c!==d){var n={oldRow:d,newRow:c,dragRow:d,dragPos:u,dragToChild:!!t,offsetIndex:E};let i=x&&a?a(n):t;return Promise.resolve(!l||l(n)).then(r=>{if(!r)return R;let e=-1,t=-1;if(p){if(b){var r=Ol(ne,d),r=v[r],l=Ol(ne,c),o=v[l];if(r&&o){var a=r.level,n=o.level;let t={},e=(bl().eachTree([d],e=>{t[Ol(ne,e)]=e},{children:w}),!1);if(a&&n)if(g&&!f){if(r.row[y]!==o.row[y])return R}else{if(!f)return R;if(t[l]&&(e=!0,!f||!x))return xl.VxeUI.modal&&xl.VxeUI.modal.message({status:"error",content:ol("vxe.error.treeDragChild")}),R}else if(a){if(!f)return R}else if(n){if(!f)return R;if(t[l]&&(e=!0,!f||!x))return xl.VxeUI.modal&&xl.VxeUI.modal.message({status:"error",content:ol("vxe.error.treeDragChild")}),R}r=bl().toTreeArray(U.afterTreeFullData,{key:C,parentKey:y,children:w}),o=ne.findRowIndexOf(r,d),a=(r.splice(o,1),ne.findRowIndexOf(r,c)),n=a+E;r.splice(n,0,d),e&&f&&x&&bl().each(d[T],e=>{e[y]=d[y]}),d[y]=i?c[C]:c[y],U.tableFullTreeData=bl().toArrayTree(r,{key:C,parentKey:y,children:T,mapChildren:w})}}}else{e=ne.findRowIndexOf(h,d);l=ne.findRowIndexOf(m,d),o=(h.splice(e,1),m.splice(l,1),ne.findRowIndexOf(h,c)),a=ne.findRowIndexOf(m,c),n=(t=o+E,a+E);h.splice(t,0,d),m.splice(n,0,d)}return j.isDragRowMove=!0,ne.handleTableData(p&&b),ne.cacheRowMap(!1),pr(),p&&b||ne.updateAfterDataIndex(),ne.checkSelectionStatus(),j.scrollYLoad&&ne.updateScrollYSpace(),s&&ie("row-dragend",{oldRow:d,newRow:c,dragRow:d,dragPos:u,dragToChild:i,offsetIndex:E,_index:{newIndex:t,oldIndex:e}},s),(0,El.nextTick)().then(()=>{ne.updateCellAreas(),ne.recalculate()}).then(()=>({status:!0}))}).catch(()=>R)}return Promise.resolve(R)},handleRowDragDragendEvent(e){var t=z.treeConfig,{fullAllDataRowIdData:r,prevDragToChild:l}=U,o=j.dragRow,a=ae.value,n=a.lazy,a=a.hasChild||a.hasChildField,{prevDragRow:i,prevDragPos:s}=U;t&&n&&l&&(t=r[Ol(ne,i)],i[a])&&(!t||!t.treeLoaded)||ne.handleRowDragSwapEvent(e,!0,o,i,s,l),Vr(),Or(),U.prevDragToChild=!1,j.dragRow=null,j.dragCol=null,setTimeout(()=>{j.isDragRowMove=!1},500)},handleRowDragDragoverEvent(r){var l=z.treeConfig,o=U.fullAllDataRowIdData;let e=j.dragRow;var a=ae.value,{lazy:n,transform:i,parentField:s}=a,a=a.hasChild||a.hasChildField,{isPeerDrag:d,isCrossDrag:c,isToChildDrag:u}=Q.value;if(e){var p=r.ctrlKey,h=r.currentTarget;let e=h.getAttribute("rowid")||"";var m=o[e];if(m){var v=m.row;let e=Ol(ne,v);o=o[e];r.preventDefault();let t=j.dragRow;var g=r.clientY-h.getBoundingClientRect().y<h.clientHeight/2?"top":"bottom";U.prevDragToChild=!!(l&&i&&c&&u&&p),U.prevDragRow=v,U.prevDragPos=g,ne.eqRow(t,v)||p&&l&&n&&v[a]&&o&&!o.treeLoaded||!c&&l&&i&&(d?t[s]!==v[s]:m.level)?Lr(r,h,null,!1,g):(Lr(r,h,null,!0,g),ie("row-dragover",{oldRow:t,targetRow:v,dragPos:g},r))}}else r.preventDefault()},handleCellDragMousedownEvent(e,t){e.stopPropagation();var r=z.dragConfig,{trigger:l,dragStartMethod:o}=Q.value,a=t.row,n=e.currentTarget,l="cell"===l||"row"===l?n:n.parentElement?.parentElement,n=l.parentElement,o=o||(r?r.dragStartMethod:null);Or(),o&&!o(t)?(n.draggable=!1,j.dragRow=null,j.dragCol=null,Vr()):(j.dragRow=a,j.dragCol=null,n.draggable=!0,(e=>{var t=X.value;if(t){e=Ol(ne,e);bl().arrayEach(t.querySelectorAll(`[rowid="${e}"]`),e=>{Il(e,"row--drag-origin")})}})(a),(e=>{var t=z.dragConfig,r=j.dragRow,l=Q.value.tooltipMethod,l=l||(t?t.rowTooltipMethod:null);let o="";o=l?""+(l({row:r})||""):ol("vxe.table.dragTip",[e.textContent||""]),j.dragTipText=o})(l),ie("row-dragstart",t,e))},handleCellDragMouseupEvent(){Fr()},handleHeaderCellDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(zl(),0,0)},handleColDragSwapColumn(){ir(),cr(!1).then(()=>{ne.updateCellAreas(),ne.saveCustomStore("update:sort")})},handleColDragSwapEvent(u,p,e,t,h,r){let m=z.mouseConfig;let{isPeerDrag:v,isCrossDrag:g,isSelfToChildDrag:f,isToChildDrag:x,dragEndMethod:l,dragToChildMethod:o}=J.value,b=U.collectColumn,C="right"===h?1:0,w={status:!1};if(t&&e&&t!==e){let s=e,d=t;e={oldColumn:s,newColumn:d,dragColumn:s,dragPos:h,dragToChild:!!r,offsetIndex:C};let c=f&&o?o(e):r;return Promise.resolve(!l||l(e)).then(e=>{if(!e)return w;let t=-1,r=-1,l={},o=(bl().eachTree([s],e=>{l[e.id]=e}),!1);if(s.parentId&&d.parentId)if(v&&!g){if(s.parentId!==d.parentId)return w}else{if(!g)return w;if(l[d.id]&&(o=!0,!g||!f))return xl.VxeUI.modal&&xl.VxeUI.modal.message({status:"error",content:ol("vxe.error.treeDragChild")}),w}else if(s.parentId){if(!g)return w}else if(d.parentId){if(!g)return w;if(l[d.id]&&(o=!0,!g||!f))return xl.VxeUI.modal&&xl.VxeUI.modal.message({status:"error",content:ol("vxe.error.treeDragChild")}),w}var a,n,i,e=bl().findTree(b,e=>e.id===s.id),e=(o&&g&&f?e&&({items:a,index:i}=e,(n=s.children||[]).forEach(e=>{e.parentId=s.parentId}),a.splice(i,1,...n),s.children=[]):e&&({items:a,index:i,parent:n}=e,a.splice(i,1),n||(t=i)),bl().findTree(b,e=>e.id===d.id));return e&&({items:a,index:n,parent:i}=e,g&&x&&c?(s.parentId=d.id,d.children=(d.children||[]).concat([s])):(s.parentId=d.parentId,a.splice(n+C,0,s)),i||(r=n)),bl().eachTree(b,(e,t,r,l,o)=>{o||(e.renderSortNumber=t+1)}),j.isDragColMove=!0,m&&(ne.clearSelected&&ne.clearSelected(),ne.clearCellAreas)&&(ne.clearCellAreas(),ne.clearCopyCellArea()),u&&ie("column-dragend",{oldColumn:s,newColumn:d,dragColumn:s,dragPos:h,dragToChild:c,offsetIndex:C,_index:{newIndex:r,oldIndex:t}},u),p&&ne.handleColDragSwapColumn(),{status:!0}}).catch(()=>w)}return Promise.resolve(w)},handleHeaderCellDragDragendEvent(e){var t=j.dragCol,{prevDragCol:r,prevDragPos:l,prevDragToChild:o}=U;ne.handleColDragSwapEvent(e,!0,t,r,l,o),Vr(),Ar(),U.prevDragToChild=!1,j.dragRow=null,j.dragCol=null,setTimeout(()=>{j.isDragColMove=!1,ne.recalculate().then(()=>{sr()})},500)},handleHeaderCellDragDragoverEvent(e){var t,r,l,o,a,n=j.dragCol,{isToChildDrag:i,isPeerDrag:s,isCrossDrag:d}=J.value;n?(a=e.ctrlKey,l=(r=e.currentTarget).getAttribute("colid"),(l=ne.getColumnById(l))&&(e.preventDefault(),t=e.clientX,o=t-r.getBoundingClientRect().x<r.clientWidth/2?"left":"right",U.prevDragToChild=!!(d&&i&&a),U.prevDragCol=l,U.prevDragPos=o,l.fixed||n&&n.id===l.id||!d&&(s?n.parentId!==l.parentId:l.parentId)?Lr(e,null,r,!1,o):(Lr(e,null,r,!0,o),ie("column-dragover",{oldColumn:n,targetColumn:l,dragPos:o},e),(i=X.value)&&(a=S.value,s=(d=b.value)?d.$el:null,r=a||s)&&(n=i.getBoundingClientRect(),l=i.clientWidth,d=(o=B.value)?o.clientWidth:0,s=(a=N.value)?a.clientWidth:0,i=t-(n.x+d),o=n.x+l-s-t,0<i&&i<=28?(a=Math.floor(l/(14<i?240:120)),r.scrollLeft-=a*(28-i)):0<o&&o<=28&&(d=Math.floor(l/(14<o?240:120)),r.scrollLeft+=d*(28-o)))))):e.preventDefault()},handleHeaderCellDragMousedownEvent(e,t){e.stopPropagation();var{trigger:r,dragStartMethod:l}=J.value,o=t.column,a=e.currentTarget,r="cell"===r?a:a.parentElement?.parentElement;j.isDragColMove=!1,Ar(),l&&!l(t)?(r.draggable=!1,j.dragRow=null,j.dragCol=null,Vr()):(j.dragCol=o,j.dragRow=null,r.draggable=!0,(e=>{var r=X.value;if(r){let t=[];bl().eachTree([e],e=>{t.push(`[colid="${e.id}"]`)});bl().arrayEach(r.querySelectorAll(t.join(",")),e=>{Il(e,"col--drag-origin")})}})(o),(e=>{var t=j.dragCol,r=J.value.tooltipMethod;let l="";l=r?""+(r({column:t})||""):ol("vxe.table.dragTip",[e.textContent||""]),j.dragTipText=l})(r),ie("column-dragstart",t,e))},handleHeaderCellDragMouseupEvent(){Ar(),Vr(),j.dragRow=null,j.dragCol=null,j.isDragColMove=!1},handleScrollEvent(d,c,u,p,h,m){var v=z.highlightHoverRow,{lastScrollLeft:g,lastScrollTop:f}=U,x=S.value,b=I.value;if(x&&b){var C=Z.value,w=ge.value,y=K.value,T=b.clientHeight,E=x.clientWidth,b=b.scrollHeight,x=x.scrollWidth;let e=!1,t=!1,r=!1,l=!1,o="",a=!1,n=!1,i=!1,s=!1;u&&(R=$.value,(r=h<=0)||(l=x<=h+E),g<h?(o="right",x-R<=h+E&&(s=!0)):(o="left",h<=R&&(i=!0)),ne.checkScrolling(),U.lastScrollLeft=h),c&&(g=$e.value,(e=p<=0)||(t=b<=p+T),f<p?(o="bottom",b-g<=p+T&&(n=!0)):(o="top",p<=g&&(a=!0)),U.lastScrollTop=p),j.isDragColMove=!1,j.isDragRowMove=!1,j.lastScrollTime=Date.now();var R={scrollTop:p,scrollLeft:h,bodyHeight:T,bodyWidth:E,scrollHeight:b,scrollWidth:x,isX:u,isY:c,isTop:e,isBottom:t,isLeft:r,isRight:l,direction:o,...m};L(),((e,t)=>{let{scrollXLoad:r,scrollYLoad:l}=j;var o=U.lcsTimeout;o&&clearTimeout(o),U.lcsTimeout=setTimeout(()=>{U.lcsRunTime=Date.now(),U.lcsTimeout=void 0,U.intoRunScroll=!1,U.inVirtualScroll=!1,U.inWheelScroll=!1,U.inHeaderScroll=!1,U.inBodyScroll=!1,U.inFooterScroll=!1,U.scrollRenderType="",Bt(),e&&r&&ne.updateScrollXData(),t&&l&&ne.updateScrollYData().then(()=>{Bt(),ne.updateScrollYSpace()}),L(),ne.updateCellAreas()},200)})(u,c),u&&ne.closeFilter(),(C.isHover||v)&&ne.clearHoverRow(),w&&w.reactData.visible&&w.close(),y&&y.reactData.visible&&y.close(),(n||a||s||i)&&ie("scroll-boundary",R,d),ie("scroll",R,d)}},triggerScrollXEvent(){(R.value.immediate?sr:()=>{var{lxTimeout:e,lxRunTime:t,scrollXStore:r}=U,r=r.visibleSize,r=Math.max(5,Math.min(10,Math.floor(r/3)));e&&clearTimeout(e),(!t||t+r<Date.now())&&(U.lxRunTime=Date.now(),sr()),U.lxTimeout=setTimeout(()=>{U.lxTimeout=void 0,U.lxRunTime=void 0,sr()},r)})()},triggerScrollYEvent(){(D.value.immediate?vr:()=>{var{lyTimeout:e,lyRunTime:t,scrollYStore:r}=U,r=r.visibleSize,r=Math.floor(Math.max(4,Math.min(10,r/3)));e&&clearTimeout(e),(!t||t+r<Date.now())&&(U.lyRunTime=Date.now(),vr()),U.lyTimeout=setTimeout(()=>{U.lyTimeout=void 0,U.lyRunTime=void 0,vr()},r)})()},triggerBodyScrollEvent(r,l){var{scrollYLoad:o,scrollXLoad:a}=j,{elemStore:n,intoRunScroll:i,lastScrollTop:s,lastScrollLeft:d,inWheelScroll:c,inVirtualScroll:u,inHeaderScroll:p,inBodyScroll:h,scrollRenderType:e,inFooterScroll:m}=U;if(!(c||u||p||m)){var c=S.value,u=I.value,p=Hl(n["left-body-scroll"]),m=Hl(n["main-body-scroll"]),v=Hl(n["right-body-scroll"]),g=Hl(n["main-header-scroll"]),n=Hl(n["main-footer-scroll"]),f=P.value;if(!i&&m&&c&&u&&(!h||e===l)){let e=u.scrollTop,t=c.scrollLeft;p&&"left"===l?e=p.scrollTop:v&&"right"===l?e=v.scrollTop:(e=m.scrollTop,t=m.scrollLeft);i=t!==d,h=e!==s;U.inBodyScroll=!0,U.scrollRenderType=l,h&&("left"===l?(Dl(m,e),Dl(v,e)):"right"===l?(Dl(m,e),Dl(p,e)):(Dl(p,e),Dl(v,e)),Dl(u,e),Dl(f,e),o)&&ne.triggerScrollYEvent(r),i&&(Ml(c,t),Ml(g,t),Ml(n,t),a)&&ne.triggerScrollXEvent(r),ne.handleScrollEvent(r,h,i,e,t,{type:"body",fixed:l})}}},triggerHeaderScrollEvent(e,t){var r=j.scrollXLoad,{elemStore:l,intoRunScroll:o,inWheelScroll:a,inVirtualScroll:n,inBodyScroll:i,inFooterScroll:s}=U;a||n||i||s||(a=I.value,n=S.value,i=Hl(l["main-body-scroll"]),s=Hl(l["main-header-scroll"]),l=Hl(l["main-footer-scroll"]),o)||s&&n&&a&&(o=a.scrollTop,a=s.scrollLeft,U.inHeaderScroll=!0,Ml(n,a),Ml(l,a),Ml(i,a),r&&ne.triggerScrollXEvent(e),ne.handleScrollEvent(e,!1,!0,o,a,{type:"header",fixed:t}))},triggerFooterScrollEvent(e,t){var r=j.scrollXLoad,{elemStore:l,intoRunScroll:o,inWheelScroll:a,inVirtualScroll:n,inHeaderScroll:i,inBodyScroll:s}=U;a||n||i||s||(a=I.value,n=S.value,i=Hl(l["main-body-scroll"]),s=Hl(l["main-header-scroll"]),l=Hl(l["main-footer-scroll"]),o)||l&&n&&a&&(o=a.scrollTop,a=l.scrollLeft,U.inFooterScroll=!0,Ml(n,a),Ml(s,a),Ml(i,a),r&&ne.triggerScrollXEvent(e),ne.handleScrollEvent(e,!1,!0,o,a,{type:"footer",fixed:t}))},triggerBodyWheelEvent(h){var{target:m,deltaY:v,deltaX:g,shiftKey:f}=h;if(!m||!/^textarea$/i.test(m.tagName)){m=ao.highlightHoverRow;let{scrollXLoad:u,scrollYLoad:p,expandColumn:e}=j;var x=Ye.value,b=Ze.value;if(x||b||e){var{elemStore:x,lastScrollTop:b,lastScrollLeft:C}=U,w=Z.value;let l=S.value,o=I.value,a=Hl(x["left-body-scroll"]),n=Hl(x["main-header-scroll"]),i=Hl(x["main-body-scroll"]),s=Hl(x["main-footer-scroll"]),d=Hl(x["right-body-scroll"]),c=P.value;if(l&&o&&i){var x=(e=>{let t=1;var r=Date.now();return r<e+25?t=1.18:r<e+30?t=1.15:r<e+40?t=1.12:r<e+55?t=1.09:r<e+75?t=1.06:r<e+100&&(t=1.03),t})(j.lastScrollTime),y=f?0:Math.ceil(v*x),f=f?Math.ceil((f&&v||g)*x):0,v=y<0,g=i.scrollTop;if(!(v?g<=0:g>=i.scrollHeight-i.clientHeight)){var T,E,x=g+y,v=i.scrollLeft+f;let t=v!==C,r=x!==b;(w.isHover||m)&&ne.clearHoverRow(),t&&(h.preventDefault(),U.inWheelScroll=!0,T=v,E=e=>{U.inWheelScroll=!0;Ml(l,e),Ml(i,e),Ml(n,e),Ml(s,e),u&&ne.triggerScrollXEvent(h),ne.handleScrollEvent(h,r,t,i.scrollTop,e,{type:"table",fixed:""})},requestAnimationFrame(()=>{E(T)})),r&&(h.preventDefault(),U.inWheelScroll=!0,((r,l)=>{let o=Math.abs(r),a=performance.now(),n=0,i=e=>{let t=(e-a)/o;1<t&&(t=1);e=Math.pow(t,2),e=Math.floor(r*e)-n;n+=e,l(e),t<1&&requestAnimationFrame(i)};requestAnimationFrame(i)})(x-g,e=>{U.inWheelScroll=!0;e=i.scrollTop+e;Dl(o,e),Dl(i,e),Dl(a,e),Dl(d,e),Dl(c,e),p&&ne.triggerScrollYEvent(h),ne.handleScrollEvent(h,r,t,e,i.scrollLeft,{type:"table",fixed:""})}))}}}}},triggerVirtualScrollXEvent(t){var r=j.scrollXLoad,{elemStore:l,inWheelScroll:o,lastScrollTop:a,inHeaderScroll:n,inBodyScroll:i,inFooterScroll:s}=U;if(!(n||i||s||o)){n=Hl(l["main-header-scroll"]),i=Hl(l["main-body-scroll"]),s=Hl(l["main-footer-scroll"]),o=I.value,l=t.currentTarget.scrollLeft,o=o||i;let e=0;o=(e=o?o.scrollTop:e)!==a;U.inVirtualScroll=!0,Ml(i,l),Ml(n,l),Ml(s,l),r&&ne.triggerScrollXEvent(t),ne.handleScrollEvent(t,o,!0,e,l,{type:"table",fixed:""})}},triggerVirtualScrollYEvent(t){var r=j.scrollYLoad,{elemStore:l,inWheelScroll:o,lastScrollLeft:a,inHeaderScroll:n,inBodyScroll:i,inFooterScroll:s}=U;if(!(n||i||s||o)){var n=Hl(l["left-body-scroll"]),i=Hl(l["main-body-scroll"]),s=Hl(l["right-body-scroll"]),o=P.value,l=S.value,d=t.currentTarget.scrollTop,l=l||i;let e=0;l=(e=l?l.scrollLeft:e)!==a;U.inVirtualScroll=!0,Dl(i,d),Dl(n,d),Dl(s,d),Dl(o,d),r&&ne.triggerScrollYEvent(t),ne.handleScrollEvent(t,!0,l,d,e,{type:"table",fixed:""})}},scrollToTreeRow(t){var e=z.treeConfig,l=U.tableFullData;let o=[];if(e){e=ae.value,e=e.children||e.childrenField,l=bl().findTree(l,e=>ne.eqRow(e,t),{children:e});if(l){let r=l.nodes;r.forEach((e,t)=>{t<r.length-1&&!W.isTreeExpandByRow(e)&&o.push(W.setTreeExpand(e,!0))})}}return Promise.all(o).then(()=>Jl(ne,t))},updateScrollYStatus:pr,updateScrollXSpace(){let{isGroup:a,scrollXLoad:n,overflowX:i,scrollXWidth:s}=j,{visibleColumn:d,scrollXStore:c,elemStore:u,fullColumnIdData:p}=U;var h=re.value,m=b.value;if(m?m.$el:null){var m=Hl(u["main-body-scroll"]),v=Hl(u["main-body-table"]),g=Hl(u["main-header-table"]),f=Hl(u["main-footer-table"]);let e=0;var x=d[c.startIndex];x&&(x=p[x.id]||{},e=x.oLeft);let t=0,r=(m&&(t=m.clientWidth),!1),l=s,o=(5e6<s&&(e=m&&v&&5e6<=m.scrollLeft+t?5e6-v.clientWidth:(5e6-t)*(e/(s-t)),l=5e6,r=!0),"");n&&i&&(o=e+"px"),g&&(g.style.marginLeft=a?"":o),v&&(v.style.marginLeft=o),f&&(f.style.marginLeft=o),j.isScrollXBig=r;["main"].forEach(t=>{["header","body","footer"].forEach(e=>{e=Hl(u[t+`-${e}-xSpace`]);e&&(e.style.width=n?l+"px":"")})});x=C.value;return x&&(x.style.width=l+"px"),r&&h.area&&tl("vxe.error.notProp",["mouse-config.area"]),tr(),(0,El.nextTick)().then(()=>{O()})}},updateScrollYSpace(){var{isAllOverflow:e,scrollYLoad:t,expandColumn:r}=j;let{scrollYStore:l,elemStore:o,isResizeCellHeight:a,afterFullData:n,fullAllDataRowIdData:i,rowExpandedMaps:s}=U;var d=l.startIndex,c=re.value,u=oe.value,p=Z.value,h=M.value,m=E.value,v=Hl(o["main-body-scroll"]),g=Hl(o["main-body-table"]);let f=0,x=0,b=!1,C=(t?a||h.height||p.height||r||!e?(t=n[d],e=i[Ol(ne,t)]||{},f=e.oTop||0,t=n[n.length-1],e=i[t=Ol(ne,t)]||{},x=(e.oTop||0)+(e.resizeHeight||h.height||p.height||e.height||m),r&&s[t]&&(x+=e.expandHeight||u.height||0),5e6<x&&(b=!0)):(5e6<(x=n.length*m)&&(b=!0),f=Math.max(0,d*m)):g&&(x=g.clientHeight),0),w=(v&&(C=v.clientHeight),x),y=f;b&&(y=v&&g&&5e6<=v.scrollTop+C?5e6-g.clientHeight:(5e6-C)*(f/(x-C)),w=5e6),["main","left","right"].forEach(t=>{var e=Hl(o[t+"-body-table"]);e&&(e.style.marginTop=y?y+"px":""),["header","body","footer"].forEach(e=>{e=Hl(o[t+`-${e}-ySpace`]);e&&(e.style.height=w?w+"px":"")})});h=H.value,h&&(h.style.height=w?w+"px":""),p=V.value;return p&&(p.style.height=w?w+"px":""),j.scrollYTop=y,j.scrollYHeight=x,(j.isScrollYBig=b)&&c.area&&tl("vxe.error.notProp",["mouse-config.area"]),tr(),(0,El.nextTick)().then(()=>{O()})},updateScrollXData(){let e=j.isAllOverflow;return nr(),ne.updateScrollXSpace(),(0,El.nextTick)().then(()=>{nr(),ne.updateScrollXSpace(),e||ne.updateScrollYSpace()})},updateScrollYData(){return ne.handleTableData(),ne.updateScrollYSpace(),(0,El.nextTick)().then(()=>{ne.handleTableData(),ne.updateScrollYSpace()})},checkScrolling(){var e=U.elemStore,e=Hl(e["main-body-scroll"]),t=B.value,r=N.value,e=S.value||e;e&&(t&&(0<e.scrollLeft?Il:Sl)(t,"scrolling--middle"),r)&&(e.clientWidth<e.scrollWidth-Math.ceil(e.scrollLeft)?Il:Sl)(r,"scrolling--middle")},updateZindex(){z.zIndex?U.tZindex=z.zIndex:U.tZindex<Bl()&&(U.tZindex=_l())},handleCheckedCheckboxRow:g,triggerHoverEvent(e,{row:t}){q.setHoverRow(t)},setHoverRow(e){var t=Ol(ne,e),r=X.value;q.clearHoverRow(),r&&bl().arrayEach(r.querySelectorAll(`.vxe-body--row[rowid="${t}"]`),e=>Il(e,"row--hover")),U.hoverRow=e},clearHoverRow(){var e=X.value;e&&bl().arrayEach(e.querySelectorAll(".vxe-body--row.row--hover"),e=>Sl(e,"row--hover")),U.hoverRow=null},getCell(e,t){return W.getCellElement(e,t)},findRowIndexOf(e,t){return t?bl().findIndexOf(e,e=>ne.eqRow(e,t)):-1},eqRow(e,t){return!(!e||!t||e!==t&&Ol(ne,e)!==Ol(ne,t))}},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach(e=>{ne[e]=function(){tl("vxe.error.reqModule",["VxeTableExportModule"])}}),"clearValidate,fullValidate,validate".split(",").forEach(e=>{ne[e]=function(){tl("vxe.error.reqModule",["VxeTableValidatorModule"])}}),Object.assign(ne,W,q),e=>{var{showHeader:t,showFooter:r}=z,{tableData:l,tableColumn:o,tableGroupColumn:a,columnStore:n,footerTableData:i}=j,s="left"===e,n=s?n.leftList:n.rightList;return(0,El.h)("div",{ref:s?B:N,class:`vxe-table--fixed-${e}-wrapper`},[t?(0,El.h)(lo,{ref:s?p:v,fixedType:e,tableData:l,tableColumn:o,tableGroupColumn:a,fixedColumn:n}):il(ne),(0,El.h)(ro,{ref:s?h:f,fixedType:e,tableData:l,tableColumn:o,fixedColumn:n}),r?(0,El.h)(oo,{ref:s?m:x,footerTableData:i,tableColumn:o,fixedColumn:n,fixedType:e}):il(ne)])}),Br=()=>{var e=z.dragConfig,{dragRow:t,dragCol:r,dragTipText:l}=j,o=J.value,e=(Q.value.slots||{}).tip||(e&&e.slots?e.slots.rowTip:null),o=(o.slots||{}).tip;return t&&e?$r(e,{row:t}):r&&o?$r(o,{column:r}):[(0,El.h)("span",l)]},Nr=()=>{let v=z.treeConfig,g=j.expandColumn;var e=dt.value,t=oe.value.mode;if("fixed"!==t)return il(ne);let f=[(0,El.h)("div",{key:"repY",ref:V})];if(g){let m=Al(ne).handleGetRowId;e.forEach(e=>{var{height:t,padding:r}=oe.value,l=U.fullAllDataRowIdData,o=ae.value,{transform:a,seqMode:n}=o,i={},s=m(e),l=l[s];let d=0,c=-1,u=-1,p=-1,h=-1;l&&(d=l.level,c=v&&a&&"increasing"===n?l._index+1:l.seq,p=l.index,h=l.$index,u=l._index),t&&(i.height=t+"px"),v&&(i.paddingLeft=d*o.indent+30+"px");a={$table:ne,seq:c,column:g,fixed:"",type:"body",level:d,row:e,rowIndex:p,$rowIndex:h,_rowIndex:u};f.push((0,El.h)("div",{key:s,class:["vxe-body--row-expanded-cell",{"is--padding":r,"is--ellipsis":t}],rowid:s,style:i},g.renderData(a)))})}return(0,El.h)("div",{ref:P,class:"vxe-table--row-expanded-wrapper"},f)},Pr=()=>(0,El.h)("div",{key:"vsx",ref:Se,class:"vxe-table--scroll-x-virtual"},[(0,El.h)("div",{ref:De,class:"vxe-table--scroll-x-left-corner"}),(0,El.h)("div",{ref:Fe,class:"vxe-table--scroll-x-wrapper"},[(0,El.h)("div",{ref:S,class:"vxe-table--scroll-x-handle",onScroll:ne.triggerVirtualScrollXEvent},[(0,El.h)("div",{ref:C,class:"vxe-table--scroll-x-space"})])]),(0,El.h)("div",{ref:Me,class:"vxe-table--scroll-x-right-corner"})]),zr=()=>(0,El.h)("div",{ref:Ie,class:"vxe-table--scroll-y-virtual"},[(0,El.h)("div",{ref:ke,class:"vxe-table--scroll-y-top-corner"}),(0,El.h)("div",{ref:Oe,class:"vxe-table--scroll-y-wrapper"},[(0,El.h)("div",{ref:I,class:"vxe-table--scroll-y-handle",onScroll:ne.triggerVirtualScrollYEvent},[(0,El.h)("div",{ref:H,class:"vxe-table--scroll-y-space"})])]),(0,El.h)("div",{ref:Ae,class:"vxe-table--scroll-y-bottom-corner"})]),jr=()=>{var{showHeader:e,showFooter:t}=z,{overflowX:r,tableData:l,tableColumn:o,tableGroupColumn:a,footerTableData:n,columnStore:i}=j,{leftList:i,rightList:s}=i;return(0,El.h)("div",{ref:d,class:"vxe-table--viewport-wrapper"},[(0,El.h)("div",{class:"vxe-table--main-wrapper"},[e?(0,El.h)(lo,{ref:c,tableData:l,tableColumn:o,tableGroupColumn:a}):il(ne),(0,El.h)(ro,{ref:b,tableData:l,tableColumn:o}),t?(0,El.h)(oo,{ref:u,footerTableData:n,tableColumn:o}):il(ne)]),(0,El.h)("div",{class:"vxe-table--fixed-wrapper"},[i&&i.length&&r?_r("left"):il(ne),s&&s.length&&r?_r("right"):il(ne)]),Nr()])},Ur=()=>{var e=He.value;return(0,El.h)("div",{class:"vxe-table--layout-wrapper"},e?[zr(),jr()]:[jr(),zr()])};let Wr=(0,El.ref)(0),qr=((0,El.watch)(()=>z.data?z.data.length:-1,()=>{Wr.value++}),(0,El.watch)(()=>z.data,()=>{Wr.value++}),(0,El.watch)(Wr,()=>{let o=U.initStatus;var e=z.data||[];e&&5e4<=e.length&&el("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),lr(e,!1).then(()=>{var{scrollXLoad:e,scrollYLoad:t,expandColumn:r}=j,l=oe.value;return U.inited=!0,U.initStatus=!0,o||or(),(e||t)&&r&&"fixed"!==l.mode&&el("vxe.error.scrollErrProp",["column.type=expand"]),W.recalculate()})}),(0,El.ref)(0)),Xr=((0,El.watch)(()=>j.staticColumns.length,()=>{qr.value++}),(0,El.watch)(()=>j.staticColumns,()=>{qr.value++}),(0,El.watch)(qr,()=>{ur(bl().clone(j.staticColumns))}),(0,El.ref)(0)),Kr=((0,El.watch)(()=>j.tableColumn.length,()=>{Xr.value++}),(0,El.watch)(()=>j.tableColumn,()=>{Xr.value++}),(0,El.watch)(Xr,()=>{q.analyColumnWidth()}),(0,El.watch)(()=>j.upDataFlag,()=>{(0,El.nextTick)(()=>{W.updateData()})}),(0,El.watch)(()=>j.reColumnFlag,()=>{(0,El.nextTick)(()=>{W.refreshColumn()})}),(0,El.ref)(0)),Gr=((0,El.watch)(he,()=>{Kr.value++}),(0,El.watch)(()=>z.showHeader,()=>{Kr.value++}),(0,El.watch)(()=>z.showFooter,()=>{Kr.value++}),(0,El.watch)(()=>j.overflowX,()=>{Kr.value++}),(0,El.watch)(()=>j.overflowY,()=>{Kr.value++}),(0,El.watch)(Kr,()=>{(0,El.nextTick)(()=>{W.recalculate(!0).then(()=>W.refreshScroll())})}),(0,El.ref)(0)),Yr=((0,El.watch)(()=>z.height,()=>{Gr.value++}),(0,El.watch)(()=>z.maxHeight,()=>{Gr.value++}),(0,El.watch)(Ve,()=>{Gr.value++}),(0,El.watch)(He,()=>{Gr.value++}),(0,El.watch)(()=>xl.VxeUI.getLanguage(),()=>{Gr.value++}),(0,El.watch)(Gr,()=>{(0,El.nextTick)(()=>W.recalculate(!0))}),(0,El.ref)(0)),Zr=((0,El.watch)(()=>z.footerData?z.footerData.length:-1,()=>{Yr.value++}),(0,El.watch)(()=>z.footerData,()=>{Yr.value++}),(0,El.watch)(Yr,()=>{W.updateFooter()}),(0,El.watch)(()=>z.syncResize,e=>{e&&(gr(),(0,El.nextTick)(()=>{gr(),setTimeout(()=>gr())}))}),(0,El.ref)(0)),Qr=((0,El.watch)(()=>z.mergeCells?z.mergeCells.length:-1,()=>{Zr.value++}),(0,El.watch)(()=>z.mergeCells,()=>{Zr.value++}),(0,El.watch)(Zr,()=>{W.clearMergeCells(),(0,El.nextTick)(()=>{z.mergeCells&&W.setMergeCells(z.mergeCells)})}),(0,El.ref)(0));(0,El.watch)(()=>z.mergeFooterItems?z.mergeFooterItems.length:-1,()=>{Qr.value++}),(0,El.watch)(()=>z.mergeFooterItems,()=>{Qr.value++}),(0,El.watch)(Qr,()=>{W.clearMergeFooterItems(),(0,El.nextTick)(()=>{z.mergeFooterItems&&W.setMergeFooterItems(z.mergeFooterItems)})}),t&&(0,El.watch)(()=>t?t.reactData.resizeFlag:null,()=>{Mr()}),vl.forEach(e=>{var e=e.setupTable;e&&(e=e(ne))&&bl().isObject(e)&&Object.assign(ne,e)}),q.preventEvent(null,"created",{$table:ne});let Jr;return(0,El.onActivated)(()=>{W.recalculate().then(()=>W.refreshScroll()),q.preventEvent(null,"activated",{$table:ne})}),(0,El.onDeactivated)(()=>{U.isActivated=!1,q.preventEvent(null,"deactivated",{$table:ne})}),(0,El.onMounted)(()=>{let E=Y.value;var e=Z.value,t=F.value,e=((E.drag||e.drag||t.allowSort)&&Pl(),(0,El.nextTick)(()=>{let{data:e,exportConfig:t,importConfig:r,treeConfig:l,showOverflow:o,highlightCurrentRow:a,highlightCurrentColumn:n}=z;var{scrollXStore:i,scrollYStore:s}=U,d=te.value,c=ae.value,u=k.value,p=ee.value,h=oe.value,m=Z.value,v=F.value,g=re.value;let f=lt.value,x=ot.value;var b=Be.value,C=_e.value,w=R.value,y=D.value,T=le.value;z.rowId&&el("vxe.error.delProp",["row-id","row-config.keyField"]),z.rowKey&&el("vxe.error.delProp",["row-key","row-config.useKey"]),z.columnKey&&el("vxe.error.delProp",["column-id","column-config.useKey"]),z.rowId||m.keyField||!(p.reserve||p.checkRowKeys||u.reserve||u.checkRowKey||h.expandRowKeys||c.expandRowKeys)||el("vxe.error.reqProp",["row-config.keyField"]),z.editConfig&&(d.showStatus||d.showUpdateStatus||d.showInsertStatus)&&!z.keepSource&&el("vxe.error.reqProp",["keep-source"]),!l||!c.showLine&&!c.line||(z.rowKey||m.useKey)&&o||el("vxe.error.reqProp",["row-config.useKey | show-overflow"]),l&&!c.transform&&z.stripe&&el("vxe.error.noTree",["stripe"]),!z.showFooter||z.footerMethod||z.footerData||el("vxe.error.reqProp",["footer-data | footer-method"]),m.height&&el("vxe.error.delProp",["row-config.height","cell-config.height"]),z.highlightCurrentRow&&el("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),z.highlightHoverRow&&el("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),z.highlightCurrentColumn&&el("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),z.highlightHoverColumn&&el("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),z.resizable&&el("vxe.error.delProp",["resizable","column-config.resizable"]),r&&x.types&&!x.importMethod&&!bl().includeArrays(bl().keys(x._typeMaps),x.types)&&el("vxe.error.errProp",["export-config.types="+x.types.join(","),x.types.filter(e=>bl().includes(bl().keys(x._typeMaps),e)).join(",")||bl().keys(x._typeMaps).join(",")]),t&&f.types&&!f.exportMethod&&!bl().includeArrays(bl().keys(f._typeMaps),f.types)&&el("vxe.error.errProp",["export-config.types="+f.types.join(","),f.types.filter(e=>bl().includes(bl().keys(f._typeMaps),e)).join(",")||bl().keys(f._typeMaps).join(",")]),z.id||(z.customConfig?Cl(v):v.enabled)&&v.storage&&tl("vxe.error.reqProp",["id"]),z.treeConfig&&p.range&&tl("vxe.error.noTree",["checkbox-config.range"]),m.height&&!z.showOverflow&&el("vxe.error.notProp",["table.show-overflow"]),!ne.triggerCellAreaMousedownEvent&&(z.areaConfig&&el("vxe.error.notProp",["area-config"]),z.clipConfig&&el("vxe.error.notProp",["clip-config"]),z.fnrConfig&&el("vxe.error.notProp",["fnr-config"]),g.area)?tl("vxe.error.notProp",["mouse-config.area"]):(l&&m.drag&&!c.transform&&tl("vxe.error.notSupportProp",["column-config.drag","tree-config.transform=false","tree-config.transform=true"]),z.dragConfig&&el("vxe.error.delProp",["drag-config","row-drag-config"]),z.treeConfig&&c.children&&el("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),z.treeConfig&&c.line&&el("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),g.area&&g.selected&&el("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),g.area&&z.treeConfig&&!c.transform&&tl("vxe.error.noTree",["mouse-config.area"]),z.editConfig&&d.activeMethod&&el("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),z.treeConfig&&p.isShiftKey&&tl("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),p.halfField&&el("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),m.currentMethod&&el("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),E.currentMethod&&el("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(m.isCurrent||a)&&z.keyboardConfig&&T.isArrow&&!bl().isBoolean(b.isFollowSelected)&&el("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(E.isCurrent||n)&&z.keyboardConfig&&T.isArrow&&!bl().isBoolean(C.isFollowSelected)&&el("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),z.spanMethod&&(w.enabled&&el("vxe.error.notConflictProp",["span-method","virtual-x-config.enabled=false"]),y.enabled)&&el("vxe.error.notConflictProp",["span-method","virtual-y-config.enabled=false"]),z.footerSpanMethod&&w.enabled&&el("vxe.error.notConflictProp",["footer-span-method","virtual-x-config.enabled=false"]),z.editConfig&&!ne.insert&&tl("vxe.error.reqModule",["Edit"]),z.editRules&&!ne.validate&&tl("vxe.error.reqModule",["Validator"]),(p.range||z.keyboardConfig||z.mouseConfig)&&!ne.handleCellMousedownEvent&&tl("vxe.error.reqModule",["Keyboard"]),(z.printConfig||z.importConfig||z.exportConfig)&&!ne.exportData&&tl("vxe.error.reqModule",["Export"]),Object.assign(s,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(i,{startIndex:0,endIndex:0,visibleSize:0}),lr(e||[],!0).then(()=>{e&&e.length&&(U.inited=!0,U.initStatus=!0,or()),ar(),O()}),z.autoResize&&(u=X.value,h=q.getParentElem(),Jr=hl.create(()=>{z.autoResize&&W.recalculate(!0)}),u&&Jr.observe(u),h)&&Jr.observe(h))}),d.value);e&&e.addEventListener("wheel",ne.triggerBodyWheelEvent,{passive:!1}),al.on(ne,"paste",Sr),al.on(ne,"copy",Ir),al.on(ne,"cut",Dr),al.on(ne,"mousedown",wr),al.on(ne,"blur",yr),al.on(ne,"mousewheel",Tr),al.on(ne,"keydown",Rr),al.on(ne,"resize",Mr),al.on(ne,"contextmenu",ne.handleGlobalContextmenuEvent),q.preventEvent(null,"mounted",{$table:ne})}),(0,El.onBeforeUnmount)(()=>{var e=d.value;e&&e.removeEventListener("wheel",ne.triggerBodyWheelEvent),Jr&&Jr.disconnect(),W.closeFilter(),ne.closeMenu&&ne.closeMenu(),q.preventEvent(null,"beforeUnmount",{$table:ne})}),(0,El.onUnmounted)(()=>{al.off(ne,"paste"),al.off(ne,"copy"),al.off(ne,"cut"),al.off(ne,"mousedown"),al.off(ne,"blur"),al.off(ne,"mousewheel"),al.off(ne,"keydown"),al.off(ne,"resize"),al.off(ne,"contextmenu"),q.preventEvent(null,"unmounted",{$table:ne})}),(0,El.nextTick)(()=>{!z.loading||ue||se.loading||tl("vxe.error.reqComp",["vxe-loading"]),!0!==z.showOverflow&&"tooltip"!==z.showOverflow&&!0!==z.showHeaderOverflow&&"tooltip"!==z.showHeaderOverflow&&!0!==z.showFooterOverflow&&"tooltip"!==z.showFooterOverflow&&!z.tooltipConfig&&!z.editRules||pe||tl("vxe.error.reqComp",["vxe-tooltip"])}),(0,El.provide)("$xeColgroup",null),(0,El.provide)("$xeTable",ne),ne.renderVN=()=>{var{loading:e,stripe:t,showHeader:r,height:l,treeConfig:o,mouseConfig:a,showFooter:n,highlightCell:i,highlightHoverRow:s,highlightHoverColumn:d,editConfig:c,editRules:u}=z,{isGroup:p,overflowX:h,overflowY:m,scrollXLoad:v,scrollYLoad:g,tableData:f,initStore:x,columnStore:b,filterStore:C,customStore:H}=j,{leftList:b,rightList:$}=b;let w=se.loading;var y=je.value,T=Ue.value,E=Le.value,_=ee.value,R=ae.value,B=Z.value,S=Y.value,I=he.value,D=ht.value,M=re.value,k=qe.value,F=it.value,N=tt.value;let O=j.isColLoading||j.isRowLoading||e;var e=Ne.value,A=a&&M.area,P=J.value,L=Ve.value,V=He.value;return(0,El.h)("div",{ref:X,class:["vxe-table","vxe-table--render-default","tid_"+de,"border--"+D,"sx-pos--"+(L?"top":"bottom"),"sy-pos--"+(V?"left":"right"),{["size--"+I]:I,["valid-msg--"+E.msgMode]:!!u,"vxe-editable":!!c,"old-cell-valid":u&&"obsolete"===ll().cellVaildMode,"cell--highlight":i,"cell--selected":a&&M.selected,"cell--area":A,"header-cell--area":A&&k.selectCellByHeader,"body-cell--area":A&&k.selectCellByBody,"row--highlight":B.isHover||s,"column--highlight":S.isHover||d,"checkbox--range":_.range,"col--drag-cell":S.drag&&"cell"===P.trigger,"is--header":r,"is--footer":n,"is--group":p,"is--tree-line":o&&(R.showLine||R.line),"is--fixed-left":b.length,"is--fixed-right":$.length,"is--animat":!!z.animat,"is--round":z.round,"is--stripe":!o&&t,"is--loading":O,"is--empty":!O&&!f.length,"is--scroll-y":m,"is--scroll-x":h,"is--virtual-x":v,"is--virtual-y":g}],spellcheck:!1,onKeydown:Er},[(0,El.h)("div",{class:"vxe-table-slots"},se.default?se.default({}):[]),(0,El.h)("div",{ref:me,class:"vxe-table-vars"},[(0,El.h)("div",{class:"vxe-table-var-default"}),(0,El.h)("div",{class:"vxe-table-var-medium"}),(0,El.h)("div",{class:"vxe-table-var-small"}),(0,El.h)("div",{class:"vxe-table-var-mini"})]),(0,El.h)("div",{key:"tw",class:"vxe-table--render-wrapper"},L?[Pr(),Ur()]:[Ur(),Pr()]),(0,El.h)("div",{key:"tn",ref:ye,class:"vxe-table--empty-placeholder"},[(0,El.h)("div",{class:"vxe-table--empty-content"},(D=nt.value,V={$table:ne},se.empty?se.empty(V):(I=(I=D.name?cl.get(D.name):null)?I.renderTableEmpty||I.renderTableEmptyView||I.renderEmpty:null)?$l(I(D,V)):wl(z.emptyText)||ol("vxe.table.emptyText")))]),(0,El.h)("div",{key:"tl",class:"vxe-table--border-line"}),(0,El.h)("div",{key:"tcl",ref:Ce,class:"vxe-table--resizable-col-bar"},e.showDragTip?[(0,El.h)("div",{class:"vxe-table--resizable-number-tip"})]:[]),(0,El.h)("div",{key:"trl",ref:we,class:"vxe-table--resizable-row-bar"},e.showDragTip?[(0,El.h)("div",{class:"vxe-table--resizable-number-tip"})]:[]),ue?(0,El.h)(ue,{key:"lg",class:"vxe-table--loading",modelValue:O,icon:F.icon,text:F.text},w?{default:()=>$r(w,{$table:ne,$grid:G,loading:O})}:{}):w?(0,El.h)("div",{class:["vxe-loading--custom-wrapper",{"is--visible":O}]},$r(w,{$table:ne,$grid:G,loading:O})):il(ne),x.custom?(0,El.h)(no,{key:"cs",ref:be,customStore:H}):il(ne),x.filter?(0,El.h)(io,{key:"tf",ref:xe,filterStore:C}):il(ne),x.import&&z.importConfig?(0,El.h)(so,{key:"it",defaultOptions:j.importParams,storeData:j.importStore}):il(ne),x.export&&(z.exportConfig||z.printConfig)?(0,El.h)(co,{key:"et",defaultOptions:j.exportParams,storeData:j.exportStore}):il(ne),N?(0,El.h)(uo,{key:"tm",ref:fe}):il(ne),(()=>{var{dragRow:e,dragCol:t}=j,r=Z.value,l=Y.value,o=Q.value,a=J.value;return r.drag||l.drag?(0,El.h)("div",{class:"vxe-table--drag-wrapper"},[(0,El.h)("div",{ref:Ee,class:["vxe-table--drag-row-line",{"is--guides":o.showGuidesStatus}]}),(0,El.h)("div",{ref:Re,class:["vxe-table--drag-col-line",{"is--guides":a.showGuidesStatus}]}),e&&o.showDragTip||t&&a.showDragTip?(0,El.h)("div",{ref:Te,class:"vxe-table--drag-sort-tip"},[(0,El.h)("div",{class:"vxe-table--drag-sort-tip-wrapper"},[(0,El.h)("div",{class:"vxe-table--drag-sort-tip-status"},[(0,El.h)("span",{class:["vxe-table--drag-sort-tip-normal-status",e?dl().TABLE_DRAG_STATUS_ROW:dl().TABLE_DRAG_STATUS_COLUMN]}),(0,El.h)("span",{class:["vxe-table--drag-sort-tip-sub-status",dl().TABLE_DRAG_STATUS_SUB_ROW]}),(0,El.h)("span",{class:["vxe-table--drag-sort-tip-disabled-status",dl().TABLE_DRAG_DISABLED]})]),(0,El.h)("div",{class:"vxe-table--drag-sort-tip-content"},Br())])]):il(ne)]):il(ne)})(),pe?(0,El.h)("div",{},[(0,El.h)(pe,{key:"ctp",ref:ve,isArrow:!1,enterable:!1}),(0,El.h)(pe,{key:"btp",ref:K,theme:y.theme,enterable:y.enterable,enterDelay:y.enterDelay,leaveDelay:y.leaveDelay,useHTML:y.useHTML}),z.editRules&&E.showMessage&&("default"===E.message?!l:"tooltip"===E.message)?(0,El.h)(pe,{key:"vtp",ref:ge,class:[{"old-cell-valid":u&&"obsolete"===ll().cellVaildMode},"vxe-table--valid-error"],theme:T.theme,enterable:T.enterable,enterDelay:T.enterDelay,leaveDelay:T.leaveDelay}):il(ne)]):il(ne)])},ne},render(){return this.renderVN()}});let{getConfig:n,getIcon:$,getI18n:_,renderer:Re,commands:Se,createEvent:Ie,useFns:De}=xl.VxeUI;var zr=(0,El.defineComponent)({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>n().toolbar.buttons},tools:{type:Array,default:()=>n().toolbar.tools},perfect:{type:Boolean,default:()=>n().toolbar.perfect},size:{type:String,default:()=>n().toolbar.size||n().size},className:[String,Function]},emits:["button-click","tool-click"],setup(c,e){let{slots:u,emit:l}=e;var t=bl().uniqueId();let p=xl.VxeUI.getComponent("VxeButton"),h=De.useSize(c).computeSize,m=(0,El.reactive)({isRefresh:!1,connectFlag:0,columns:[]}),v={connectTable:null},g=(0,El.ref)(),r={refElem:g},f={xID:t,props:c,context:e,reactData:m,internalData:v,getRefMaps:()=>r};let x=(0,El.inject)("$xeGrid",null),b=(0,El.computed)(()=>Object.assign({},bl().clone(n().toolbar.refresh,!0),c.refresh)),C=(0,El.computed)(()=>Object.assign({},bl().clone(n().toolbar.import,!0),c.import)),w=(0,El.computed)(()=>Object.assign({},bl().clone(n().toolbar.export,!0),c.export)),y=(0,El.computed)(()=>Object.assign({},bl().clone(n().toolbar.print,!0),c.print)),T=(0,El.computed)(()=>Object.assign({},bl().clone(n().toolbar.zoom,!0),c.zoom)),E=(0,El.computed)(()=>Object.assign({},bl().clone(n().toolbar.custom,!0),c.custom)),o=(0,El.computed)(()=>{var e=v.connectTable;if((m.connectFlag||e)&&e)return e=e.getComputeMaps().computeCustomOpts,e.value;return{trigger:""}}),R=(0,El.computed)(()=>o.value.trigger),a=()=>{var e=v.connectTable;if(e)return!0;tl("vxe.error.barUnableLink")},S=({$event:e})=>{var t=v.connectTable;t&&(t.triggerCustomEvent?t.triggerCustomEvent(e):tl("vxe.error.reqModule",["VxeTableCustomModule"]))},I=({$event:e})=>{var t=v.connectTable;t?t.customOpenEvent(e):tl("vxe.error.reqModule",["VxeTableCustomModule"])},D=({$event:t})=>{var e=v.connectTable;let r=e;if(r){let e=r.reactData.customStore;e.activeBtn=!1,setTimeout(()=>{e.activeBtn||e.activeWrapper||r.customCloseEvent(t)},350)}},M=({$event:e})=>{var t=m.isRefresh,r=b.value;if(!t){t=r.queryMethod||r.query;if(t){m.isRefresh=!0;try{Promise.resolve(t({})).catch(e=>e).then(()=>{m.isRefresh=!1})}catch(e){m.isRefresh=!1}}else x&&(m.isRefresh=!0,x.triggerToolbarCommitEvent({code:r.code||"reload"},e).catch(e=>e).then(()=>{m.isRefresh=!1}))}},k=({$event:e})=>{x&&x.triggerZoomEvent(e)},F=(e,t)=>{var r,l=v.connectTable,o=t.code;o&&(x?x.triggerToolbarBtnEvent(t,e):(r=Se.get(o),t={code:o,button:t,$table:l,$grid:x,$event:e},r&&((l=r.tableCommandMethod||r.commandMethod)?l(t):tl("vxe.error.notCommands",[o])),f.dispatchEvent("button-click",t,e)))},O=(e,t)=>{var r,l=v.connectTable,o=t.code;o&&(x?x.triggerToolbarTolEvent(t,e):(r=Se.get(o),t={code:o,tool:t,$table:l,$grid:x,$event:e},r&&((l=r.tableCommandMethod||r.commandMethod)?l(t):tl("vxe.error.notCommands",[o])),f.dispatchEvent("tool-click",t,e)))},A=()=>{var e;a()&&(e=v.connectTable,e)&&e.openImport()},L=()=>{var e;a()&&(e=v.connectTable,e)&&e.openExport()},V=()=>{var e;a()&&(e=v.connectTable,e)&&e.openPrint()};Object.assign(f,{dispatchEvent:(e,t,r)=>{l(e,Ie(r,{$toolbar:f},t))},syncUpdate(e){v.connectTable=e.$table,m.columns=e.collectColumn,m.connectFlag++}});let H=(e,r)=>{e=e.dropdowns;return e?e.map((t,e)=>!1!==t.visible&&p?(0,El.h)(p,{key:e,disabled:t.disabled,loading:t.loading,type:t.type,mode:t.mode,icon:t.icon,circle:t.circle,round:t.round,status:t.status,content:t.name,title:t.title,routerLink:t.routerLink,permissionCode:t.permissionCode,prefixTooltip:t.prefixTooltip,suffixTooltip:t.suffixTooltip,onClick:({$event:e})=>(r?F:O)(e,t)}):(0,El.createCommentVNode)()):[]};return f.renderVN=()=>{var{perfect:e,loading:t,refresh:r,zoom:l,custom:o,className:a}=c,n=v.connectTable,i=h.value,s=u.tools,d=u.buttons;return(0,El.h)("div",{ref:g,class:["vxe-toolbar",a?bl().isFunction(a)?a({$toolbar:f}):a:"",{["size--"+i]:i,"is--perfect":e,"is--loading":t}]},[(0,El.h)("div",{class:"vxe-buttons--wrapper"},d?d({$grid:x,$table:n}):(()=>{var e=c.buttons,t=v.connectTable;let i=t;var t=u.buttonPrefix||u["button-prefix"],r=u.buttonSuffix||u["button-suffix"];let s=[];return t&&s.push(...$l(t({buttons:e||[],$grid:x,$table:i}))),e&&e.forEach((t,e)=>{var r,l,o,{dropdowns:a,buttonRender:n}=t;!1!==t.visible&&(r=n?Re.get(n.name):null,n&&r&&r.renderToolbarButton?(l=r.toolbarButtonClassName,o={$grid:x,$table:i,button:t},s.push((0,El.h)("span",{key:"br"+(t.code||e),class:["vxe-button--item",l?bl().isFunction(l)?l(o):l:""]},$l(r.renderToolbarButton(n,o))))):p&&s.push((0,El.h)(p,{key:"bd"+(t.code||e),disabled:t.disabled,loading:t.loading,type:t.type,mode:t.mode,icon:t.icon,circle:t.circle,round:t.round,status:t.status,content:t.name,title:t.title,routerLink:t.routerLink,permissionCode:t.permissionCode,prefixTooltip:t.prefixTooltip,suffixTooltip:t.suffixTooltip,destroyOnClose:t.destroyOnClose,placement:t.placement,transfer:t.transfer,onClick:({$event:e})=>F(e,t)},a&&a.length?{dropdowns:()=>H(t,!0)}:{})))}),r&&s.push(...$l(r({buttons:e||[],$grid:x,$table:i}))),s})()),(0,El.h)("div",{class:"vxe-tools--wrapper"},s?s({$grid:x,$table:n}):(()=>{var e=c.tools,t=v.connectTable;let s=t;var t=u.toolPrefix||u["tool-prefix"],r=u.toolSuffix||u["tool-suffix"];let d=[];return t&&d.push(...$l(t({tools:e||[],$grid:x,$table:s}))),e&&e.forEach((t,e)=>{var r,l,o,a,{dropdowns:n,toolRender:i}=t;!1!==t.visible&&(r=i?i.name:null,l=i?Re.get(r):null,i&&l&&l.renderToolbarTool?(o=l.toolbarToolClassName,a={$grid:x,$table:s,tool:t},d.push((0,El.h)("span",{key:r,class:["vxe-tool--item",o?bl().isFunction(o)?o(a):o:""]},$l(l.renderToolbarTool(i,a))))):p&&d.push((0,El.h)(p,{key:e,disabled:t.disabled,loading:t.loading,type:t.type,mode:t.mode,icon:t.icon,circle:t.circle,round:t.round,status:t.status,content:t.name,title:t.title,routerLink:t.routerLink,permissionCode:t.permissionCode,prefixTooltip:t.prefixTooltip,suffixTooltip:t.suffixTooltip,destroyOnClose:t.destroyOnClose,placement:t.placement,transfer:t.transfer,onClick:({$event:e})=>O(e,t)},n&&n.length?{dropdowns:()=>H(t,!1)}:{})))}),r&&d.push(...$l(r({tools:e||[],$grid:x,$table:s}))),d})()),(0,El.h)("div",{class:"vxe-tools--operate"},[c.import&&(a=C.value,p)?(0,El.h)(p,{key:"import",circle:!0,icon:a.icon||$().TOOLBAR_TOOLS_IMPORT,title:_("vxe.toolbar.import"),onClick:A}):(0,El.createCommentVNode)(),c.export&&(i=w.value,p)?(0,El.h)(p,{key:"export",circle:!0,icon:i.icon||$().TOOLBAR_TOOLS_EXPORT,title:_("vxe.toolbar.export"),onClick:L}):(0,El.createCommentVNode)(),c.print&&(e=y.value,p)?(0,El.h)(p,{key:"print",circle:!0,icon:e.icon||$().TOOLBAR_TOOLS_PRINT,title:_("vxe.toolbar.print"),onClick:V}):(0,El.createCommentVNode)(),r&&(t=b.value,p)?(0,El.h)(p,{key:"refresh",circle:!0,icon:m.isRefresh?t.iconLoading||$().TOOLBAR_TOOLS_REFRESH_LOADING:t.icon||$().TOOLBAR_TOOLS_REFRESH,title:_("vxe.toolbar.refresh"),onClick:M}):(0,El.createCommentVNode)(),l&&x&&(d=T.value,x)&&p?(0,El.h)(p,{key:"zoom",circle:!0,icon:x.isMaximized()?d.iconOut||$().TOOLBAR_TOOLS_MINIMIZE:d.iconIn||$().TOOLBAR_TOOLS_FULLSCREEN,title:_("vxe.toolbar.zoom"+(x.isMaximized()?"Out":"In")),onClick:k}):(0,El.createCommentVNode)(),o&&(s=E.value,n=R.value,a={},"manual"!==n&&("hover"===n?(a.onMouseenter=I,a.onMouseleave=D):a.onClick=S),p)?(0,El.h)(p,{key:"custom",circle:!0,icon:s.icon||$().TOOLBAR_TOOLS_CUSTOM,title:_("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target",...a}):(0,El.createCommentVNode)()])])},(0,El.nextTick)(()=>{var e=c.refresh,t=b.value,t=t.queryMethod||t.query,e=(!e||x||t||el("vxe.error.notFunc",["queryMethod"]),E.value);e.isFooter&&el("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),e.showFooter&&el("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),e.immediate&&el("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),e.trigger&&el("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"]),(c.refresh||c.import||c.export||c.print||c.zoom)&&!p&&tl("vxe.error.reqComp",["vxe-button"])}),f},render(){return this.renderVN()}});let{getConfig:he,getI18n:me,commands:Me,hooks:ke,useFns:Fe,createEvent:Oe,globalEvents:Ae,GLOBAL_EVENT_KEYS:Le,renderEmptyElement:ve}=xl.VxeUI,Ve=Object.keys(ao),He=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","sort","setSort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect"];var mr=[...Nr,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],jr=(0,El.defineComponent)({name:"VxeGrid",props:{...ao,layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>he().grid.size||he().size}},emits:mr,setup(F,e){let{slots:s,emit:l}=e;var T=bl().uniqueId();let n=xl.VxeUI.getComponent("VxeForm"),a=xl.VxeUI.getComponent("VxePager"),E=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],R=Fe.useSize(F).computeSize,O=(0,El.reactive)({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:he().pager?.pageSize||10,currentPage:1}}),d=(0,El.ref)(),A=(0,El.ref)(),i=(0,El.ref)(),c=(0,El.ref)(),u=(0,El.ref)(),p=(0,El.ref)(),h=(0,El.ref)(),m=(0,El.ref)(),v=(0,El.ref)(),g=(0,El.ref)();var t=e=>{let t={};return e.forEach(r=>{t[r]=(...e)=>{var t=A.value;if(t&&t[r])return t[r](...e)}}),t};let L=t(He),V=(He.forEach(r=>{L[r]=(...e)=>{var t=A.value;if(t&&t[r])return t&&t[r](...e)}}),(0,El.computed)(()=>bl().merge({},bl().clone(he().grid.proxyConfig,!0),F.proxyConfig))),U=(0,El.computed)(()=>{var e=V.value;return bl().isBoolean(e.message)?e.message:e.showResponseMsg}),H=(0,El.computed)(()=>V.value.showActiveMsg),$=(0,El.computed)(()=>Object.assign({},he().grid.pagerConfig,F.pagerConfig)),f=(0,El.computed)(()=>Object.assign({},he().grid.formConfig,F.formConfig)),_=(0,El.computed)(()=>Object.assign({},he().grid.toolbarConfig,F.toolbarConfig)),r=(0,El.computed)(()=>Object.assign({},he().grid.zoomConfig,F.zoomConfig)),S=(0,El.computed)(()=>{var{height:e,maxHeight:t}=F,{isZMax:r,tZindex:l}=O,o={};return r?o.zIndex=l:(e&&(o.height="auto"===e||"100%"===e?"100%":Wl(e)),t&&(o.maxHeight="auto"===t||"100%"===t?"100%":Wl(t))),o}),I=(0,El.computed)(()=>{let t={},r=F;return Ve.forEach(e=>{t[e]=r[e]}),t}),D=(0,El.computed)(()=>{var{seqConfig:e,pagerConfig:t,loading:r,editConfig:l,proxyConfig:o}=F,{isZMax:a,tableLoading:n,tablePage:i}=O,s=I.value,d=V.value,c=$.value,u=Object.assign({},s);return a&&(s.maxHeight?u.maxHeight="100%":u.height="100%"),o&&Cl(d)&&(u.loading=r||n,t)&&d.seq&&Cl(c)&&(u.seqConfig=Object.assign({},e,{startIndex:(i.currentPage-1)*i.pageSize})),l&&(u.editConfig=Object.assign({},l)),u}),M=(0,El.computed)(()=>{var e=F.layouts;let t=[],r=[],l=[],o=[];return(t=e&&e.length?e:he().grid.layouts||E).length&&(bl().isArray(t[0])?(r=t[0],l=t[1]||[],o=t[2]||[]):l=t),{headKeys:r,bodyKeys:l,footKeys:o}});var k=(0,El.computed)(()=>{var e=$.value;return""+e.currentPage+e.pageSize});let W={refElem:d,refTable:A,refForm:i,refToolbar:c,refPager:u},q={computeProxyOpts:V,computePagerOpts:$,computeFormOpts:f,computeToolbarOpts:_,computeZoomOpts:r},B={xID:T,props:F,context:e,reactData:O,getRefMaps:()=>W,getComputeMaps:()=>q},o=()=>{var e=_.value;F.toolbarConfig&&Cl(e)&&(0,El.nextTick)(()=>{var e=A.value,t=c.value;e&&t&&e.connect(t)})},N=()=>{var e=F.proxyConfig,t=O.formData,r=V.value,l=f.value;return e&&Cl(r)&&r.form?t:l.data},x=()=>{var e=O.tablePage,t=F.pagerConfig,r=$.value,{currentPage:l,pageSize:o}=r;t&&Cl(r)&&(l&&(e.currentPage=l),o)&&(e.pageSize=o)},P=(e,t)=>{var r=V.value,r=(r.response||r.props||{}).message;let l;return(l=e&&r?bl().isFunction(r)?r({data:e,$grid:B}):bl().get(e,r):l)||me(t)},z=(e,t,r)=>{var l=H.value,o=L.getCheckboxRecords();if(l)if(o.length){if(xl.VxeUI.modal)return xl.VxeUI.modal.confirm({id:"cfm_"+e,content:me(t),escClosable:!0}).then(e=>{if("confirm"===e)return r()})}else xl.VxeUI.modal&&xl.VxeUI.modal.message({id:"msg_"+e,content:me("vxe.grid.selectOneRecord"),status:"warning"});else o.length&&r();return Promise.resolve()},X=e=>{var t=F.proxyConfig,r=O.tablePage;let{$event:l,currentPage:o,pageSize:a}=e;var n=V.value;r.currentPage=o,r.pageSize=a,B.dispatchEvent("page-change",e,l),t&&Cl(n)&&B.commitProxy("query").then(e=>{B.dispatchEvent("proxy-query",e,l)})},K=t=>{var e=A.value,r=F.proxyConfig,e=e.getComputeMaps().computeSortOpts,l=V.value;e.value.remote&&(O.sortData=t.sortList,r)&&Cl(l)&&(O.tablePage.currentPage=1,j.commitProxy("query").then(e=>{j.dispatchEvent("proxy-query",e,t.$event)})),j.dispatchEvent("sort-change",t,t.$event)},G=t=>{var e=A.value,r=F.proxyConfig,e=e.getComputeMaps().computeFilterOpts,l=V.value;e.value.remote&&(O.filterData=t.filterList,r)&&Cl(l)&&(O.tablePage.currentPage=1,j.commitProxy("query").then(e=>{j.dispatchEvent("proxy-query",e,t.$event)})),j.dispatchEvent("filter-change",t,t.$event)},Y=t=>{var e=F.proxyConfig,r=V.value;O.tableLoading||(e&&Cl(r)&&j.commitProxy("reload").then(e=>{j.dispatchEvent("proxy-query",{...e,isReload:!0},t.$event)}),j.dispatchEvent("form-submit",t,t.$event))},Z=e=>{var t=F.proxyConfig;let r=e.$event;var l=V.value,o=A.value;t&&Cl(l)&&(o.clearScroll(),j.commitProxy("reload").then(e=>{j.dispatchEvent("proxy-query",{...e,isReload:!0},r)})),j.dispatchEvent("form-reset",e,r)},Q=e=>{j.dispatchEvent("form-submit-invalid",e,e.$event)},J=e=>{var t=e.$event;j.dispatchEvent("form-toggle-collapse",e,t),j.dispatchEvent("form-collapse",e,t)},b=e=>{var t=O.isZMax;return(e?!t:t)&&(O.isZMax=!t,O.tZindex<Bl())&&(O.tZindex=_l()),(0,El.nextTick)().then(()=>L.recalculate(!0)).then(()=>(setTimeout(()=>L.recalculate(!0),15),O.isZMax))},ee=(e,t)=>{e=e[t];if(e){if(!bl().isString(e))return e;if(s[e])return s[e];tl("vxe.error.notSlot",[e])}return null},te=e=>{let r={};return bl().objectMap(e,(e,t)=>{e&&(bl().isString(e)?s[e]?r[t]=s[e]:tl("vxe.error.notSlot",[e]):r[t]=e)}),r},re=()=>{var{formConfig:e,proxyConfig:r}=F,l=O.formData,o=V.value,a=f.value;if(e&&Cl(a)||s.form){let e=[];if(s.form)e=s.form({$grid:B});else if(a.items){let t={};if(!a.inited){a.inited=!0;let t=o.beforeItem;o&&t&&a.items.forEach(e=>{t({$grid:B,item:e})})}a.items.forEach(e=>{bl().each(e.slots,e=>{bl().isFunction(e)||s[e]&&(t[e]=s[e])})}),n&&e.push((0,El.h)(n,{ref:i,...Object.assign({},a,{data:r&&Cl(o)&&o.form?l:a.data}),onSubmit:Y,onReset:Z,onSubmitInvalid:Q,onCollapse:J},t))}return(0,El.h)("div",{ref:p,key:"form",class:"vxe-grid--form-wrapper"},e)}return ve(B)},le=()=>{var t,r,l=F.toolbarConfig,o=_.value;if(l&&Cl(o)||s.toolbar){let e=[];return s.toolbar?e=s.toolbar({$grid:B}):(l={},(r=o.slots)&&(t=ee(r,"buttons"),r=ee(r,"tools"),t&&(l.buttons=t),r)&&(l.tools=r),e.push((0,El.h)(zr,{ref:c,...o,slots:void 0},l))),(0,El.h)("div",{ref:h,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},e)}return ve(B)},oe=()=>s.top?(0,El.h)("div",{ref:m,key:"top",class:"vxe-grid--top-wrapper"},s.top({$grid:B})):ve(B),ae=()=>{var e=s.left;return e?(0,El.h)("div",{class:"vxe-grid--left-wrapper"},e({$grid:B})):ve(B)},ne=()=>{var e=s.right;return e?(0,El.h)("div",{class:"vxe-grid--right-wrapper"},e({$grid:B})):ve(B)},ie=()=>{var e=F.proxyConfig,t=D.value,r=V.value,l=Object.assign({},ce),o=s.empty,a=s.loading,n=s.rowDragIcon||s["row-drag-icon"],i=s.columnDragIcon||s["column-drag-icon"],e=(e&&Cl(r)&&(r.sort&&(l.onSortChange=K),r.filter)&&(l.onFilterChange=G),{});return o&&(e.empty=o),a&&(e.loading=a),n&&(e.rowDragIcon=n),i&&(e.columnDragIcon=i),(0,El.h)("div",{class:"vxe-grid--table-wrapper"},[(0,El.h)(Pr,{ref:A,...t,...l},e)])},se=()=>s.bottom?(0,El.h)("div",{ref:v,key:"bottom",class:"vxe-grid--bottom-wrapper"},s.bottom({$grid:B})):ve(B),de=()=>{var{proxyConfig:e,pagerConfig:t}=F,r=V.value,l=$.value,o=s.pager;return t&&Cl(l)||s.pager?(0,El.h)("div",{ref:g,key:"pager",class:"vxe-grid--pager-wrapper"},o?o({$grid:B}):[a?(0,El.h)(a,{ref:u,...l,...e&&Cl(r)?O.tablePage:{},onPageChange:X},te(l.slots)):ve(B)]):ve(B)},C=e=>{let t=[];return e.forEach(e=>{switch(e){case"Form":t.push(re());break;case"Toolbar":t.push(le());break;case"Top":t.push(oe());break;case"Table":t.push((0,El.h)("div",{key:"table",class:"vxe-grid--table-container"},[ae(),ie(),ne()]));break;case"Bottom":t.push(se());break;case"Pager":t.push(de());break;default:tl("vxe.error.notProp",["layouts -> "+e])}}),t},ce={},ue=(Nr.forEach(t=>{var e=bl().camelCase("on-"+t);ce[e]=(...e)=>l(t,...e)}),()=>{var{proxyConfig:e,formConfig:t}=F,r=O.proxyInited,l=V.value,a=f.value;if(e&&Cl(l)){if(t&&Cl(a)&&l.form&&a.items){let o={};a.items.forEach(t=>{var{field:r,itemRender:l}=t;if(r){let e=null;l&&(l=l.defaultValue,bl().isFunction(l)?e=l({item:t}):bl().isUndefined(l)||(e=l)),o[r]=e}}),O.formData=o}r||!(O.proxyInited=!0)!==l.autoLoad&&(0,El.nextTick)().then(()=>j.commitProxy("_init")).then(e=>{j.dispatchEvent("proxy-query",{...e,isInited:!0},new Event("init"))})}}),pe=e=>{var t=r.value;Ae.hasKey(e,Le.ESCAPE)&&O.isZMax&&!1!==t.escRestore&&w.triggerZoomEvent(e)};let j={dispatchEvent:(e,t,r)=>{l(e,Oe(r,{$grid:B},t))},getEl(){return d.value},commitProxy(t,...c){let{toolbarConfig:e,pagerConfig:n,editRules:u,validConfig:p}=F,i=O.tablePage,h=H.value,m=U.value;var r=V.value;let s=$.value;var l=_.value;let{beforeQuery:d,afterQuery:v,beforeDelete:g,afterDelete:f,beforeSave:x,afterSave:b,ajax:C={}}=r,w=r.response||r.props||{},y=A.value;var T=N();let E=null,R=null;R=bl().isString(t)?(r=l.buttons,l=e&&Cl(l)&&r?bl().findTree(r,e=>e.code===t,{children:"dropdowns"}):null,E=l?l.item:null,t):(E=t).code;var o=E?E.params:null;switch(R){case"insert":return y.insert({});case"insert_edit":return y.insert({}).then(({row:e})=>y.setEditRow(e));case"insert_actived":return y.insert({}).then(({row:e})=>y.setEditRow(e));case"mark_cancel":I=R,M=H.value,S=A.value,(D=S.getCheckboxRecords()).length?(S.togglePendingRow(D),L.clearCheckboxRow()):M&&xl.VxeUI.modal&&xl.VxeUI.modal.message({id:I,content:me("vxe.grid.selectOneRecord"),status:"warning"});break;case"remove":return z(R,"vxe.grid.removeSelectRecord",()=>y.removeCheckboxRow());case"import":y.importData(o);break;case"open_import":y.openImport(o);break;case"export":y.exportData(o);break;case"open_export":y.openExport(o);break;case"reset_custom":return y.resetCustom(!0);case"_init":case"reload":case"query":{var S=C.query;let a=C.querySuccess,l=C.queryError;if(S){var I,D="_init"===R,M="reload"===R;if(!D&&O.tableLoading)return(0,El.nextTick)();let t=[],r=[],e={};if(n&&((D||M)&&(i.currentPage=1),Cl(s))&&(e={...i}),D){let e=null;y&&(I=y.getComputeMaps().computeSortOpts,k=I.value,e=k.defaultSort),e&&(bl().isArray(e)||(e=[e]),t=e.map(e=>({field:e.field,property:e.field,order:e.order}))),y&&(r=y.getCheckedFilters())}else y&&(M?y.clearAll():(t=y.getSortColumns(),r=y.getCheckedFilters()));let o={code:R,button:E,isInited:D,isReload:M,$grid:B,page:e,sort:t.length?t[0]:{},sorts:t,filters:r,form:T,options:S};return O.sortData=t,O.filterData=r,O.tableLoading=!0,Promise.resolve((d||S)(o,...c)).then(e=>{let t=[];var r,l;return O.tableLoading=!1,e&&(n&&Cl(s)?(l=w.total,l=(bl().isFunction(l)?l({data:e,$grid:B}):bl().get(e,l||"page.total"))||0,i.total=bl().toNumber(l),r=w.result,t=(bl().isFunction(r)?r({data:e,$grid:B}):bl().get(e,r||"result"))||[],r=Math.max(Math.ceil(l/i.pageSize),1),i.currentPage>r&&(i.currentPage=r)):(l=w.list,t=(l?bl().isFunction(l)?l({data:e,$grid:B}):bl().get(e,l):e)||[])),y?y.loadData(t):(0,El.nextTick)(()=>{y&&y.loadData(t)}),v&&v(o,...c),a&&a({...o,response:e}),{status:!0}}).catch(e=>(O.tableLoading=!1,l&&l({...o,response:e}),{status:!1}))}tl("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{let l=C.delete,o=C.deleteSuccess,a=C.deleteError;if(l){let e=L.getCheckboxRecords(),t=e.filter(e=>!y.isInsertByRow(e));var k={removeRecords:t};let r={$grid:B,code:R,button:E,body:k,form:T,options:l};if(e.length)return z(R,"vxe.grid.deleteSelectRecord",()=>t.length?(O.tableLoading=!0,Promise.resolve((g||l)(r,...c)).then(e=>(O.tableLoading=!1,y.setPendingRow(t,!1),m&&xl.VxeUI.modal&&xl.VxeUI.modal.message({content:P(e,"vxe.grid.delSuccess"),status:"success"}),f?f(r,...c):j.commitProxy("query"),o&&o({...r,response:e}),{status:!0})).catch(e=>(O.tableLoading=!1,m&&xl.VxeUI.modal&&xl.VxeUI.modal.message({id:R,content:P(e,"vxe.grid.operError"),status:"error"}),a&&a({...r,response:e}),{status:!1}))):y.remove(e));h&&xl.VxeUI.modal&&xl.VxeUI.modal.message({id:R,content:me("vxe.grid.selectOneRecord"),status:"warning"})}else tl("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{let i=C.save,s=C.saveSuccess,d=C.saveError;if(i){let t=y.getRecordset(),{insertRecords:r,removeRecords:l,updateRecords:o,pendingRecords:a}=t,n={$grid:B,code:R,button:E,body:t,form:T,options:i},e=(r.length&&(t.pendingRecords=a.filter(e=>-1===y.findRowIndexOf(r,e))),a.length&&(t.insertRecords=r.filter(e=>-1===y.findRowIndexOf(a,e))),Promise.resolve());return(e=u?y[p&&"full"===p.msgMode?"fullValidate":"validate"](t.insertRecords.concat(o)):e).then(e=>{if(!e)return t.insertRecords.length||l.length||o.length||t.pendingRecords.length?(O.tableLoading=!0,Promise.resolve((x||i)(n,...c)).then(e=>(O.tableLoading=!1,y.clearPendingRow(),m&&xl.VxeUI.modal&&xl.VxeUI.modal.message({content:P(e,"vxe.grid.saveSuccess"),status:"success"}),b?b(n,...c):j.commitProxy("query"),s&&s({...n,response:e}),{status:!0})).catch(e=>(O.tableLoading=!1,m&&xl.VxeUI.modal&&xl.VxeUI.modal.message({id:R,content:P(e,"vxe.grid.operError"),status:"error"}),d&&d({...n,response:e}),{status:!1}))):void(h&&xl.VxeUI.modal&&xl.VxeUI.modal.message({id:R,content:me("vxe.grid.dataUnchanged"),status:"info"}))})}tl("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:var k=Me.get(R);k&&((k=k.tableCommandMethod||k.commandMethod)?k({code:R,button:E,$grid:B,$table:y},...c):tl("vxe.error.notCommands",[R]))}return(0,El.nextTick)()},zoom(){return O.isZMax?j.revert():j.maximize()},isMaximized(){return O.isZMax},maximize(){return b(!0)},revert(){return b()},getFormData:N,getFormItems(e){var t=f.value,r=F.formConfig,l=t.items;let o=[];return bl().eachTree(r&&Cl(t)&&l?l:[],e=>{o.push(e)},{children:"children"}),bl().isUndefined(e)?o:o[e]},getProxyInfo(){var e,t=A.value;return F.proxyConfig?(e=O.sortData,{data:t?t.getFullData():[],filter:O.filterData,form:N(),sort:e.length?e[0]:{},sorts:e,pager:O.tablePage,pendingRecords:t?t.getPendingRecords():[]}):null},loadColumn:e=>{var t=A.value;return bl().eachTree(e,e=>{e.slots&&bl().each(e.slots,e=>{bl().isFunction(e)||s[e]||tl("vxe.error.notSlot",[e])})}),t?t.loadColumn(e):(0,El.nextTick)()},reloadColumn:e=>(L.clearAll(),j.loadColumn(e))},w={extendTableMethods:t,callSlot(e,t){return e&&(bl().isString(e)&&(e=s[e]||null),bl().isFunction(e))?$l(e(t)):[]},getExcludeHeight(){var e,t,r,l,o,a,n=O.isZMax,i=d.value;return i?(e=p.value,t=h.value,r=m.value,l=v.value,o=g.value,a=i.parentElement,(!n&&a?ql(a):0)+ql(i)+fr(e)+fr(t)+fr(r)+fr(l)+fr(o)):0},getParentHeight(){var e=d.value;return e?(e=e.parentElement,(O.isZMax?gr().visibleHeight:e?bl().toNumber(getComputedStyle(e).height):0)-w.getExcludeHeight()):0},triggerToolbarCommitEvent(e,t){let r=e.code;return j.commitProxy(e,t).then(e=>{r&&e&&e.status&&["query","reload","delete","save"].includes(r)&&j.dispatchEvent("delete"===r||"save"===r?"proxy-"+r:"proxy-query",{...e,isReload:"reload"===r},t)})},triggerToolbarBtnEvent(e,t){w.triggerToolbarCommitEvent(e,t),j.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){w.triggerToolbarCommitEvent(e,t),j.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e},t)},triggerZoomEvent(e){j.zoom(),j.dispatchEvent("zoom",{type:O.isZMax?"max":"revert"},e)}},y=(Object.assign(B,L,j,w),(0,El.ref)(0));(0,El.watch)(()=>F.columns?F.columns.length:-1,()=>{y.value++}),(0,El.watch)(()=>F.columns,()=>{y.value++}),(0,El.watch)(y,()=>{(0,El.nextTick)(()=>B.loadColumn(F.columns||[]))}),(0,El.watch)(()=>F.toolbarConfig,()=>{o()}),(0,El.watch)(k,()=>{x()}),(0,El.watch)(()=>F.proxyConfig,()=>{ue()}),ke.forEach(e=>{var e=e.setupGrid;e&&(e=e(B))&&bl().isObject(e)&&Object.assign(B,e)}),x(),(0,El.onMounted)(()=>{(0,El.nextTick)(()=>{var e=F.columns;F.formConfig&&!n&&tl("vxe.error.reqComp",["vxe-form"]),F.pagerConfig&&!a&&tl("vxe.error.reqComp",["vxe-pager"]),e&&e.length&&B.loadColumn(e),o(),ue()}),Ae.on(B,"keydown",pe)}),(0,El.onUnmounted)(()=>{Ae.off(B,"keydown")});return B.renderVN=()=>{var e=R.value,t=S.value;return(0,El.h)("div",{ref:d,class:["vxe-grid",{["size--"+e]:e,"is--animat":!!F.animat,"is--round":F.round,"is--maximize":O.isZMax,"is--loading":F.loading||O.tableLoading}],style:t},(()=>{var{headKeys:e,bodyKeys:t,footKeys:r}=M.value,l=s.asideLeft||s["aside-left"],o=s.asideRight||s["aside-right"];return[(0,El.h)("div",{class:"vxe-grid--layout-header-wrapper"},C(e)),(0,El.h)("div",{class:"vxe-grid--layout-body-wrapper"},[l?(0,El.h)("div",{class:"vxe-grid--layout-aside-left-wrapper"},l({})):ve(B),(0,El.h)("div",{class:"vxe-grid--layout-body-content-wrapper"},C(t)),o?(0,El.h)("div",{class:"vxe-grid--layout-aside-right-wrapper"},o({})):ve(B)]),(0,El.h)("div",{class:"vxe-grid--layout-footer-wrapper"},C(r))]})())},(0,El.provide)("$xeGrid",B),B},render(){return this.renderVN()}});let $e=Object.assign({},jr,{install(e){e.component(jr.name,jr)}}),_e=(xl.VxeUI.dynamicApp&&xl.VxeUI.dynamicApp.component(jr.name,jr),xl.VxeUI.component(jr),$e),{renderer:Be,hooks:Ne}=xl.VxeUI,Pe=["openFilter","setFilter","clearFilter","saveFilterPanel","resetFilterPanel","getCheckedFilters","updateFilterOptionStatus"],{menus:ze,hooks:je,globalEvents:Ue,GLOBAL_EVENT_KEYS:We}=(Ne.add("tableFilterModule",{setupTable(x){let{props:u,reactData:p,internalData:b}=x,{refElem:C,refTableFilter:w}=x.getRefMaps(),{computeFilterOpts:y,computeMouseOpts:h}=x.getComputeMaps(),o=e=>{var t=p.filterStore;t.options.forEach(e=>{e.checked=e._checked}),x.confirmFilterEvent(e)},a=(e,t,r)=>{var l=p.filterStore;l.options.forEach(e=>{e._checked=!1}),r._checked=t,x.checkFilterOptions(),o(e)},n=(e,t,r)=>{r._checked=t,x.checkFilterOptions()},e=e=>{var t=p.filterStore;x.handleClearFilter(t.column),x.confirmFilterEvent(e)},i={checkFilterOptions(){var e=p.filterStore;e.isAllSelected=e.options.every(e=>e._checked),e.isIndeterminate=!e.isAllSelected&&e.options.some(e=>e._checked)},triggerFilterEvent(e,o,t){let{initStore:r,filterStore:g}=p,f=b.elemStore;if(g.column===o&&g.visible)g.visible=!1;else{let s=C.value,{scrollTop:d,scrollLeft:c,visibleHeight:u,visibleWidth:p}=gr();let h=y.value.transfer,m=s.getBoundingClientRect(),v=e.currentTarget;var{filters:a,filterMultiple:n,filterRender:i}=o,i=Cl(i)?Be.get(i.name):null;let l=o.filterRecoverMethod||(i?i.tableFilterRecoverMethod||i.filterRecoverMethod:null);b._currFilterParams=t,Object.assign(g,{multiple:n,options:a,column:o,style:null}),g.options.forEach(e=>{var{_checked:t,checked:r}=e;(e._checked=r)||t===r||l&&l({option:e,column:o,$table:x})}),this.checkFilterOptions(),g.visible=!0,r.filter=!0,(0,El.nextTick)(()=>{if(Hl(f["main-header-scroll"])){var l=w.value,l=l?l.getRefMaps().refElem.value:null;if(l){var o=v.getBoundingClientRect(),a=l.querySelector(".vxe-table--filter-header"),n=l.querySelector(".vxe-table--filter-footer"),l=l.offsetWidth,i=l/2;let e=0,t=0,r=0;h?(e=o.left-i+c,t=o.top+v.clientHeight+d,r=Math.min(Math.max(m.height,Math.floor(u/2)),Math.max(80,u-t-(a?a.clientHeight:0)-(n?n.clientHeight:0)-28)),e<16?e=16:e>p-l-16&&(e=p-l-16)):(e=o.left-m.left-i,t=o.top-m.top+v.clientHeight,r=Math.max(40,s.clientHeight-t-(a?a.clientHeight:0)-(n?n.clientHeight:0)-14),e<1?e=1:e>s.clientWidth-l-1&&(e=s.clientWidth-l-1)),g.style={top:Wl(t),left:Wl(e)},g.maxHeight=r}}})}x.dispatchEvent("filter-visible",{column:o,field:o.field,property:o.field,filterList:x.getCheckedFilters(),visible:g.visible},e)},handleClearFilter(e){if(e){var{filters:r,filterRender:l}=e;if(r){l=Cl(l)?Be.get(l.name):null;let t=e.filterResetMethod||(l?l.tableFilterResetMethod||l.filterResetMethod:null);r.forEach(e=>{e._checked=!1,e.checked=!1,t||(e.data=bl().clone(e.resetValue,!0))}),t&&t({options:r,column:e,$table:x})}}},handleColumnConfirmFilter(e,t){var r=u.mouseConfig;let{scrollXLoad:l,scrollYLoad:o}=p;var a=y.value,n=h.value,i=e.field;let s=[],d=[];e.filters.forEach(e=>{e.checked&&(s.push(e.value),d.push(e.data))});var c=x.getCheckedFilters(),e={$table:x,$event:t,column:e,field:i,property:i,values:s,datas:d,filters:c,filterList:c};return a.remote||(x.handleTableData(!0),x.checkSelectionStatus()),r&&n.area&&x.handleFilterEvent&&x.handleFilterEvent(t,e),t&&x.dispatchEvent("filter-change",e,t),x.closeFilter(),x.updateFooter().then(()=>{var{scrollXLoad:e,scrollYLoad:t}=p;if(l||e||o||t)return(l||e)&&x.updateScrollXSpace(),(o||t)&&x.updateScrollYSpace(),x.refreshScroll()}).then(()=>(x.updateCellAreas(),x.recalculate(!0))).then(()=>{setTimeout(()=>x.recalculate(),50)})},confirmFilterEvent(e){var t=p.filterStore,t=t.column;x.handleColumnConfirmFilter(t,e)},handleFilterChangeRadioOption:a,handleFilterChangeMultipleOption:n,handleFilterChangeOption(e,t,r){var l=p.filterStore;l.multiple?n(0,t,r):a(e,t,r)},handleFilterConfirmFilter:o,handleFilterResetFilter:e};return{...{openFilter(e){let o=rl(x,e);if(o&&o.filters){let r=b.elemStore,l=o.fixed;return x.scrollToColumn(o).then(()=>{var e,t=Hl(r[`${l||"main"}-header-wrapper`]||r["main-header-wrapper"]);t&&(t=t.querySelector(`.vxe-header--column.${o.id} .vxe-cell--filter`),e="click",t=t)&&t.dispatchEvent(new Event(e))})}return(0,El.nextTick)()},setFilter(e,t,r){e=rl(x,e);return e&&e.filters&&(e.filters=Sr(t||[]),r)?x.handleColumnConfirmFilter(e,new Event("click")):(0,El.nextTick)()},clearFilter(e){var t=p.filterStore,r=b.tableFullColumn,l=y.value;let o;return e?(o=rl(x,e))&&i.handleClearFilter(o):r.forEach(i.handleClearFilter),e&&o===t.column||Object.assign(t,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),l.remote?(0,El.nextTick)():x.updateData()},saveFilterPanel(){return o(null),(0,El.nextTick)()},resetFilterPanel(){return e(null),(0,El.nextTick)()},getCheckedFilters(){var e=b.tableFullColumn;let a=[];return e.forEach(e=>{var{field:t,filters:r}=e;let l=[],o=[];r&&r.length&&(r.forEach(e=>{e.checked&&(l.push(e.value),o.push(e.data))}),l.length)&&a.push({column:e,field:t,property:t,values:l,datas:o})}),a},updateFilterOptionStatus(e,t){return e._checked=t,e.checked=t,(0,El.nextTick)()}},...i}},setupGrid(e){return e.extendTableMethods(Pe)}}),xl.VxeUI),qe=["closeMenu"],{getConfig:Xe,renderer:Ke,hooks:Ge,getI18n:Ye}=(je.add("tableMenuModule",{setupTable(g){let{xID:f,props:x,reactData:b,internalData:C}=g,{refElem:w,refTableFilter:y,refTableMenu:T}=g.getRefMaps(),{computeMouseOpts:E,computeIsMenu:t,computeMenuOpts:R}=g.getComputeMaps(),S;var e;let I=(r,l,p)=>{let h=b.ctxMenuStore;var o=t.value,e=R.value,l=e[l];let a=e.visibleMethod;if(l){let{options:t,disabled:e}=l;e?r.preventDefault():o&&t&&t.length&&(p.options=t,g.preventEvent(r,"event.showMenu",p,()=>{if(!a||a(p)){r.preventDefault(),g.updateZindex();let{scrollTop:o,scrollLeft:a,visibleHeight:n,visibleWidth:i}=gr(),s=r.clientY+o,d=r.clientX+a,l=()=>{C._currMenuParams=p,Object.assign(h,{visible:!0,list:t,selected:null,selectChild:null,showChild:!1,style:{zIndex:C.tZindex,top:s+"px",left:d+"px"}}),(0,El.nextTick)(()=>{var e=T.value.getRefMaps().refElem.value,t=e.clientHeight,r=e.clientWidth,{boundingTop:e,boundingLeft:l}=br(e),e=e+t-n,l=l+r-i;-10<e&&(h.style.top=Math.max(o+2,s-t-2)+"px"),-10<l&&(h.style.left=Math.max(a+2,d-r-2)+"px")})},{keyboard:e,row:c,column:u}=p;e&&c&&u?g.scrollToRow(c,u).then(()=>{var e,t,r=g.getCellElement(c,u);r&&({boundingTop:e,boundingLeft:t}=br(r),s=e+o+Math.floor(r.offsetHeight/2),d=t+a+Math.floor(r.offsetWidth/2)),l()}):l()}else S.closeMenu()}))}g.closeFilter()};return S={closeMenu(){return Object.assign(b.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),(0,El.nextTick)()}},e={moveCtxMenu(e,t,r,l,o,a){let n;var i=bl().findIndexOf(a,e=>t[r]===e);if(l)o&&Nl(t.selected)?t.showChild=!0:(t.showChild=!1,t.selectChild=null);else if(Ue.hasKey(e,We.ARROW_UP)){for(let e=i-1;0<=e;e--)if(!1!==a[e].visible){n=a[e];break}t[r]=n||a[a.length-1]}else if(Ue.hasKey(e,We.ARROW_DOWN)){for(let e=i+1;e<a.length;e++)if(!1!==a[e].visible){n=a[e];break}t[r]=n||a[0]}else t[r]&&(Ue.hasKey(e,We.ENTER)||Ue.hasKey(e,We.SPACEBAR))&&g.ctxMenuLinkEvent(e,t[r])},handleOpenMenuEvent:I,handleGlobalContextmenuEvent(t){var{mouseConfig:e,menuConfig:r}=x,{editStore:l,ctxMenuStore:o}=b,a=C.visibleColumn,n=y.value,i=T.value,s=E.value,d=R.value,c=w.value,l=l.selected,u=["header","body","footer"];if(Cl(r)){if(o.visible&&i&&kl(t,i.getRefMaps().refElem.value).flag)return void t.preventDefault();if(C._keyCtx){r={type:"body",$table:g,keyboard:!0,columns:a.slice(0),$event:t};if(e&&s.area){o=g.getActiveCellArea();if(o&&o.row&&o.column)return r.row=o.row,r.column=o.column,void I(t,"body",r)}else if(e&&s.selected&&l.row&&l.column)return r.row=l.row,r.column=l.column,void I(t,"body",r)}for(let e=0;e<u.length;e++){var p=u[e],h=kl(t,c,`vxe-${p}--column`,e=>e.parentNode.parentNode.parentNode.getAttribute("xid")===f),m={type:p,$table:g,columns:a.slice(0),$event:t};if(h.flag){var h=h.targetElem,v=g.getColumnNode(h),v=v?v.item:null;let e=p+"-";v&&Object.assign(m,{column:v,columnIndex:g.getColumnIndex(v),cell:h}),"body"===p&&(h=(v=g.getRowNode(h.parentNode))?v.item:null,e="",h)&&(m.row=h,m.rowIndex=g.getRowIndex(h));v=e+"cell-menu";return I(t,p,m),void g.dispatchEvent(v,m,t)}if(kl(t,c,`vxe-table--${p}-wrapper`,e=>e.getAttribute("xid")===f).flag)return void("cell"===d.trigger?t.preventDefault():I(t,p,m))}}n&&!kl(t,n.getRefMaps().refElem.value).flag&&g.closeFilter(),S.closeMenu()},ctxMenuMouseoverEvent(e,t,r){let d=e.currentTarget;var l=b.ctxMenuStore;e.preventDefault(),e.stopPropagation(),l.selected=t,(l.selectChild=r)||(l.showChild=Nl(t),l.showChild&&(0,El.nextTick)(()=>{var o=d.nextElementSibling;if(o){var{boundingTop:a,boundingLeft:n,visibleHeight:i,visibleWidth:s}=br(d),a=a+d.offsetHeight;let e="",t="",r=(n+d.offsetWidth+o.offsetWidth>s-10&&(e="auto",t=d.offsetWidth+"px"),""),l="";a+o.offsetHeight>i-10&&(r="auto",l="0"),o.style.left=e,o.style.right=t,o.style.top=r,o.style.bottom=l}}))},ctxMenuMouseoutEvent(e,t){var r=b.ctxMenuStore;t.children||(r.selected=null),r.selectChild=null},ctxMenuLinkEvent(e,t){var r,l=g.xeGrid;t.disabled||!t.code&&t.children&&t.children.length||(r=ze.get(t.code),t=Object.assign({},C._currMenuParams,{menu:t,$table:g,$grid:l,$event:e}),(l=r?r.tableMenuMethod||r.menuMethod:null)&&l(t,e),g.dispatchEvent("menu-click",t,e),S.closeMenu())}},{...S,...e}},setupGrid(e){return e.extendTableMethods(qe)}}),xl.VxeUI),Ze=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"],Qe=(Ge.add("tableEditModule",{setupTable(x){let{props:b,reactData:C,internalData:w}=x,o=x.getRefMaps().refElem,{computeMouseOpts:u,computeEditOpts:f,computeCheckboxOpts:y,computeTreeOpts:T,computeValidOpts:i}=x.getComputeMaps(),c=bl().browse(),E={},p={},R=(e,t)=>{var{model:r,editRender:l}=t;l&&(r.value=Ll(e,t),r.update=!1)},a=(e,t)=>{var{model:r,editRender:l}=t;l&&r.update&&(Vl(e,t,r.value),r.update=!1,r.value=null)},r=()=>{var e=o.value;e&&(e=e.querySelector(".col--selected"))&&Sl(e,"col--selected")},s=()=>{var{editStore:e,tableColumn:t}=C,r=f.value,e=e.actived;let{row:l,column:o}=e;(l||o)&&("row"===r.mode?t.forEach(e=>a(l,e)):a(l,o))},S=(e,t)=>{let{tableFullTreeData:n,afterFullData:i,fullDataRowIdData:s,fullAllDataRowIdData:d}=w;var r=T.value;let{rowField:c,parentField:u,mapChildrenField:p}=r,h=r.children||r.childrenField,m=t?"push":"unshift";e.forEach(r=>{let t=r[u];var l=Ol(x,r),o=t?bl().findTree(n,e=>t===e[c],{children:p}):null;if(o){var o=o.item,a=d[Ol(x,o)],a=a?a.level:0;let e=o[h],t=o[p];bl().isArray(e)||(e=o[h]=[]),bl().isArray(t)||(t=o[h]=[]),e[m](r),t[m](r);o={row:r,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:e,parent:o,level:a+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};s[l]=o,d[l]=o}else{t&&el("vxe.error.unableInsert"),i[m](r),n[m](r);a={row:r,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:n,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};s[l]=a,d[l]=a}})},d=(t,r,s)=>{let o=b.treeConfig,{tableFullTreeData:e,afterFullData:a,mergeBodyList:n,tableFullData:i,fullDataRowIdData:d,fullAllDataRowIdData:c,insertRowMaps:l}=w,u=T.value,{transform:p,rowField:h,mapChildrenField:m}=u,v=u.children||u.childrenField,g=(bl().isArray(t)||(t=[t]),(0,El.reactive)(x.defineField(t.map(e=>Object.assign(o&&p?{[m]:[],[v]:[]}:{},e)))));if(bl().eqNull(r))o&&p?S(g,!1):(g.forEach(e=>{var t=Ol(x,e),r={row:e,rowid:t,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:a,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};d[t]=r,c[t]=r,a.unshift(e),i.unshift(e)}),n.forEach(e=>{var t=e.row;0<t&&(e.row=t+g.length)}));else if(-1===r)o&&p?S(g,!0):(g.forEach(e=>{var t=Ol(x,e),r={row:e,rowid:t,seq:-1,index:-1,_index:-1,treeIndex:-1,$index:-1,items:a,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};d[t]=r,c[t]=r,a.push(e),i.push(e)}),n.forEach(e=>{var{row:t,rowspan:r}=e;t+r>a.length&&(e.rowspan=r+g.length)}));else if(o&&p){let i=bl().findTree(e,e=>r[h]===e[h],{children:m});if(i){let o=i.parent,a=o?o[m]:e;t=c[Ol(x,o)];let n=t?t.level:0;if(g.forEach((e,t)=>{var r=Ol(x,e);e[u.parentField]&&o&&e[u.parentField]!==o[h]&&tl("vxe.error.errProp",[u.parentField+"="+e[u.parentField],u.parentField+"="+o[h]]),o&&(e[u.parentField]=o[h]);let l=i.index+t;s&&(l+=1),a.splice(l,0,e);t={row:e,rowid:r,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:a,parent:o,level:n+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};d[r]=t,c[r]=t}),o){t=bl().findTree(e,e=>r[h]===e[h],{children:v});if(t){var f=t.items;let e=t.index;s&&(e+=1),f.splice(e,0,...g)}}}else el("vxe.error.unableInsert"),S(g,!0)}else{if(o)throw new Error(Ye("vxe.error.noTree",["insert"]));let l=-1;if(bl().isNumber(r)?r<a.length&&(l=r):l=x.findRowIndexOf(a,r),-1===(l=s?Math.min(a.length,l+1):l))throw new Error(Ye("vxe.error.unableInsert"));a.splice(l,0,...g);t=x.findRowIndexOf(i,r);-1<t?i.splice(t+(s?1:0),0,...g):i.push(...g),n.forEach(e=>{var{row:t,rowspan:r}=e;t>l?e.row=t+g.length:t+r>l&&(e.rowspan=r+g.length)})}return g.forEach(e=>{var t=Ol(x,e);l[t]=e}),C.insertRowFlag++,x.cacheRowMap(!1),x.updateScrollYStatus(),x.handleTableData(o&&p),o&&p||x.updateAfterDataIndex(),x.updateFooter(),x.handleUpdateBodyMerge(),x.checkSelectionStatus(),C.scrollYLoad&&x.updateScrollYSpace(),(0,El.nextTick)().then(()=>(x.updateCellAreas(),x.recalculate())).then(()=>({row:g.length?g[g.length-1]:null,rows:g}))},l=(e,t,r,l)=>{var o=b.treeConfig;let{transform:a,rowField:n,parentField:i}=T.value;return o&&a?(bl().isArray(e)||(e=[e]),d(e.map(e=>Object.assign({},e,{[i]:t[n]})),r,l)):(tl("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},I=(e,t)=>{var r=C.editStore,{actived:r,focused:l}=r,{row:o,column:a}=r,n=i.value;if(o||a){if(t&&Ol(x,t)!==Ol(x,o))return(0,El.nextTick)();s(),r.args=null,r.row=null,r.column=null,x.updateFooter(),x.dispatchEvent("edit-closed",{row:o,rowIndex:x.getRowIndex(o),$rowIndex:x.getVMRowIndex(o),column:a,columnIndex:x.getColumnIndex(a),$columnIndex:x.getVMColumnIndex(a)},e||null)}return l.row=null,l.column=null,n.autoClear&&("full"!==n.msgMode||"obsolete"===Xe().cellVaildMode)&&x.clearValidate?x.clearValidate():(0,El.nextTick)().then(()=>x.updateCellAreas())},n=(r,l,o,e)=>{let a=x.xeGrid;var{editConfig:t,mouseConfig:n}=b,{editStore:i,tableColumn:s}=C,d=f.value,c=d.mode,{actived:i,focused:u}=i;let{row:p,column:h}=r;var m=h.editRender,v=r.cell||x.getCellElement(p,h),g=d.beforeEditMethod||d.activeMethod;if((r.cell=v)&&Cl(t)&&Cl(m)&&!x.isPendingByRow(p)){if(i.row!==p||"cell"===c&&i.column!==h){let t="edit-disabled";if(!g||g({...r,$table:x,$grid:a})){n&&(x.clearSelected(),x.clearCellAreas)&&(x.clearCellAreas(),x.clearCopyCellArea()),x.closeTooltip(),i.column&&I(l),t="edit-activated",h.renderHeight=v.offsetHeight,i.args=r,i.row=p,i.column=h,"row"===c?s.forEach(e=>R(p,e)):R(p,h);let e=d.afterEditMethod;(0,El.nextTick)(()=>{o&&x.handleFocus(r,l),e&&e({...r,$table:x,$grid:a})})}x.dispatchEvent(t,{row:p,rowIndex:x.getRowIndex(p),$rowIndex:x.getVMRowIndex(p),column:h,columnIndex:x.getColumnIndex(h),$columnIndex:x.getVMColumnIndex(h)},l),"edit-activated"===t&&x.dispatchEvent("edit-actived",{row:p,rowIndex:x.getRowIndex(p),$rowIndex:x.getVMRowIndex(p),column:h,columnIndex:x.getColumnIndex(h),$columnIndex:x.getVMColumnIndex(h)},l)}else{t=i.column;n&&(x.clearSelected(),x.clearCellAreas)&&(x.clearCellAreas(),x.clearCopyCellArea()),t!==h&&(m=t.model,m.update&&Vl(p,t,m.value),x.clearValidate)&&x.clearValidate(p,h),h.renderHeight=v.offsetHeight,i.args=r,i.column=h,e&&setTimeout(()=>{x.handleFocus(r,l)})}u.column=null,u.row=null,x.focus()}return(0,El.nextTick)()},h=(t,e,r)=>{var l=b.editConfig;let o=bl().isString(e)?x.getColumnByField(e):e;return t&&o&&Cl(l)&&Cl(o.editRender)?Promise.resolve(r?x.scrollToRow(t,o):null).then(()=>{var e=x.getCellElement(t,o);return e&&(n({row:t,rowIndex:x.getRowIndex(t),column:o,columnIndex:x.getColumnIndex(o),cell:e,$table:x},null,r,r),w._lastCallTime=Date.now()),(0,El.nextTick)()}):(0,El.nextTick)()};return E={insert(e){return d(e,null)},insertAt(e,t){return d(e,t)},insertNextAt(e,t){return d(e,t,!0)},insertChild(e,t){return l(e,t,null)},insertChildAt(e,t,r){return l(e,t,r)},insertChildNextAt(e,t,r){return l(e,t,r,!0)},remove(e){var t=b.treeConfig,r=C.editStore;let{tableFullTreeData:l,selectCheckboxMaps:o,afterFullData:a,mergeBodyList:n,tableFullData:i,pendingRowMaps:s,insertRowMaps:d,removeRowMaps:c}=w;var u=y.value,p=T.value;let{transform:h,mapChildrenField:m}=p,v=p.children||p.childrenField;p=r.actived,r=u.checkField;let g=[];return e?bl().isArray(e)||(e=[e]):e=i,e.forEach(e=>{var t;x.isInsertByRow(e)||(t=Ol(x,e),c[t]=e)}),r||(e.forEach(e=>{e=Ol(x,e);o[e]&&delete o[e]}),C.updateCheckboxFlag++),i===e?(e=g=i.slice(0),w.tableFullData=[],w.afterFullData=[],x.clearMergeCells()):t&&h?e.forEach(e=>{let t=Ol(x,e);var r=bl().findTree(l,e=>t===Ol(x,e),{children:m}),r=(r&&(r=r.items.splice(r.index,1),g.push(r[0])),bl().findTree(l,e=>t===Ol(x,e),{children:v})),r=(r&&r.items.splice(r.index,1),x.findRowIndexOf(a,e));-1<r&&a.splice(r,1)}):e.forEach(e=>{var t=x.findRowIndexOf(i,e);-1<t&&(t=i.splice(t,1),g.push(t[0]));let l=x.findRowIndexOf(a,e);-1<l&&(n.forEach(e=>{var{row:t,rowspan:r}=e;t>l?e.row=t-1:t+r>l&&(e.rowspan=r-1)}),a.splice(l,1))}),p.row&&-1<x.findRowIndexOf(e,p.row)&&E.clearEdit(),e.forEach(e=>{e=Ol(x,e);d[e]&&delete d[e],s[e]&&delete s[e]}),C.removeRowFlag++,C.insertRowFlag++,C.pendingRowFlag++,x.cacheRowMap(!1),x.handleTableData(t&&h),x.updateFooter(),x.handleUpdateBodyMerge(),t&&h||x.updateAfterDataIndex(),x.checkSelectionStatus(),C.scrollYLoad&&x.updateScrollYSpace(),(0,El.nextTick)().then(()=>(x.updateCellAreas(),x.recalculate())).then(()=>({row:g.length?g[g.length-1]:null,rows:g}))},removeCheckboxRow(){return E.remove(x.getCheckboxRecords()).then(e=>(x.clearCheckboxRow(),e))},removeRadioRow(){var e=x.getRadioRecord();return E.remove(e||[]).then(e=>(x.clearRadioRow(),e))},removeCurrentRow(){var e=x.getCurrentRecord();return E.remove(e||[]).then(e=>(x.clearCurrentRow(),e))},getRecordset(){var e=E.getRemoveRecords(),t=x.getPendingRecords();let r=e.concat(t);var l=E.getUpdateRecords().filter(t=>!r.some(e=>x.eqRow(e,t)));return{insertRecords:E.getInsertRecords(),removeRecords:e,updateRecords:l,pendingRecords:t}},getInsertRecords(){let{fullAllDataRowIdData:r,insertRowMaps:e}=w,l=[];return bl().each(e,(e,t)=>{r[t]&&l.push(e)}),l},getRemoveRecords(){var e=w.removeRowMaps;let t=[];return bl().each(e,e=>{t.push(e)}),t},getUpdateRecords(){var{keepSource:e,treeConfig:t}=b,r=w.tableFullData,l=T.value;return e?(s(),t?bl().filterTree(r,e=>x.isUpdateByRow(e),l):r.filter(e=>x.isUpdateByRow(e))):[]},getActiveRecord(){return el("vxe.error.delFunc",["getActiveRecord","getEditRecord"]),x.getEditRecord()},getEditRecord(){var e=C.editStore,t=w.afterFullData,r=o.value,{args:e,row:l}=e.actived;return e&&-1<x.findRowIndexOf(t,l)&&r.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},e):null},getSelectedCell(){var e=C.editStore,{args:e,column:t}=e.selected;return e&&t?Object.assign({},e):null},clearActived(e){return el("vxe.error.delFunc",["clearActived","clearEdit"]),x.clearEdit(e)},clearEdit(e){return I(null,e)},clearSelected(){var e=C.editStore,e=e.selected;return e.row=null,e.column=null,r(),(0,El.nextTick)()},isActiveByRow(e){return el("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),x.isEditByRow(e)},isEditByRow(e){var t=C.editStore;return t.actived.row===e},setActiveRow(e){return el("vxe.error.delFunc",["setActiveRow","setEditRow"]),E.setEditRow(e)},setEditRow(e,t){var r=w.visibleColumn;let l=bl().find(r,e=>Cl(e.editRender)),o=!1;return t&&(o=!0)!==t&&(l=bl().isString(t)?x.getColumnByField(t):t),h(e,l,o)},setActiveCell(e,t){return el("vxe.error.delFunc",["setActiveCell","setEditCell"]),E.setEditCell(e,t)},setEditCell(e,t){return h(e,t,!0)},setSelectCell(e,t){var r=C.tableData,l=f.value,t=bl().isString(t)?x.getColumnByField(t):t;return e&&t&&"manual"!==l.trigger&&-1<(l=x.findRowIndexOf(r,e))&&t&&(r=x.getCellElement(e,t),e={row:e,rowIndex:l,column:t,columnIndex:x.getColumnIndex(t),cell:r},x.handleSelected(e,{})),(0,El.nextTick)()}},p={handleEdit(e,t){return n(e,t,!0,!0)},handleActived(e,t){return p.handleEdit(e,t)},handleClearEdit:I,handleFocus(l){var{row:o,column:a,cell:n}=l,i=a.editRender,s=f.value;if(Cl(i)){var d=Ke.get(i.name);let e=i.autofocus||i.autoFocus,t=i.autoSelect||i.autoselect,r;s.autoFocus&&(!e&&d&&(e=d.tableAutoFocus||d.tableAutofocus||d.autofocus),!t&&d&&(t=d.tableAutoSelect||d.autoselect),bl().isFunction(e)?r=e(l):e&&(r=!0===e?n.querySelector("input,textarea"):n.querySelector(e))&&r.focus()),r?t?r.select():c.msie&&((i=r.createTextRange()).collapse(!1),i.select()):s.autoPos&&!a.fixed&&x.scrollToRow(o,a)}},handleSelected(e,t){var r=b.mouseConfig,l=C.editStore,o=u.value;let a=f.value,{actived:n,selected:i}=l,{row:s,column:d}=e,c=r&&o.selected;return!c||i.row===s&&i.column===d||(n.row!==s||"cell"===a.mode&&n.column!==d)&&(I(t),x.clearSelected(),x.clearCellAreas&&(x.clearCellAreas(),x.clearCopyCellArea()),i.args=e,i.row=s,i.column=d,c&&p.addCellSelectedClass(),x.focus(),t)&&x.dispatchEvent("cell-selected",e,t),(0,El.nextTick)()},addCellSelectedClass(){var e=C.editStore,e=e.selected,{row:e,column:t}=e;r(),e&&t&&(e=x.getCellElement(e,t))&&Il(e,"col--selected")}},{...E,...p}},setupGrid(e){return e.extendTableMethods(Ze)}}),'body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}'),{getI18n:N,hooks:Je,renderer:et}=xl.VxeUI,y,T="\r\n";function Ur(e){return e.field||-1<["seq","checkbox","radio"].indexOf(e.type)}let tt=e=>{let t=[];return e.forEach(e=>{e.childNodes&&e.childNodes.length?(t.push(e),t.push(...tt(e.childNodes))):t.push(e)}),t};function Wr(e){return"TRUE"===e||"true"===e||!0===e}function qr(e,t){let r=e.footerFilterMethod;return r?t.filter((e,t)=>r({items:e,$rowIndex:t})):t}function Xr(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function Ft(e,t){return e.getElementsByTagName(t)}function Kr(e){return`#${e}@`+bl().uniqueId()}function Gr(e,t){return e.replace(/#\d+@\d+/g,e=>bl().hasOwnProp(t,e)?t[e]:e)}function Yr(e,t){return Gr(e,t).replace(/^"+$/g,e=>'"'.repeat(Math.ceil(e.length/2)))}function Zr(e,t){var{fieldMaps:e,titleMaps:r}=e;return e[t]||(e=r[t])&&e.field&&(t=e.field),t}function Qr(t,e,a){e=e.split(T);let n=[],i=[];if(e.length){let l={},o=Date.now();e.forEach(e=>{if(e){let r={};e=(e=e.replace(/("")|(\n)/g,(e,t)=>{var r=Kr(o);return l[r]=t?'"':"\n",r}).replace(/"(.*?)"/g,(e,t)=>{var r=Kr(o);return l[r]=Gr(t,l),r})).split(a);i.length?(e.forEach((e,t)=>{t<i.length&&(r[i[t]]=Yr(e.trim(),l))}),n.push(r)):i=e.map(e=>Zr(t,Yr(e.trim(),l)))}})}return{fields:i,rows:n}}function Jr(e){bl().eachTree(e,e=>{delete e._level,delete e._colSpan,delete e._rowSpan,delete e._children,delete e.childNodes},{children:"children"})}let rt=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"],lt=(Je.add("tableExportModule",{setupTable(M){let{props:k,reactData:F,internalData:O}=M,{computeTreeOpts:A,computePrintOpts:n,computeExportOpts:L,computeImportOpts:c,computeCustomOpts:S,computeSeqOpts:i,computeRadioOpts:l,computeCheckboxOpts:o,computeColumnOpts:s}=M.getComputeMaps(),V=(0,El.inject)("$xeGrid",null),g=e=>{var t=A.value,t=t.children||t.childrenField;return e[t]&&e[t].length},f=(e,t,r,l,o)=>{var a=i.value.seqMethod||l.seqMethod;return a?a({row:t,rowIndex:M.getRowIndex(t),$rowIndex:r,column:l,columnIndex:M.getColumnIndex(l),$columnIndex:o}):e};function I(e,t){var r=s.value,r=t.headerExportMethod||r.headerExportMethod;return r?r({column:t,options:e,$table:M}):(e.isTitle?t.getTitle():t.field)||""}let x=e=>bl().isBoolean(e)?e?"TRUE":"FALSE":e,b=e=>Tl(e)?"":""+e,d=(c,u,e)=>{let{isAllExpand:n,mode:p}=c;var t=k.treeConfig;let h=l.value,m=o.value;var r=A.value;let v=s.value;if(y=y||document.createElement("div"),t){t=r.children||r.childrenField;let o=[],a=new Map;return bl().eachTree(e,(e,i,t,s,r,l)=>{let d=e._row||e;e=r&&r._row?r._row:r;if(n||!e||a.has(e)&&M.isTreeExpandByRow(e)){r=g(d);let n={_row:d,_level:l.length-1,_hasChild:r,_expand:r&&M.isTreeExpandByRow(d)};u.forEach((e,t)=>{let r="";var l=e.editRender||e.cellRender;let o=e.exportMethod||v.exportMethod;if(o=(o=!o&&l&&l.name&&(l=et.get(l.name))?l.tableExportMethod||l.exportMethod:o)||v.exportMethod)r=o({$table:M,row:d,column:e,options:c});else switch(e.type){case"seq":var a=s.map((e,t)=>t%2==0?Number(e)+1:".").join("");r="all"===p?a:f(a,d,i,e,t);break;case"checkbox":r=x(M.isCheckedByCheckboxRow(d)),n._checkboxLabel=m.labelField?bl().get(d,m.labelField):"",n._checkboxDisabled=m.checkMethod&&!m.checkMethod({row:d});break;case"radio":r=x(M.isCheckedByRadioRow(d)),n._radioLabel=h.labelField?bl().get(d,h.labelField):"",n._radioDisabled=h.checkMethod&&!h.checkMethod({row:d});break;default:c.original?r=Ll(d,e):(r=M.getCellLabel(d,e),"html"===e.type?(y.innerHTML=r,r=y.innerText.trim()):(a=M.getCellElement(d,e))&&!Rl(a,"is--progress")&&(r=a.innerText.trim()))}n[e.id]=b(r)}),a.set(d,1),o.push(Object.assign(n,d))}},{children:t}),o}return e.map((n,i)=>{let s={_row:n};return u.forEach((e,t)=>{let r="";var l=e.editRender||e.cellRender;let o=e.exportMethod||v.exportMethod;if(o=!o&&l&&l.name&&(l=et.get(l.name))?l.tableExportMethod||l.exportMethod:o)r=o({$table:M,row:n,column:e,options:c});else switch(e.type){case"seq":var a=i+1;r="all"===p?a:f(a,n,i,e,t);break;case"checkbox":r=x(M.isCheckedByCheckboxRow(n)),s._checkboxLabel=m.labelField?bl().get(n,m.labelField):"",s._checkboxDisabled=m.checkMethod&&!m.checkMethod({row:n});break;case"radio":r=x(M.isCheckedByRadioRow(n)),s._radioLabel=h.labelField?bl().get(n,h.labelField):"",s._radioDisabled=h.checkMethod&&!h.checkMethod({row:n});break;default:c.original?r=Ll(n,e):(r=M.getCellLabel(n,e),"html"===e.type?(y.innerHTML=r,r=y.innerText.trim()):(a=M.getCellElement(n,e))&&!Rl(a,"is--progress")&&(r=a.innerText.trim()))}s[e.id]=b(r)}),s})},D=(e,t,r)=>{var l=s.value,o=r.editRender||r.cellRender;let a=r.footerExportMethod;a=(a=!a&&o&&o.name&&(o=et.get(o.name))?o.tableFooterExportMethod||o.footerExportMethod:a)||l.footerExportMethod;o=M.getVTColumnIndex(r);return a?a({$table:M,items:t,itemIndex:o,row:t,_columnIndex:o,column:r,options:e}):bl().isArray(t)?bl().toValueString(t[o]):bl().get(t,r.field)},u=(r,e,t)=>{let l="\ufeff";return r.isHeader&&(l+=e.map(e=>Xr(I(r,e))).join(",")+T),t.forEach(t=>{l+=e.map(e=>Xr(((e,t)=>{if(t){if("seq"===e.type)return`	`+t;switch(e.cellType){case"string":if(isNaN(t))break;return`	`+t;case"number":break;default:if(12<=t.length&&!isNaN(t))return`	`+t}}return t})(e,t[e.id]))).join(",")+T}),r.isFooter&&(t=F.footerTableData,qr(r,t).forEach(t=>{l+=e.map(e=>Xr(D(r,t,e))).join(",")+T})),l},p=(r,e,t)=>{let l="";return r.isHeader&&(l+=e.map(e=>Xr(I(r,e))).join("\t")+T),t.forEach(t=>{l+=e.map(e=>Xr(t[e.id])).join("\t")+T}),r.isFooter&&(t=F.footerTableData,qr(r,t).forEach(t=>{l+=e.map(e=>Xr(D(r,t,e))).join("\t")+T})),l},H=(e,t,r)=>{e=e[t],t=bl().isUndefined(e)||bl().isNull(e)?r:e;let l="title"===t||(!0===t||"tooltip"===t)||"ellipsis"===t;var{scrollXLoad:r,scrollYLoad:e}=F;return l=r||e?l||!0:l},h=(i,e,t)=>{let{id:d,border:r,treeConfig:l,headerAlign:s,align:c,footerAlign:a,showOverflow:u,showHeaderOverflow:p}=k,{isAllSelected:h,isIndeterminate:o}=F,m=O.mergeBodyCellMaps,n=A.value,{print:v,isHeader:g,isFooter:f,isColgroup:x,isMerge:b,colgroups:C,original:w}=i,y="check-all";let T=[`<table class="${["vxe-table","border--"+(!0===(R=r)?"full":R||"default"),v?"is--print":"",g?"is--header":""].filter(e=>e).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${e.map(e=>`<col style="width:${e.renderWidth}px">`).join("")}</colgroup>`];g&&(T.push("<thead>"),x&&!w?C.forEach(e=>{T.push(`<tr>${e.map(t=>{var e=t.headerAlign||t.align||s||c,r=H(t,"showHeaderOverflow",p)?["col--ellipsis"]:[],l=I(i,t);let o=0,a=0;bl().eachTree([t],e=>{e.childNodes&&t.childNodes.length||a++,o+=e.renderWidth},{children:"childNodes"});var n=o-a;return e&&r.push("col--"+e),"checkbox"===t.type?`<th class="${r.join(" ")}" colspan="${t._colSpan}" rowspan="${t._rowSpan}"><div ${v?"":`style="width: ${n}px"`}><input type="checkbox" class="${y}" ${h?"checked":""}><span>${l}</span></div></th>`:`<th class="${r.join(" ")}" colspan="${t._colSpan}" rowspan="${t._rowSpan}" title="${l}"><div ${v?"":`style="width: ${n}px"`}><span>${yl(l,!0)}</span></div></th>`}).join("")}</tr>`)}):T.push(`<tr>${e.map(e=>{var t=e.headerAlign||e.align||s||c,r=H(e,"showHeaderOverflow",p)?["col--ellipsis"]:[],l=I(i,e);return t&&r.push("col--"+t),"checkbox"===e.type?`<th class="${r.join(" ")}"><div ${v?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" class="${y}" ${h?"checked":""}><span>${l}</span></div></th>`:`<th class="${r.join(" ")}" title="${l}"><div ${v?"":`style="width: ${e.renderWidth}px"`}><span>${yl(l,!0)}</span></div></th>`}).join("")}</tr>`),T.push("</thead>")),t.length&&(T.push("<tbody>"),l?t.forEach(o=>{T.push("<tr>"+e.map(t=>{var r=t.id,e=t.align||c,l=H(t,"showOverflow",u)?["col--ellipsis"]:[],r=o[r];if(e&&l.push("col--"+e),t.treeNode){let e="";return o._hasChild&&(e=`<i class="${o._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),l.push("vxe-table--tree-node"),"radio"===t.type?`<td class="${l.join(" ")}" title="${r}"><div ${v?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${o._level*n.indent}px"><div class="vxe-table--tree-icon-wrapper">${e}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${d}" ${o._radioDisabled?"disabled ":""}${Wr(r)?"checked":""}><span>${o._radioLabel}</span></div></div></div></td>`:"checkbox"===t.type?`<td class="${l.join(" ")}" title="${r}"><div ${v?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${o._level*n.indent}px"><div class="vxe-table--tree-icon-wrapper">${e}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${o._checkboxDisabled?"disabled ":""}${Wr(r)?"checked":""}><span>${o._checkboxLabel}</span></div></div></div></td>`:`<td class="${l.join(" ")}" title="${r}"><div ${v?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${o._level*n.indent}px"><div class="vxe-table--tree-icon-wrapper">${e}</div><div class="vxe-table--tree-cell">${r}</div></div></div></td>`}return"radio"===t.type?`<td class="${l.join(" ")}"><div ${v?"":`style="width: ${t.renderWidth}px"`}><input type="radio" name="radio_${d}" ${o._radioDisabled?"disabled ":""}${Wr(r)?"checked":""}><span>${o._radioLabel}</span></div></td>`:"checkbox"===t.type?`<td class="${l.join(" ")}"><div ${v?"":`style="width: ${t.renderWidth}px"`}><input type="checkbox" ${o._checkboxDisabled?"disabled ":""}${Wr(r)?"checked":""}><span>${o._checkboxLabel}</span></div></td>`:`<td class="${l.join(" ")}" title="${r}"><div ${v?"":`style="width: ${t.renderWidth}px"`}>${yl(r,!0)}</div></td>`}).join("")+"</tr>")}):t.forEach(s=>{T.push("<tr>"+e.map(e=>{var t=e.align||c,r=H(e,"showOverflow",u)?["col--ellipsis"]:[],l=s[e.id];let o=1,a=1;if(b){var n=M.getVTRowIndex(s._row),i=M.getVTColumnIndex(e),n=m[n+":"+i];if(n){var{rowspan:i,colspan:n}=n;if(!i||!n)return"";1<i&&(o=i),1<n&&(a=n)}}return t&&r.push("col--"+t),"radio"===e.type?`<td class="${r.join(" ")}" rowspan="${o}" colspan="${a}"><div ${v?"":`style="width: ${e.renderWidth}px"`}><input type="radio" name="radio_${d}" ${s._radioDisabled?"disabled ":""}${Wr(l)?"checked":""}><span>${s._radioLabel}</span></div></td>`:"checkbox"===e.type?`<td class="${r.join(" ")}" rowspan="${o}" colspan="${a}"><div ${v?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" ${s._checkboxDisabled?"disabled ":""}${Wr(l)?"checked":""}><span>${s._checkboxLabel}</span></div></td>`:`<td class="${r.join(" ")}" rowspan="${o}" colspan="${a}" title="${l}"><div ${v?"":`style="width: ${e.renderWidth}px"`}>${yl(l,!0)}</div></td>`}).join("")+"</tr>")}),T.push("</tbody>")),f&&(R=F.footerTableData,(t=qr(i,R)).length)&&(T.push("<tfoot>"),t.forEach(o=>{T.push(`<tr>${e.map(e=>{var t=e.footerAlign||e.align||a||c,r=H(e,"showOverflow",u)?["col--ellipsis"]:[],l=D(i,o,e);return t&&r.push("col--"+t),`<td class="${r.join(" ")}" title="${l}"><div ${v?"":`style="width: ${e.renderWidth}px"`}>${yl(l,!0)}</div></td>`}).join("")}</tr>`)}),T.push("</tfoot>"));var E,R=!h&&o?`<script>(function(){var a=document.querySelector(".${y}");if(a){a.indeterminate=true}})()</script>`:"";return T.push("</table>",R),(v?T:(t=i,R=T.join(""),E=t.style,["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${t.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${Qe}</style>`,E?`<style>${E}</style>`:"","</head>",`<body>${R}</body>`,"</html>"])).join("")},m=(r,e,t)=>{let l=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${r.sheetName}">`,"<Table>",e.map(e=>`<Column ss:Width="${e.renderWidth}"/>`).join("")].join("");return r.isHeader&&(l+=`<Row>${e.map(e=>`<Cell><Data ss:Type="String">${I(r,e)}</Data></Cell>`).join("")}</Row>`),t.forEach(t=>{l+="<Row>"+e.map(e=>`<Cell><Data ss:Type="String">${t[e.id]}</Data></Cell>`).join("")+"</Row>"}),r.isFooter&&(t=F.footerTableData,qr(r,t).forEach(t=>{l+=`<Row>${e.map(e=>`<Cell><Data ss:Type="String">${D(r,t,e)}</Data></Cell>`).join("")}</Row>`})),l+"</Table></Worksheet></Workbook>"},v=(e,t)=>{var{filename:r,type:l,download:o}=e;if(!o)return o=new Blob([t],{type:`text/${e.type};charset=utf-8;`}),Promise.resolve({type:l,content:t,blob:o});xl.VxeUI.saveFile&&xl.VxeUI.saveFile({filename:r,type:l,content:t}).then(()=>{!1!==e.message&&xl.VxeUI.modal&&xl.VxeUI.modal.message({content:N("vxe.table.expSuccess"),status:"success"})})},$=r=>{let{remote:l,columns:o,colgroups:a,exportMethod:n,afterExportMethod:t}=r;return new Promise(t=>{if(l){var e={options:r,$table:M,$grid:V};t(n?n(e):e)}else{let e=(e=>{let{columns:t,dataFilterMethod:r}=e,l=e.data;return r&&(l=l.filter((e,t)=>r({row:e,$rowIndex:t}))),d(e,t,l)})(r);t(M.preventEvent(null,"event.export",{options:r,columns:o,colgroups:a,datas:e},()=>v(r,((e,t,r)=>{if(t.length)switch(e.type){case"csv":return u(e,t,r);case"txt":return p(e,t,r);case"html":return h(e,t,r);case"xml":return m(e,t,r)}return""})(r,o,e))))}}).then(e=>(Jr(o),r.print||t&&t({status:!0,options:r,$table:M,$grid:V}),Object.assign({status:!0},e))).catch(()=>{Jr(o),r.print||t&&t({status:!1,options:r,$table:M,$grid:V});return Promise.reject({status:!1})})},C=(e,r)=>{let{tableFullColumn:t,_importResolve:l,_importReject:o}=O,a={fields:[],rows:[]},n={},i={};t.forEach(e=>{var t=e.field,r=e.getTitle();t&&(n[t]=e),r&&(i[e.getTitle()]=e)});var s={fieldMaps:n,titleMaps:i};switch(r.type){case"csv":a=Qr(s,e,",");break;case"txt":a=Qr(s,e,"\t");break;case"html":a=((t,e)=>{var r,e=Ft((new DOMParser).parseFromString(e,"text/html"),"body");let l=[],o=[];return e.length&&(e=Ft(e[0],"table")).length&&(r=Ft(e[0],"thead")).length&&(bl().arrayEach(Ft(r[0],"tr"),e=>{bl().arrayEach(Ft(e,"th"),e=>{o.push(Zr(t,e.textContent||""))})}),(r=Ft(e[0],"tbody")).length)&&bl().arrayEach(Ft(r[0],"tr"),e=>{let r={};bl().arrayEach(Ft(e,"td"),(e,t)=>{o[t]&&(r[o[t]]=e.textContent||"")}),l.push(r)}),{fields:o,rows:l}})(s,e);break;case"xml":a=((t,e)=>{var e=Ft((new DOMParser).parseFromString(e,"application/xml"),"Worksheet");let l=[],o=[];return e.length&&(e=Ft(e[0],"Table")).length&&(e=Ft(e[0],"Row")).length&&(bl().arrayEach(Ft(e[0],"Cell"),e=>{o.push(Zr(t,e.textContent||""))}),bl().arrayEach(e,(e,t)=>{if(t){let r={};t=Ft(e,"Cell");bl().arrayEach(t,(e,t)=>{o[t]&&(r[o[t]]=e.textContent)}),l.push(r)}})),{fields:o,rows:l}})(s,e)}let{fields:d,rows:c}=a;d.some(e=>n[e]||i[e])?M.createData(c).then(e=>{let t;return"insert"!==r.mode&&"insertBottom"!==r.mode||(t=M.insertAt(e,-1)),t="insertTop"===r.mode?M.insert(e):M.reloadData(e),!1!==r.message&&xl.VxeUI.modal&&xl.VxeUI.modal.message({content:N("vxe.table.impSuccess",[c.length]),status:"success"}),t.then(()=>{l&&l({status:!0})})}):!1!==r.message&&(xl.VxeUI.modal&&xl.VxeUI.modal.message({content:N("vxe.error.impFields"),status:"error"}),o)&&o({status:!1})},a=(a,n)=>{let{importMethod:i,afterImportMethod:t}=n,{type:s,filename:d}=hr(a);var e=c.value;return i||bl().includes(bl().keys(e._typeMaps),s)?new Promise((t,r)=>{let e=e=>{t(e),O._importResolve=null,O._importReject=null},l=e=>{r(e),O._importResolve=null,O._importReject=null};if(O._importResolve=e,O._importReject=l,window.FileReader){let t=Object.assign({mode:"insertTop"},n,{type:s,filename:d});var o;t.remote?i?Promise.resolve(i({file:a,options:t,$table:M})).then(()=>{e({status:!0})}).catch(()=>{e({status:!0})}):e({status:!0}):(o=O.tableFullColumn,M.preventEvent(null,"event.import",{file:a,options:t,columns:o},()=>{var e=new FileReader;e.onerror=()=>{tl("vxe.error.notType",[s]),l({status:!1})},e.onload=e=>{C(e.target.result,t)},e.readAsText(a,t.encoding||"UTF-8")}))}else tl("vxe.error.notExp"),e({status:!0})}).then(()=>{t&&t({status:!0,options:n,$table:M})}).catch(e=>(t&&t({status:!1,options:n,$table:M}),Promise.reject(e))):(!1!==n.message&&xl.VxeUI.modal&&xl.VxeUI.modal.message({content:N("vxe.error.notType",[s]),status:"error"}),Promise.reject({status:!1}))},_=(e,l,t)=>t.some(e=>{var t,r;return Dr(e)?l.id===e.id:bl().isString(e)?l.field===e:(t=e.id||e.colId,r=e.type,e=e.field,t?l.id===t:e&&r?l.field===e&&l.type===r:e?l.field===e:!!r&&l.type===r)}),B=(e,t,r,l)=>(!l||!bl().includes(l,t.field))&&(r?!!bl().includes(r,t.field):e.original?t.field:Ur(t)),r=(e,t)=>{var{treeConfig:r,showHeader:l,showFooter:o}=k,{initStore:a,isGroup:n,footerTableData:i,exportStore:s,exportParams:d}=F,{collectColumn:c,mergeBodyList:u,mergeFooterList:p}=O,h=L.value,m=S.value,v=M.getCheckboxRecords(),g=V?V.getComputeMaps().computeProxyOpts.value:{},i=!!i.length,u=!(!u.length&&!p.length);let f=Object.assign({message:!0,isHeader:l,isTitle:l,isFooter:o,isColgroup:n,isMerge:u,useStyle:!0,current:"current",modes:(g.ajax&&g.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},e);p=f.types||bl().keys(h._typeMaps),l=f.modes||[];let x=m.checkMethod;o=c.slice(0);let{columns:b,excludeFields:C,includeFields:w}=f;g=p.map(e=>({value:e,label:N("vxe.export.types."+e)})),e=l.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:N("vxe.export.modes."+e)});bl().eachTree(o,(e,t,r,l,o)=>{var a=e.children&&e.children.length;let n=!1;n=b&&b.length?_(f,e,b):C||w?B(f,e,w,C):e.visible&&(a||Ur(e)),e.checked=n,e.halfChecked=!1,e.disabled=o&&o.disabled||!!x&&!x({column:e})}),Object.assign(s,{columns:o,typeList:g,modeList:e,hasFooter:i,hasMerge:u,hasTree:r,isPrint:t,hasColgroup:n,visible:!0}),Object.assign(d,{mode:v.length?"selected":"current"},f);let{filename:y,sheetName:T,mode:E,type:R}=d;return y&&(bl().isFunction(y)?d.filename=y({options:f,$table:M,$grid:V}):d.filename=""+y),T&&(bl().isFunction(T)?d.sheetName=T({options:f,$table:M,$grid:V}):d.sheetName=""+T),e.some(e=>e.value===E)||(d.mode=e[0].value),g.some(e=>e.value===R)||(d.type=g[0].value),a.export=!0,(0,El.nextTick)()};var e=()=>xl.VxeUI.modal?xl.VxeUI.modal.close("VXE_EXPORT_MODAL"):Promise.resolve();let w={exportData(i){var{treeConfig:e,showHeader:s,showFooter:d}=k,t=F.isGroup;let{tableFullColumn:a,afterFullData:r,collectColumn:l,mergeBodyList:o,mergeFooterList:n}=O;var c=L.value,u=A.value;let p=V?V.getComputeMaps().computeProxyOpts.value:{};var h=!(!o.length&&!n.length);let m=Object.assign({message:!0,isHeader:s,isTitle:s,isFooter:d,isColgroup:t,isMerge:h,useStyle:!0,current:"current",modes:(p.ajax&&p.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},c,i),{filename:v,sheetName:g,type:f,mode:x,columns:b,original:C,columnFilterMethod:w,beforeExportMethod:y,includeFields:T,excludeFields:E}=m,R=[],S=M.getCheckboxRecords();x=x||(S.length?"selected":"current");s=b&&b.length?b:bl().searchTree(l,e=>{var t=e.children&&e.children.length;let r=!1;return r=b&&b.length?_(m,e,b):E||T?B(m,e,T,E):e.visible&&(t||Ur(e))},{children:"children",mapChildren:"childNodes",original:!0});let I=Object.assign({},m,{filename:"",sheetName:""}),D=(s||w||(I.columnFilterMethod=({column:e})=>(!E||!bl().includes(E,e.field))&&(T?!!bl().includes(T,e.field):C?e.field:Ur(e))),R=s?(I._isCustomColumn=!0,bl().searchTree(bl().mapTree(s,e=>{let l;if(e){if(Dr(e))l=e;else if(bl().isString(e))l=M.getColumnByField(e);else{var o=e.id||e.colId;let t=e.type,r=e.field;o?l=M.getColumnById(o):r&&t?l=a.find(e=>e.field===r&&e.type===t):r?l=M.getColumnByField(r):t&&(l=a.find(e=>e.type===t))}return l||{}}},{children:"childNodes",mapChildren:"_children"}),(e,t)=>Dr(e)&&(!w||w({column:e,$columnIndex:t})),{children:"_children",mapChildren:"childNodes",original:!0})):bl().searchTree(t?l:a,(e,t)=>e.visible&&(!w||w({column:e,$columnIndex:t})),{children:"children",mapChildren:"childNodes",original:!0}),[]);if(bl().eachTree(R,e=>{e.children&&e.children.length||D.push(e)},{children:"childNodes"}),I.columns=D,I.colgroups=(e=>{let t=1,l=(r,e)=>{if(e&&(r._level=e._level+1,t<r._level)&&(t=r._level),r.childNodes&&r.childNodes.length){let t=0;r.childNodes.forEach(e=>{l(e,r),t+=e._colSpan}),r._colSpan=t}else r._colSpan=1},r=(e.forEach(e=>{e._level=1,l(e)}),[]);for(let e=0;e<t;e++)r.push([]);return tt(e).forEach(e=>{e.childNodes&&e.childNodes.length?e._rowSpan=1:e._rowSpan=t-e._level+1,r[e._level-1].push(e)}),r})(R),v&&(bl().isFunction(v)?I.filename=v({options:m,$table:M,$grid:V}):I.filename=""+v),I.filename||(I.filename=N(I.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[bl().toDateString(Date.now(),"yyyyMMddHHmmss")])),g&&(bl().isFunction(g)?I.sheetName=g({options:m,$table:M,$grid:V}):I.sheetName=""+g),I.sheetName||(I.sheetName=document.title||""),!I.exportMethod&&!bl().includes(bl().keys(c._typeMaps),f))return tl("vxe.error.notType",[f]),["xlsx","pdf"].includes(f)&&el("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]),Promise.reject({status:!1});if(I.print||y&&y({options:I,$table:M,$grid:V}),!I.data){if(I.data=[],"selected"===x)-1<["html","pdf"].indexOf(f)&&e?I.data=bl().searchTree(M.getTableData().fullData,e=>-1<M.findRowIndexOf(S,e),Object.assign({},u,{data:"_row"})):I.data=S;else if("all"===x&&(V||el("vxe.error.errProp",["all","mode=current,selected"]),V)&&!I.remote){d=V.reactData,h=V.getComputeMaps().computeProxyOpts;let e=h.value;i=d.sortData;let{beforeQueryAll:t,afterQueryAll:l,ajax:r={}}=e,o=e.response||e.props||{};s=r.queryAll;let a=r.queryAllSuccess,n=r.queryAllError;if(s||el("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),s){let r={$table:M,$grid:V,sort:i.length?i[0]:{},sorts:i,filters:d.filterData,form:d.formData,options:I};return Promise.resolve((t||s)(r)).then(e=>{var t=o.list;return I.data=(t?bl().isFunction(t)?t({data:e,$grid:V}):bl().get(e,t):e)||[],l&&l(r),a&&a({...r,response:e}),$(I)}).catch(e=>{n&&n({...r,response:e})})}}"current"===x&&(I.data=r)}return $(I)},importByFile(e,t){var t=Object.assign({},t),r=t.beforeImportMethod;return r&&r({options:t,$table:M}),a(e,t)},importData(e){var t=c.value;let r=Object.assign({types:bl().keys(t._typeMaps)},t,e),{beforeImportMethod:l,afterImportMethod:o}=r;return l&&l({options:r,$table:M}),xl.VxeUI.readFile(r).catch(e=>(o&&o({status:!1,options:r,$table:M}),Promise.reject(e))).then(e=>{e=e.file;return a(e,r)})},saveFile(e){return xl.VxeUI.saveFile(e)},readFile(e){return xl.VxeUI.readFile(e)},print(e){var t=n.value;let r=Object.assign({original:!1},t,e,{type:"html",download:!1,remote:!1,print:!0});t=r.sheetName;let l="",o=(l=(l=t?bl().isFunction(t)?t({options:r,$table:M,$grid:V}):""+t:l)||document.title||"",r.beforePrintMethod),a=r.html||r.content;return new Promise((e,t)=>{xl.VxeUI.print?a?e(xl.VxeUI.print({title:l,html:a,customStyle:r.style,beforeMethod:o?({html:e})=>o({html:e,content:e,options:r,$table:M}):void 0})):e(w.exportData(r).then(({content:e})=>xl.VxeUI.print({title:l,html:e,customStyle:r.style,beforeMethod:o?({html:e})=>o({html:e,content:e,options:r,$table:M}):void 0}))):t({status:!1})})},getPrintHtml(e){var t=n.value,t=Object.assign({original:!1},t,e,{type:"html",download:!1,remote:!1,print:!0});return M.exportData(t).then(({content:e})=>({html:e}))},closeImport(){return xl.VxeUI.modal?xl.VxeUI.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(e){var{treeConfig:t,importConfig:r}=k;let{initStore:l,importStore:o,importParams:a}=F;var n=c.value,n=Object.assign({mode:"insertTop",message:!0,types:bl().keys(n._typeMaps),modes:["insertTop","covering"]},n,e),e=n.types||[],i=n.modes||[];!t?(r||tl("vxe.error.reqProp",["import-config"]),t=e.map(e=>({value:e,label:N("vxe.export.types."+e)})),r=i.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:N("vxe.import.modes."+e)}),Object.assign(o,{file:null,type:"",filename:"",modeList:r,typeList:t,visible:!0}),Object.assign(a,n),r.some(e=>e.value===a.mode)||(a.mode=r[0].value),l.import=!0):n.message&&xl.VxeUI.modal&&xl.VxeUI.modal.message({content:N("vxe.error.treeNotImp"),status:"error"})},closeExport:e,openExport(e){var t=L.value,t=Object.assign({message:!0,types:bl().keys(t._typeMaps)},t,e);k.exportConfig||tl("vxe.error.reqProp",["export-config"]),r(t)},closePrint:e,openPrint(e){var t=n.value,t=Object.assign({message:!0},t,e);k.printConfig||tl("vxe.error.reqProp",["print-config"]),r(t,!0)}};return w},setupGrid(e){return e.extendTableMethods(rt)}}),Tt=xl.VxeUI.hooks,bl().browse()),{getConfig:ot,validators:at,hooks:nt}=(Tt.add("tableKeyboardModule",{setupTable(D){let{props:M,reactData:k,internalData:F}=D,O=D.getRefMaps().refElem,{computeEditOpts:g,computeCheckboxOpts:s,computeMouseOpts:d,computeTreeOpts:c,computeRowOpts:A,computeColumnOpts:f,computeCellOpts:L,computeDefaultRowHeight:V,computeCurrentRowOpts:x,computeCurrentColumnOpts:b}=D.getComputeMaps();let u=(e,I)=>{var t=F.elemStore,r=Hl(t["main-body-scroll"]),l=Hl(t["left-body-scroll"]),t=Hl(t["right-body-scroll"]),{column:o,cell:a}=I;if("checkbox"===o.type){let S=r;if(l&&"left"===o.fixed?S=l:t&&"right"===o.fixed&&(S=t),S){let t=O.value,i=e.clientX,s=e.clientY,d=S.querySelector(".vxe-table--checkbox-range"),c=a.parentElement,u=D.getCheckboxRecords(),p=[],h=1;r=((e,t)=>{let r=0,l=0;var o,a,n=!lt.firefox&&Rl(e,"vxe-checkbox--label");for(n&&(o=getComputedStyle(e),r-=bl().toNumber(o.paddingTop),l-=bl().toNumber(o.paddingLeft));e&&e!==t;)r+=e.offsetTop,l+=e.offsetLeft,e=e.offsetParent,n&&(a=getComputedStyle(e),r-=bl().toNumber(a.paddingTop),l-=bl().toNumber(a.paddingLeft));return{offsetTop:r,offsetLeft:l}})(e.target,S);let m=r.offsetTop+e.offsetY,v=r.offsetLeft+e.offsetX,g=S.scrollTop,n=c.offsetHeight,f=c.getBoundingClientRect(),x=s-f.y,b=null,C=!1,w=1,y=(e,t)=>{D.dispatchEvent("checkbox-range-"+e,{records:D.getCheckboxRecords(),reserves:D.getCheckboxReserveRecords()},t)},T=e=>{var{clientX:t,clientY:r}=e,t=t-i,r=r-s+(S.scrollTop-g);let l=Math.abs(r),o=Math.abs(t),a=m,n=v;r<h?(a+=r)<h&&(a=h,l=m):l=Math.min(l,S.scrollHeight-m-h),t<h?(n+=t,o>v&&(n=h,o=v)):o=Math.min(o,S.clientWidth-v-h),d.style.height=l+"px",d.style.width=o+"px",d.style.left=n+"px",d.style.top=a+"px",d.style.display="block";t=((e,t,r,l,o)=>{var a=M.showOverflow,{fullAllDataRowIdData:n,isResizeCellHeight:i}=F,s=A.value,d=L.value,c=V.value,e=e.row;let u=0,p=[],h=0;var m=0<o,v=k.scrollYLoad,g=F.afterFullData;if(h=m?l+o:r.height-l+Math.abs(o),v){r=D.getVTRowIndex(e);if(!(i||d.height||s.height)&&a)p=m?g.slice(r,r+Math.ceil(h/c)):g.slice(r-Math.floor(h/c),r+1);else if(m)for(let e=r;e<g.length;e++){var f=g[e],x=n[D.getRowid(f)]||{};if(u+=x.resizeHeight||d.height||s.height||x.height||c,p.push(f),u>h)return p}else for(let e=r;0<=e;e--){var b=g[e],C=n[D.getRowid(b)]||{};if(u+=C.resizeHeight||d.height||s.height||C.height||c,p.push(b),u>h)return p}}else for(var w=m?"next":"previous";t&&u<h;){var y=D.getRowNode(t);y&&(p.push(y.item),u+=t.offsetHeight,t=t[w+"ElementSibling"])}return p})(I,c,f,x,r<h?-l:l);10<l&&t.length!==p.length&&(p=t,e.ctrlKey?t.forEach(e=>{D.handleBatchSelectRows([e],-1===u.indexOf(e))}):(D.setAllCheckboxRow(!1),D.handleCheckedCheckboxRow(t,!0,!1)),y("change",e))},E=()=>{clearTimeout(b),b=null},R=a=>{E(),b=setTimeout(()=>{var e,t,r,l,o;b&&({scrollLeft:e,scrollTop:t,clientHeight:r,scrollHeight:l}=S,o=Math.ceil(50*w/n),C?t+r<l?(D.scrollTo(e,t+o),R(a),T(a)):E():t?(D.scrollTo(e,t-o),R(a),T(a)):E())},50)};Il(t,"drag--range"),document.onmousemove=e=>{e.preventDefault(),e.stopPropagation();var t=e.clientY,r=br(S).boundingTop;t<r?(C=!1,w=r-t,b||R(e)):t>r+S.clientHeight?(C=!0,w=t-r-S.clientHeight,b||R(e)):b&&E(),T(e)},document.onmouseup=e=>{E(),Sl(t,"drag--range"),d.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,y("end",e)},y("start",e)}}};let p=(e,t,r,l,o,a)=>{var{afterFullData:n,visibleColumn:i}=F;let s=Object.assign({},t);var t=D.getVTRowIndex(s.row),d=D.getVTColumnIndex(s.column);return e.preventDefault(),l&&0<t?(s.rowIndex=t-1,s.row=n[s.rowIndex]):a&&t<n.length-1?(s.rowIndex=t+1,s.row=n[s.rowIndex]):r&&d?(s.columnIndex=d-1,s.column=i[s.columnIndex]):o&&d<i.length-1&&(s.columnIndex=d+1,s.column=i[s.columnIndex]),D.scrollToRow(s.row,s.column).then(()=>{s.cell=D.getCellElement(s.row,s.column),D.handleSelected(s,e)}),s};return{moveTabSelected(e,t,r){var l=M.editConfig,{afterFullData:o,visibleColumn:a}=F,n=g.value,i=A.value,s=x.value,d=f.value,c=b.value;let u,p,h,m=Object.assign({},e);var e=D.getVTRowIndex(m.row),v=D.getVTColumnIndex(m.column),t=(r.preventDefault(),t?v<=0?0<e&&(p=e-1,u=o[p],h=a.length-1):h=v-1:v>=a.length-1?e<o.length-1&&(p=e+1,u=o[p],h=0):h=v+1,a[h]);t&&(u?(m.rowIndex=p,m.row=u):m.rowIndex=e,m.columnIndex=h,m.column=t,m.cell=D.getCellElement(m.row,m.column),i.isCurrent&&s.isFollowSelected&&D.triggerCurrentRowEvent(r,m),d.isCurrent&&c.isFollowSelected&&D.triggerCurrentColumnEvent(r,m),l?"click"!==n.trigger&&"dblclick"!==n.trigger||("row"===n.mode?D.handleEdit(m,r):D.scrollToRow(m.row,m.column).then(()=>{D.handleSelected(m,r)})):D.scrollToRow(m.row,m.column).then(()=>{D.handleSelected(m,r)}))},moveCurrentRow(e,t,r){var l=M.treeConfig;let o=k.currentRow;var a=F.afterFullData,n=c.value,n=n.children||n.childrenField;let i;if(o?l?({index:l,items:n}=bl().findTree(a,e=>e===o,{children:n}),e&&0<l?i=n[l-1]:t&&l<n.length-1&&(i=n[l+1])):(n=D.getVTRowIndex(o),e&&0<n?i=a[n-1]:t&&n<a.length-1&&(i=a[n+1])):i=a[0],i){r.preventDefault();let e={$table:D,row:i,rowIndex:D.getRowIndex(i),$rowIndex:D.getVMRowIndex(i)};D.scrollToRow(i).then(()=>D.triggerCurrentRowEvent(r,e))}},moveCurrentColumn(e,t,r){var l=k.currentColumn,o=F.visibleColumn;let a=null;if(l?(l=D.getVTColumnIndex(l),e&&0<l?a=o[l-1]:t&&l<o.length-1&&(a=o[l+1])):a=o[0],a){r.preventDefault();let e={$table:D,column:a,columnIndex:D.getColumnIndex(a),$columnIndex:D.getVMColumnIndex(a)};D.scrollToColumn(a).then(()=>D.triggerCurrentColumnEvent(r,e))}},moveArrowSelected(e,t,r,l,o,a){var{highlightCurrentRow:n,highlightCurrentColumn:i}=M,s=A.value,d=x.value,c=f.value,u=b.value,e=p(a,e,t,r,l,o);(s.isCurrent||n)&&(d.isFollowSelected?D.triggerCurrentRowEvent(a,e):(r||o)&&(s.isCurrent||n)&&D.moveCurrentRow(r,o,a)),(c.isCurrent||i)&&(u.isFollowSelected?D.triggerCurrentColumnEvent(a,e):(t||l)&&(c.isCurrent||i)&&D.moveCurrentColumn(t,l,a))},moveEnterSelected(e,t,r,l,o,a){var{highlightCurrentRow:n,highlightCurrentColumn:i}=M,s=A.value,d=x.value,c=f.value,u=b.value,e=p(a,e,t,r,l,o);(s.isCurrent||n)&&d.isFollowSelected&&D.triggerCurrentRowEvent(a,e),(c.isCurrent||i)&&u.isFollowSelected&&D.triggerCurrentColumnEvent(a,e)},moveSelected(e,t,r,l,o,a){p(a,e,t,r,l,o)},handleCellMousedownEvent:(e,t)=>{var{editConfig:r,checkboxConfig:l,mouseConfig:o}=M,a=s.value,n=d.value,i=g.value;if(o&&n.area&&D.triggerCellAreaMousedownEvent)return D.triggerCellAreaMousedownEvent(e,t);l&&a.range&&u(e,t),o&&n.selected&&(r&&"cell"!==i.mode||D.handleSelected(t,e))}}}}),xl.VxeUI);class qo{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.max,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return wl(this.$options.content||this.$options.message)}get message(){return this.content}}let it=["fullValidate","validate","fullValidateField","validateField","clearValidate"],st=(nt.add("tableValidatorModule",{setupTable(v){let{props:g,reactData:f,internalData:x}=v,p=v.getRefMaps().refValidTooltip,{computeValidOpts:b,computeTreeOpts:C,computeEditOpts:l}=v.getComputeMaps(),w={},y={},T,r=(e,r,n,a)=>{let i={},{editRules:s,treeConfig:l}=g,{afterFullData:t,pendingRowMaps:d,removeRowMaps:c}=x;var o=C.value,o=o.children||o.childrenField;let u=b.value,p,h=(!0===e?p=t:e&&(bl().isFunction(e)?n=e:p=bl().isArray(e)?e:[e]),p=p||(v.getInsertRecords?v.getInsertRecords().concat(v.getUpdateRecords()):[]),[]),m=(x._lastCallTime=Date.now(),T=!1,w.clearValidate(),{});if(s){let t=r&&r.length?r:v.getColumns();e=o=>{var e=Ol(v,o);if(!c[e]&&!d[e]&&(a||!T)){let e=[];t.forEach(r=>{let l=bl().isString(r)?r:r.field;!a&&T||!bl().has(s,l)||e.push(y.validCellRules("all",o,r).catch(({rule:e,rules:t})=>{t={rule:e,rules:t,rowIndex:v.getRowIndex(o),row:o,columnIndex:v.getColumnIndex(r),column:r,field:l,$table:v};if(i[l]||(i[l]=[]),m[Ol(v,o)+":"+r.id]={column:r,row:o,rule:e,content:e.content},i[l].push(t),!a)return T=!0,Promise.reject(t)}))}),h.push(Promise.all(e))}};return l?bl().eachTree(p,e,{children:o}):p.forEach(e),Promise.all(h).then(()=>{let e=Object.keys(i);var t,r,l;return f.validErrorMaps=(t=m,"single"===b.value.msgMode?(r={},(l=Object.keys(t)).length&&(r[l=l[0]]=t[l]),r):t),(0,El.nextTick)().then(()=>{if(e.length)return Promise.reject(i[e[0]][0]);n&&n()})}).catch(a=>new Promise((e,t)=>{let r=()=>{(0,El.nextTick)(()=>{n?(n(i),e()):("obsolete"===ot().validToReject?t:e)(i)})};var l,o=()=>{var e,t;a.cell=v.getCellElement(a.row,a.column),(e=a.cell)&&(e[ee]?e[ee]():e[te]&&e[te]()),t=a,new Promise(e=>{!1===b.value.autoPos?(v.dispatchEvent("valid-error",t,null),e()):v.handleEdit(t,{type:"valid-error",trigger:"call"}).then(()=>{e(y.showValidTooltip(t))})}).then(r)};!1===u.autoPos?r():(l=a.row,v.scrollToRow(l,a.column).then(o))}))}return f.validErrorMaps={},(0,El.nextTick)().then(()=>{n&&n()})},E=(w={fullValidate(e,t){return bl().isFunction(t)&&el("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),r(e,null,t,!0)},validate(e,t){return r(e,null,t)},fullValidateField(e,t){t=(bl().isArray(t)?t:t?[t]:[]).map(e=>rl(v,e));return t.length?r(e,t,null,!0):(0,El.nextTick)()},validateField(e,t){t=(bl().isArray(t)?t:t?[t]:[]).map(e=>rl(v,e));return t.length?r(e,t,null):(0,El.nextTick)()},clearValidate(e,t){var l=f.validErrorMaps,r=p.value,o=b.value,e=bl().isArray(e)?e:e?[e]:[];let a=(bl().isArray(t)?t:t?[t]:[]).map(e=>rl(v,e)),n={};if(r&&r.reactData.visible&&r.close(),"single"===o.msgMode)f.validErrorMaps={};else{if(e.length&&a.length)n=Object.assign({},l),e.forEach(t=>{a.forEach(e=>{e=Ol(v,t)+":"+e.id;n[e]&&delete n[e]})});else if(e.length){let r=e.map(e=>""+Ol(v,e));bl().each(l,(e,t)=>{-1<r.indexOf(t.split(":")[0])&&(n[t]=e)})}else if(a.length){let r=a.map(e=>""+e.id);bl().each(l,(e,t)=>{-1<r.indexOf(t.split(":")[1])&&(n[t]=e)})}f.validErrorMaps=n}return(0,El.nextTick)()}},(e,t)=>{var{type:e,min:r,max:l,pattern:o}=e,e="number"===e,a=e?bl().toNumber(t):bl().getSize(t);return!(!e||!isNaN(t))||!bl().eqNull(r)&&a<bl().toNumber(r)||!bl().eqNull(l)&&a>bl().toNumber(l)||!(!o||(bl().isRegExp(o)?o:new RegExp(o)).test(t))});return y={validCellRules(e,c,u,t){let p=v.xeGrid;var r=g.editRules,l=u.field;let h=[],m=[];if(l&&r){let d=bl().get(r,l);if(d){let s=bl().isUndefined(t)?bl().get(c,l):t;d.forEach(t=>{let{type:r,trigger:l,required:o,validator:a}=t;if("all"===e||!l||e===l)if(a){var n={cellValue:s,rule:t,rules:d,row:c,rowIndex:v.getRowIndex(c),column:u,columnIndex:v.getColumnIndex(u),field:u.field,$table:v,$grid:p};let e;bl().isString(a)?(i=at.get(a))?(i=i.tableCellValidatorMethod||i.cellValidatorMethod)?e=i(n):el("vxe.error.notValidators",[a]):tl("vxe.error.notValidators",[a]):e=a(n),e&&(bl().isError(e)?(T=!0,h.push(new qo({type:"custom",trigger:l,content:e.message,rule:new qo(t)}))):e.catch&&m.push(e.catch(e=>{T=!0,h.push(new qo({type:"custom",trigger:l,content:e&&e.message?e.message:t.content||t.message,rule:new qo(t)}))})))}else{var i="array"===r,n=bl().isArray(s);let e=!0;e=i||n?!n||!s.length:bl().isString(s)?Tl(s.trim()):Tl(s),(o?e||E(t,s):!e&&E(t,s))&&(T=!0,h.push(new qo(t)))}})}}return Promise.all(m).then(()=>{var e;if(h.length)return e={rules:h,rule:h[0]},Promise.reject(e)})},hasCellRules(t,e,r){var l=g.editRules,r=r.field;return!(!r||!l)&&(l=bl().get(l,r))&&!!bl().find(l,e=>"all"===t||!e.trigger||t===e.trigger)},triggerValidate(o){var{editConfig:e,editRules:t}=g,a=f.editStore,a=a.actived;let n=l.value;var r=b.value;if(t&&"single"===r.msgMode&&(f.validErrorMaps={}),e&&t&&a.row){let{row:t,column:r,cell:l}=a.args;if(y.hasCellRules(o,t,r))return y.validCellRules(o,t,r).then(()=>{"row"===n.mode&&w.clearValidate(t,r)}).catch(({rule:e})=>e.trigger&&o!==e.trigger?Promise.resolve():(e={rule:e,row:t,column:r,cell:l},y.showValidTooltip(e),Promise.reject(e)))}return Promise.resolve()},showValidTooltip(e){var t=g.height,{tableData:r,validStore:l,validErrorMaps:o}=f,{rule:a,row:n,column:i,cell:s}=e,d=b.value,c=p.value,u=a.content;return l.visible=!0,"single"===d.msgMode?f.validErrorMaps={[Ol(v,n)+":"+i.id]:{column:i,row:n,rule:a,content:u}}:f.validErrorMaps=Object.assign({},o,{[Ol(v,n)+":"+i.id]:{column:i,row:n,rule:a,content:u}}),v.dispatchEvent("valid-error",e,null),c&&("tooltip"===d.message||"default"===d.message&&!t&&r.length<2)?c.open(s,u):(0,El.nextTick)()}},{...w,...y}},setupGrid(e){return e.extendTableMethods(it)}}),["openCustom","closeCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"]),{getConfig:dt,renderer:ct,getI18n:ht,getComponent:mt}=(xl.VxeUI.hooks.add("tableCustomModule",{setupTable(d){let{reactData:u,internalData:o}=d,p=d.getComputeMaps().computeCustomOpts,l=d.getRefMaps().refElem,r=d.xeGrid,a=()=>{var e=u.customStore,t=l.value;let r=0;t&&(r=t.clientHeight-28),e.maxHeight=Math.max(88,r)},n=()=>{var{initStore:e,customStore:t}=u;return t.visible=!0,e.custom=!0,i(),c(),a(),(0,El.nextTick)().then(()=>a())},i=()=>{var e=u.customStore,t=o.collectColumn;if(e.visible){let r={},l={},o={};bl().eachTree(t,e=>{var t=e.getKey();e.renderFixed=e.fixed,e.renderVisible=e.visible,e.renderResizeWidth=e.renderWidth,r[t]=e.renderSortNumber,l[t]=e.fixed,o[t]=e.visible}),e.oldSortMaps=r,e.oldFixedMaps=l,e.oldVisibleMaps=o,u.customColumnList=t.slice(0)}},s=()=>{var e=u.customStore,t=p.value;return e.visible&&(e.visible=!1,t.immediate||d.handleCustom()),(0,El.nextTick)()};let t=e=>{var t=u.customStore,r=u.customColumnList,l=p.value;let{checkMethod:o,visibleMethod:a}=l,n=!!e;return l.immediate?(bl().eachTree(r,e=>{a&&!a({column:e})||o&&!o({column:e})||(e.visible=n,e.renderVisible=n,e.halfVisible=!1)}),t.isAll=n,u.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:visible")):(bl().eachTree(r,e=>{a&&!a({column:e})||o&&!o({column:e})||(e.renderVisible=n,e.halfVisible=!1)}),t.isAll=n),d.checkCustomStatus(),(0,El.nextTick)()};var e={openCustom:n,closeCustom:s,saveCustom:()=>{var e=u.customColumnList;let{allowVisible:a,allowSort:n,allowFixed:i,allowResizable:s}=p.value;return bl().eachTree(e,(e,t,r,l,o)=>{o?e.fixed=o.fixed:(n&&(e.renderSortNumber=t+1),i&&(e.fixed=e.renderFixed)),s&&e.renderVisible&&(!e.children||e.children.length)&&e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth),a&&(e.visible=e.renderVisible)}),u.isCustomStatus=!0,u.isDragColMove=!0,setTimeout(()=>{u.isDragColMove=!1},1e3),d.saveCustomStore("confirm")},cancelCustom:()=>{var{customColumnList:e,customStore:t}=u;let{oldSortMaps:o,oldFixedMaps:a,oldVisibleMaps:n}=t,{allowVisible:i,allowSort:s,allowFixed:d,allowResizable:c}=p.value;return bl().eachTree(e,e=>{var t=e.getKey(),r=!!n[t],l=a[t]||"";i&&(e.renderVisible=r,e.visible=r),d&&(e.renderFixed=l,e.fixed=l),s&&(e.renderSortNumber=o[t]||0),c&&(e.renderResizeWidth=e.renderWidth)},{children:"children"}),(0,El.nextTick)()},resetCustom(e){var t=o.collectColumn;let r=p.value.checkMethod,l=Object.assign({visible:!0,resizable:!0===e,fixed:!0===e,sort:!0===e},e);return bl().eachTree(t,e=>{l.resizable&&(e.resizeWidth=0),l.fixed&&(e.fixed=e.defaultFixed),l.sort&&(e.renderSortNumber=e.sortNumber),r&&!r({column:e})||(e.visible=e.defaultVisible),e.renderResizeWidth=e.renderWidth}),u.isCustomStatus=!1,d.saveCustomStore("reset"),d.handleCustom()},toggleCustomAllCheckbox(){var e=u.customStore,e=!e.isAll;return t(e)},setCustomAllCheckbox:t};let c=()=>{var e=u.customStore,t=o.collectColumn;let r=p.value.checkMethod;e.isAll=t.every(e=>!!r&&!r({column:e})||e.renderVisible),e.isIndeterminate=!e.isAll&&t.some(e=>(!r||r({column:e}))&&(e.renderVisible||e.halfVisible))},h=(e,t)=>{(r||d).dispatchEvent("custom",{type:e},t)};var m={checkCustomStatus:c,emitCustomEvent:h,triggerCustomEvent(e){var t=d.reactData.customStore;t.visible?(s(),h("close",e)):(t.btnEl=e.target,n(),h("open",e))},customOpenEvent(e){var t=u.customStore;t.visible||(t.activeBtn=!0,t.btnEl=e.target,d.openCustom(),d.emitCustomEvent("open",e))},customCloseEvent(e){var t=u.customStore;t.visible&&(t.activeBtn=!1,d.closeCustom(),d.emitCustomEvent("close",e))},handleUpdateCustomColumn:i};return{...e,...m}},setupGrid(e){return e.extendTableMethods(st)}}),xl.VxeUI),vt="modelValue",gt={};function Ot(e,t,r){return bl().eqNull(e)?bl().eqNull(t)?r:t:e}function po(e,t,r){var{dateConfig:l={}}=t;return bl().toDateString((t=t,(e=e)&&t.valueFormat?bl().toStringDate(e,t.valueFormat):e),l.labelFormat||r)}function ho(e,t){return po(e,t,ht("vxe.input.date.labelFormat."+(t.type||"date")))}function At({name:e}){return mt(e)}function mo({name:e}){return(0,El.resolveComponent)("vxe-"+e.replace("$",""))}function vo(e,t,r){e=e.$panel;e.changeOption({},t,r)}function go(e){let{name:t,attrs:r}=e;return r="input"===t?Object.assign({type:"text"},r):r}function fo(e){var{name:e,immediate:t,props:r}=e;return t||("VxeInput"===e||"$input"===e?(t=(r||{}).type,!(!t||"text"===t||"number"===t||"integer"===t||"float"===t)):"input"!==e&&"textarea"!==e&&"$textarea"!==e)}function Lt(e,t,r,l){return bl().assign({immediate:fo(e)},gt,l,e.props,{[vt]:r})}function xo(e,t,r,l){return bl().assign({},gt,l,e.props,{[vt]:r})}function bo(e,t){return"cell"===t.$type||fo(e)}function Vt(e,t,r,l){e=e.placeholder;return[(0,El.h)("span",{class:["vxe-cell--label",l?l.class:""]},e&&pr(r)?[(0,El.h)("span",{class:"vxe-cell--placeholder"},yl(wl(e),1))]:yl(r,1))]}function Co(e,r,t){let l=e.events,o=Or(e),a=Ar(e),{model:n,change:i,blur:s}=t||{},d=a===o,c={};return l&&bl().objectEach(l,(t,e)=>{c[St(e)]=function(...e){t(r,...e)}}),n&&(c[St(o)]=function(e){n(e),d&&i&&i(e),l&&l[o]&&l[o](r,e)}),!d&&i&&(c[St(a)]=function(e){i(e),l&&l[a]&&l[a](r,e)}),s&&(c[St(h)]=function(e){s(e),l&&l[h]&&l[h](r,e)}),c}let h="blur";function wo(e,r,t){let l=e.events,o=Or(e),a=Ar(e),{model:n,change:i,blur:s}=t||{},d={};return bl().objectEach(l,(t,e)=>{d[St(e)]=function(...e){bl().isFunction(t)||tl("vxe.error.errFunc",[t]),t(r,...e)}}),n&&(d[St(o)]=function(e){n(e),l&&l[o]&&l[o](r,e)}),i&&(d[St(a)]=function(...e){i(...e),l&&l[a]&&l[a](r,...e)}),s&&(d[St(h)]=function(...e){s(...e),l&&l[h]&&l[h](r,...e)}),d}function Ht(e,t){let{$table:r,row:l,column:o}=t,a=e.name,n=o.model,i=bo(e,t);return wo(e,t,{model(e){n.update=!0,n.value=e,i&&Vl(l,o,e)},change(e){!i&&a&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(a)?(e=e.value,n.update=!0,n.value=e,r.updateStatus(t,e)):r.updateStatus(t)},blur(){i?r.handleCellRuleUpdateStatus("blur",t):r.handleCellRuleUpdateStatus("blur",t,n.value)}})}function yo(e,t,r){return wo(e,t,{model(e){r.data=e},change(){vo(t,!bl().eqNull(r.data),r)},blur(){vo(t,!bl().eqNull(r.data),r)}})}function To(t,r){let{$table:l,row:o,column:a}=r,n=a.model;return Co(t,r,{model(e){var e=e.target;e&&(e=e.value,bo(t,r)?Vl(o,a,e):(n.update=!0,n.value=e))},change(e){var e=e.target;e&&(e=e.value,l.updateStatus(r,e))},blur(e){var e=e.target;e&&(e=e.value,l.updateStatus(r,e))}})}function Eo(e,t,r){return Co(e,t,{model(e){e=e.target;e&&(r.data=e.value)},change(){vo(t,!bl().eqNull(r.data),r)},blur(){vo(t,!bl().eqNull(r.data),r)}})}function Ro(e,t){var{row:r,column:l}=t,o=e.name,r=bo(e,t)?Ll(r,l):l.model.value;return[(0,El.h)(o,{class:"vxe-default-"+o,...go(e),value:r,...To(e,t)})]}function $t(e,t){var{row:r,column:l}=t,r=Ll(r,l);return[(0,El.h)(At(e),{...Lt(e,0,r),...Ht(e,t)})]}function So(e,t){var r=e.options,{row:l,column:o}=t,l=Ll(l,o);return[(0,El.h)(At(e),{options:r,...Lt(e,0,l),...Ht(e,t)})]}function Io(e,t){var{row:r,column:l}=t,r=Ll(r,l);return[(0,El.h)(mo(e),{...Lt(e,0,r),...Ht(e,t)})]}function Do(e,t){return[(0,El.h)(mt("vxe-button"),{...Lt(e,0,null),...wo(e,t)})]}function Mo(r,l,o){var{optionGroups:e,optionGroupProps:t={}}=r;let a=t.options||"options",n=t.label||"label";return e.map((e,t)=>(0,El.h)("optgroup",{key:t,label:e[n]},o(e[a],r,l)))}function ko(e,t,r){var{optionProps:l={}}=t,{row:o,column:a}=r;let n=l.label||"label",i=l.value||"value",s=l.disabled||"disabled",d=bo(t,r)?Ll(o,a):a.model.value;return e.map((e,t)=>(0,El.h)("option",{key:t,value:e[i],disabled:e[s],selected:e[i]==d},e[n]))}function Fo(l,o){var e=o.column;return e.filters.map((e,t)=>{var r=e.data;return(0,El.h)(At(l),{key:t,...xo(l,0,r),...yo(l,o,e)})})}function Oo({option:e,row:t,column:r}){e=e.data;return bl().get(t,r.field)==e}function Ao({option:e,row:t,column:r}){e=e.data,t=bl().get(t,r.field);return-1<bl().toValueString(t).indexOf(e)}function Lo(e,t){return[(0,El.h)("select",{class:"vxe-default-select",...go(e),...To(e,t)},e.optionGroups?Mo(e,t,ko):ko(e.options,e,t))]}function Vo(e,t){var{row:r,column:l}=t,{options:o,optionProps:a,optionGroups:n,optionGroupProps:i}=e,r=Ll(r,l);return[(0,El.h)(At(e),{...Lt(e,0,r,{options:o,optionProps:a,optionGroups:n,optionGroupProps:i}),...Ht(e,t)})]}function Ho(e,t){var{row:r,column:l}=t,{options:o,optionProps:a}=e,r=Ll(r,l);return[(0,El.h)(At(e),{...Lt(e,0,r,{options:o,optionProps:a}),...Ht(e,t)})]}function $o(e,t){var{row:r,column:l}=t,{options:o,optionProps:a,optionGroups:n,optionGroupProps:i}=e,r=Ll(r,l);return[(0,El.h)(mo(e),{...Lt(e,0,r,{options:o,optionProps:a,optionGroups:n,optionGroupProps:i}),...Ht(e,t)})]}function _o(e,{row:t,column:r}){let{options:l,optionGroups:o,optionProps:a={},optionGroupProps:n={}}=e;e=bl().get(t,r.field);let i,s=a.label||"label",d=a.value||"value";return null!=e?bl().map(bl().isArray(e)?e:[e],o?t=>{var r=n.options||"options";for(let e=0;e<o.length&&!(i=bl().find(o[e][r],e=>e[d]==t));e++);return i?i[s]:t}:t=>(i=bl().find(l,e=>e[d]==t))?i[s]:t).join(", "):""}function Bo(e){var{row:t,column:r,options:l}=e;return l.original?Ll(t,r):_o(r.editRender||r.cellRender,e)}function No(e,{row:r,column:l}){var{options:e,optionProps:t={}}=e,r=bl().get(r,l.field);let o=t.label||"label",a=t.value||"value";l=t.children||"children";if(null==r)return"";{let t={};return bl().eachTree(e,e=>{t[bl().get(e,a)]=e},{children:l}),bl().map(bl().isArray(r)?r:[r],e=>{e=t[e];return e&&bl().get(e,o)}).join(", ")}}function Po(e){var{row:t,column:r,options:l}=e;return l.original?Ll(t,r):No(r.editRender||r.cellRender,e)}function zo(e,t){var r,{props:l={},showNegativeStatus:o}=e,{row:t,column:a}=t,n=l.type;let i=bl().get(t,a.field),s=!1;return pr(i)||(t=dt().numberInput||{},"float"===n?(a=Ot(l.autoFill,t.autoFill,!0),r=Ot(l.digits,t.digits,1),i=bl().toFixed(bl().floor(i,r),r),a||(i=bl().toNumber(i)),o&&i<0&&(s=!0)):"amount"===n?(r=Ot(l.autoFill,t.autoFill,!0),a=Ot(l.digits,t.digits,2),n=Ot(l.showCurrency,t.showCurrency,!1),i=bl().toNumber(i),o&&i<0&&(s=!0),i=bl().commafy(i,{digits:a}),r||([a,r]=i.split("."),r&&(r=r.replace(/0+$/,""),i=r?[a,".",r].join(""):a)),n&&(i=""+(l.currencySymbol||t.currencySymbol||ht("vxe.numberInput.currencySymbol")||"")+i)):o&&bl().toNumber(i)<0&&(s=!0)),Vt(e,0,i,s?{class:"is--negative"}:{})}ct.mixin({input:{tableAutoFocus:"input",renderTableEdit:Ro,renderTableDefault:Ro,renderTableFilter:function(r,l){var e=l.column;let o=r.name,a=go(r);return e.filters.map((e,t)=>(0,El.h)(o,{key:t,class:"vxe-default-"+o,...a,value:e.data,...Eo(r,l,e)}))},tableFilterDefaultMethod:Ao},textarea:{tableAutoFocus:"textarea",renderTableEdit:Ro},select:{renderTableEdit:Lo,renderTableDefault:Lo,renderTableCell(e,t){return Vt(e,0,_o(e,t))},renderTableFilter(r,l){var e=l.column;return e.filters.map((e,t)=>(0,El.h)("select",{key:t,class:"vxe-default-select",...go(r),...Eo(r,l,e)},r.optionGroups?Mo(r,l,ko):ko(r.options,r,l)))},tableFilterDefaultMethod:Oo,tableExportMethod:Bo},VxeInput:{tableAutoFocus:"input",renderTableEdit:$t,renderTableCell(e,t){var{props:r={}}=e,{row:t,column:l}=t,o=dt().input||{},a=r.digits||o.digits||2;let n=bl().get(t,l.field);if(n)switch(r.type){case"date":case"week":case"month":case"quarter":case"year":n=ho(n,r);break;case"float":n=bl().toFixed(bl().floor(n,a),a)}return Vt(e,0,n)},renderTableDefault:$t,renderTableFilter:Fo,tableFilterDefaultMethod:Ao},FormatNumberInput:{renderTableDefault:zo,tableFilterDefaultMethod:Ao,tableExportMethod(e){var{row:e,column:t}=e;return bl().get(e,t.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:$t,renderTableCell:zo,renderTableFooter(t,r){var{props:t={}}=t,{row:r,column:l,_columnIndex:o}=r,a=t.type,o=bl().isArray(r)?r[o]:bl().get(r,l.field);if(bl().isNumber(o)){r=dt().numberInput||{};if("float"===a){var l=Ot(t.autoFill,r.autoFill,!0),n=Ot(t.digits,r.digits,1);let e=bl().toFixed(bl().floor(o,n),n);return e=l?e:bl().toNumber(e)}if("amount"===a){var n=Ot(t.autoFill,r.autoFill,!0),l=Ot(t.digits,r.digits,2),a=Ot(t.showCurrency,r.showCurrency,!1);let e=bl().commafy(bl().toNumber(o),{digits:l});return n||([l,n]=e.split("."),n&&(n=n.replace(/0+$/,""),e=n?[l,".",n].join(""):l)),e=a?""+(t.currencySymbol||r.currencySymbol||ht("vxe.numberInput.currencySymbol")||"")+e:e}}return wl(o,1)},renderTableDefault:$t,renderTableFilter:Fo,tableFilterDefaultMethod:Ao,tableExportMethod(e){var{row:e,column:t}=e;return bl().get(e,t.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:$t,renderTableCell(e,t){var{props:r={}}=e,{row:t,column:l}=t;let o=bl().get(t,l.field);return Vt(e,0,o=o&&"time"!==r.type?ho(o,r):o)},renderTableDefault:$t,renderTableFilter:Fo,tableFilterDefaultMethod:Oo},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:$t,renderTableCell(e,t){var{row:t,column:r}=t;return Vt(e,0,bl().get(t,r.field))}},VxeButton:{renderTableDefault:function(e,t){return[(0,El.h)(At(e),{...Lt(e,0,null),...wo(e,t)})]}},VxeButtonGroup:{renderTableDefault(e,t){var r=e.options;return[(0,El.h)(At(e),{options:r,...Lt(e,0,null),...wo(e,t)})]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:Vo,renderTableDefault:Vo,renderTableCell(e,t){return Vt(e,0,_o(e,t))},renderTableFilter(l,o){var e=o.column;let{options:a,optionProps:n,optionGroups:i,optionGroupProps:s}=l;return e.filters.map((e,t)=>{var r=e.data;return(0,El.h)(At(l),{key:t,...xo(l,0,r,{options:a,optionProps:n,optionGroups:i,optionGroupProps:s}),...yo(l,o,e)})})},tableFilterDefaultMethod:Oo,tableExportMethod:Bo},formatOption:{renderTableDefault(e,t){return Vt(e,0,_o(e,t))}},FormatSelect:{renderTableDefault(e,t){return Vt(e,0,_o(e,t))},tableFilterDefaultMethod:Oo,tableExportMethod:Bo},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:Ho,renderTableCell(e,t){return Vt(e,0,No(e,t))},tableExportMethod:Po},formatTree:{renderTableDefault(e,t){return Vt(e,0,No(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return Vt(e,0,No(e,t))},tableExportMethod:Po},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:Ho,renderTableCell(e,t){return Vt(e,0,No(e,t))},tableExportMethod:Po},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){var{row:r,column:l}=t,o=e.options,r=Ll(r,l);return[(0,El.h)(At(e),{...Lt(e,0,r,{colors:o}),...Ht(e,t)})]},renderTableCell(e,t){var{row:t,column:r}=t,t=bl().get(t,r.field);return(0,El.h)("span",{class:"vxe-color-picker--readonly"},[(0,El.h)("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:t}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){var{row:r,column:l}=t,o=e.options,r=Ll(r,l);return[(0,El.h)(At(e),{...Lt(e,0,r,{icons:o}),...Ht(e,t)})]},renderTableCell(e,t){var{row:t,column:r}=t,t=bl().get(t,r.field);return(0,El.h)("i",{class:t})}},VxeRadioGroup:{renderTableDefault:So},VxeCheckboxGroup:{renderTableDefault:So},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:$t,renderTableDefault:$t},VxeUpload:{renderTableEdit:$t,renderTableCell:$t,renderTableDefault:$t},VxeImage:{renderTableDefault(e,t){var{row:r,column:l}=t,o=e.props,r=Ll(r,l);return[(0,El.h)(At(e),{...o,src:r,...Ht(e,t)})]}},VxeImageGroup:{renderTableDefault(e,t){var{row:r,column:l}=t,o=e.props,r=Ll(r,l);return[(0,El.h)(At(e),{...o,urlList:r,...Ht(e,t)})]}},VxeTextEllipsis:{renderTableDefault(e,t){var{row:r,column:l}=t,o=e.props,r=Ll(r,l);return[(0,El.h)(At(e),{...o,content:r,...Ht(e,t)})]}},VxeRate:{renderTableDefault:$t},VxeSlider:{renderTableDefault:$t},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Io,renderTableCell(e,t){var{props:r={}}=e,{row:t,column:l}=t,o=r.digits||dt().input?.digits||2;let a=bl().get(t,l.field);if(a)switch(r.type){case"date":case"week":case"month":case"year":a=ho(a,r);break;case"float":a=bl().toFixed(bl().floor(a,o),o)}return Vt(e,0,a)},renderTableDefault:Io,renderTableFilter:function(l,o){return o.column.filters.map((e,t)=>{var r=e.data;return(0,El.h)(mo(l),{key:t,...xo(l,0,r),...yo(l,o,e)})})},tableFilterDefaultMethod:Ao},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:Do},$buttons:{renderTableDefault:function(e,t){return e.children.map(e=>Do(e,t)[0])}},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:$o,renderTableDefault:$o,renderTableCell(e,t){return Vt(e,0,_o(e,t))},renderTableFilter(l,o){var e=o.column;let{options:a,optionProps:n,optionGroups:i,optionGroupProps:s}=l;return e.filters.map((e,t)=>{var r=e.data;return(0,El.h)(mo(l),{key:t,...xo(l,0,r,{options:a,optionProps:n,optionGroups:i,optionGroupProps:s}),...yo(l,o,e)})})},tableFilterDefaultMethod:Oo,tableExportMethod:Bo},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:Io,renderTableDefault:Io}});let ft=Object.assign({},Pr,{install(e){e.component(Pr.name,Pr)}}),xt=(mr={useCellView:function(l){var e=(0,El.computed)(()=>{var e=l.renderParams;return e.column}),t=(0,El.computed)(()=>{var e=l.renderParams;return e.row}),r=(0,El.computed)(()=>{var e=l.renderOpts;return e.props||{}});return{currColumn:e,currRow:t,cellModel:(0,El.computed)({get(){var e=l.renderParams,{row:e,column:t}=e;return bl().get(e,t.field)},set(e){var t=l.renderParams,{row:t,column:r}=t;return bl().set(t,r.field,e)}}),cellOptions:r}}},xl.VxeUI.dynamicApp&&xl.VxeUI.dynamicApp.component(Pr.name,Pr),xl.VxeUI.component(Pr),xl.VxeUI.tableHandle=mr,ft),bt=Object.assign({},zr,{install(e){e.component(zr.name,zr)}}),Ct=(xl.VxeUI.dynamicApp&&xl.VxeUI.dynamicApp.component(zr.name,zr),xl.VxeUI.component(zr),bt),wt=[r,l,$e,ft,bt];function jo(t,e){xl.VxeUI.setConfig(e),wt.forEach(e=>e.install(t))}xl.VxeUI.hasLanguage("zh-CN")||(xl.VxeUI.setI18n("zh-CN",{vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}}),xl.VxeUI.setLanguage("zh-CN")),xl.VxeUI.setTheme("light"),"undefined"!=typeof window&&window.Vue&&!window.VXETable&&(window.VXETable=Ut);var Uo=Ut;return jt}});